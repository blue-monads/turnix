import{s as $,U as D,W as N,b as v,f as c,m as s,i as y,h as g,n as U,a1 as de,x as te,e as M,a as O,c as H,w as Le,g as q,Z as Ae,$ as De,v as Ee,t as ie,d as ne,y as Q,R as Ne,J as Be,j as re,B as Ve,ak as Te}from"./scheduler.Dy-hT7lj.js";import{S as G,i as J,c as R,b as W,m as P,g as X,a as T,e as Z,d as x,t as E}from"./index.jcCBAMyh.js";import{e as le}from"./each.D6YF6ztN.js";import{S as ae}from"./SvgIcon.D5ofxCQw.js";import"./ProgressBar.svelte_svelte_type_style_lang.DUTEVMI9.js";import{L as Ce}from"./loader.DwCv7VNw.js";import{g as me}from"./entry.Cp0zZRwk.js";function Ue(n){let e,l,t;return{c(){e=D("svg"),l=D("path"),t=D("path"),this.h()},l(i){e=N(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var r=v(e);l=N(r,"path",{d:!0}),v(l).forEach(c),t=N(r,"path",{d:!0}),v(t).forEach(c),r.forEach(c),this.h()},h(){s(l,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"),s(t,"d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"width",n[0]),s(e,"height",n[1]),s(e,"fill","currentColor"),s(e,"class","text-purple-500 inline-block bi bi-image"),s(e,"viewBox","0 0 16 16")},m(i,r){y(i,e,r),g(e,l),g(e,t)},p(i,[r]){r&1&&s(e,"width",i[0]),r&2&&s(e,"height",i[1])},i:U,o:U,d(i){i&&c(e)}}}function Ie(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class Se extends G{constructor(e){super(),J(this,e,Ie,Ue,$,{width:0,height:1})}}function Fe(n){let e,l,t,i;return{c(){e=D("svg"),l=D("path"),t=D("path"),i=D("path"),this.h()},l(r){e=N(r,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var a=v(e);l=N(a,"path",{d:!0}),v(l).forEach(c),t=N(a,"path",{"fill-rule":!0,d:!0}),v(t).forEach(c),i=N(a,"path",{d:!0}),v(i).forEach(c),a.forEach(c),this.h()},h(){s(l,"d","M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"),s(t,"fill-rule","evenodd"),s(t,"d","M14 11V2h1v9h-1zM6 3v10H5V3h1z"),s(i,"d","M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"width",n[0]),s(e,"height",n[1]),s(e,"fill","currentColor"),s(e,"class","text-yellow-600 inline-block bi bi-music-note-beamed"),s(e,"viewBox","0 0 16 16")},m(r,a){y(r,e,a),g(e,l),g(e,t),g(e,i)},p(r,[a]){a&1&&s(e,"width",r[0]),a&2&&s(e,"height",r[1])},i:U,o:U,d(r){r&&c(e)}}}function Oe(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class qe extends G{constructor(e){super(),J(this,e,Oe,Fe,$,{width:0,height:1})}}function je(n){let e,l;return{c(){e=D("svg"),l=D("path"),this.h()},l(t){e=N(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var i=v(e);l=N(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){s(l,"d","M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"width",n[0]),s(e,"height",n[1]),s(e,"fill","currentColor"),s(e,"class","text-indigo-500 inline-block ltr:mr-1 rtl:ml-1 bi bi-file-earmark"),s(e,"viewBox","0 0 16 16")},m(t,i){y(t,e,i),g(e,l)},p(t,[i]){i&1&&s(e,"width",t[0]),i&2&&s(e,"height",t[1])},i:U,o:U,d(t){t&&c(e)}}}function Re(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class Pe extends G{constructor(e){super(),J(this,e,Re,je,$,{width:0,height:1})}}function Ze(n){let e,l;return{c(){e=D("svg"),l=D("path"),this.h()},l(t){e=N(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var i=v(e);l=N(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){s(l,"d","M0 12V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm6.79-6.907A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"width",n[0]),s(e,"height",n[1]),s(e,"fill","currentColor"),s(e,"class","text-red-500 inline-block bi bi-play-btn-fill"),s(e,"viewBox","0 0 16 16")},m(t,i){y(t,e,i),g(e,l)},p(t,[i]){i&1&&s(e,"width",t[0]),i&2&&s(e,"height",t[1])},i:U,o:U,d(t){t&&c(e)}}}function $e(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class Ge extends G{constructor(e){super(),J(this,e,$e,Ze,$,{width:0,height:1})}}function Je(n){let e,l,t;return{c(){e=D("svg"),l=D("path"),t=D("path"),this.h()},l(i){e=N(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var r=v(e);l=N(r,"path",{d:!0}),v(l).forEach(c),t=N(r,"path",{d:!0}),v(t).forEach(c),r.forEach(c),this.h()},h(){s(l,"d","M6.5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.109 0l-.93-.62a1 1 0 0 1-.415-1.074l.4-1.599V7.5zm2 0h-1v.938a1 1 0 0 1-.03.243l-.4 1.598.93.62.93-.62-.4-1.598a1 1 0 0 1-.03-.243V7.5z"),s(t,"d","M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm5.5-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9v1H8v1h1v1H8v1h1v1H7.5V5h-1V4h1V3h-1V2h1V1z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"width",n[0]),s(e,"height",n[1]),s(e,"fill","currentColor"),s(e,"class","inline-block bi bi-file-zip"),s(e,"viewBox","0 0 16 16")},m(i,r){y(i,e,r),g(e,l),g(e,t)},p(i,[r]){r&1&&s(e,"width",i[0]),r&2&&s(e,"height",i[1])},i:U,o:U,d(i){i&&c(e)}}}function Ke(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class We extends G{constructor(e){super(),J(this,e,Ke,Je,$,{width:0,height:1})}}function Ye(n){let e,l,t;var i=n[2][n[1]];function r(a,o){return{props:{height:a[0],width:a[0]}}}return i&&(e=de(i,r(n))),{c(){e&&R(e.$$.fragment),l=te()},l(a){e&&W(e.$$.fragment,a),l=te()},m(a,o){e&&P(e,a,o),y(a,l,o),t=!0},p(a,[o]){if(o&2&&i!==(i=a[2][a[1]])){if(e){X();const h=e;T(h.$$.fragment,1,0,()=>{Z(h,1)}),x()}i?(e=de(i,r(a)),R(e.$$.fragment),E(e.$$.fragment,1),P(e,l.parentNode,l)):e=null}else if(i){const h={};o&1&&(h.height=a[0]),o&1&&(h.width=a[0]),e.$set(h)}},i(a){t||(e&&E(e.$$.fragment,a),t=!0)},o(a){e&&T(e.$$.fragment,a),t=!1},d(a){a&&c(l),e&&Z(e,a)}}}function Qe(n,e,l){let{name:t=""}=e,{size:i}=e;const r={image:Se,video:Ge,music:qe,zip:We,other:Pe},a={mp4:"video",jpg:"image",png:"image",webp:"image",mp3:"music",zip:"zip"};let o="other";return t.includes(".")&&(o=a[t.split(".").pop()]||"other"),n.$$set=h=>{"name"in h&&l(3,t=h.name),"size"in h&&l(0,i=h.size)},[i,o,r,t]}class Xe extends G{constructor(e){super(),J(this,e,Qe,Ye,$,{name:3,size:0})}}function xe(n){let e,l;return{c(){e=D("svg"),l=D("path"),this.h()},l(t){e=N(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var i=v(e);l=N(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){s(l,"d","M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"width",n[0]),s(e,"height",n[0]),s(e,"fill","currentColor"),s(e,"class","inline-block bi bi-folder-fill"),s(e,"viewBox","0 0 16 16")},m(t,i){y(t,e,i),g(e,l)},p(t,[i]){i&1&&s(e,"width",t[0]),i&1&&s(e,"height",t[0])},i:U,o:U,d(t){t&&c(e)}}}function et(n,e,l){let{size:t="16"}=e;return n.$$set=i=>{"size"in i&&l(0,t=i.size)},[t]}class tt extends G{constructor(e){super(),J(this,e,et,xe,$,{size:0})}}function ge(n,e,l){const t=n.slice();return t[17]=e[l],t[19]=l,t}function _e(n,e,l){const t=n.slice();return t[20]=e[l],t}function lt(n){let e,l,t=le(n[0]),i=[];for(let a=0;a<t.length;a+=1)i[a]=ze(ge(n,t,a));const r=a=>T(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=te()},l(a){for(let o=0;o<i.length;o+=1)i[o].l(a);e=te()},m(a,o){for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(a,o);y(a,e,o),l=!0},p(a,o){if(o&1021){t=le(a[0]);let h;for(h=0;h<t.length;h+=1){const k=ge(a,t,h);i[h]?(i[h].p(k,o),E(i[h],1)):(i[h]=ze(k),i[h].c(),E(i[h],1),i[h].m(e.parentNode,e))}for(X(),h=t.length;h<i.length;h+=1)r(h);x()}},i(a){if(!l){for(let o=0;o<t.length;o+=1)E(i[o]);l=!0}},o(a){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)T(i[o]);l=!1},d(a){a&&c(e),Ee(i,a)}}}function it(n){let e,l;return e=new Ce({}),{c(){R(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,i){P(e,t,i),l=!0},p:U,i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function ve(n){let e;return{c(){e=M("input"),this.h()},l(l){e=H(l,"INPUT",{type:!0}),this.h()},h(){s(e,"type","checkbox"),e.checked=!0},m(l,t){y(l,e,t)},d(l){l&&c(e)}}}function nt(n){let e,l;return e=new Xe({props:{size:Me,name:n[17].name}}),{c(){R(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,i){P(e,t,i),l=!0},p(t,i){const r={};i&1&&(r.name=t[17].name),e.$set(r)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function rt(n){let e,l;return e=new tt({props:{size:Me}}),{c(){R(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,i){P(e,t,i),l=!0},p:U,i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function we(n){let e=new Date(n[17].created_at).toLocaleString()+"",l;return{c(){l=ie(e)},l(t){l=ne(t,e)},m(t,i){y(t,l,i)},p(t,i){i&1&&e!==(e=new Date(t[17].created_at).toLocaleString()+"")&&re(l,e)},d(t){t&&c(l)}}}function pe(n){let e=n[9](n[17].size)+"",l;return{c(){l=ie(e)},l(t){l=ne(t,e)},m(t,i){y(t,l,i)},p(t,i){i&1&&e!==(e=t[9](t[17].size)+"")&&re(l,e)},d(t){t&&c(l)}}}function be(n){let e,l,t,i,r,a,o,h,k,C;l=new ae({props:{name:"eye",className:"w-4 h-4"}}),r=new ae({props:{name:"bars-3",className:"w-4 h-4"}});let b=le(n[17].is_folder?n[8]:n[7]),f=[];for(let u=0;u<b.length;u+=1)f[u]=ke(_e(n,b,u));const d=u=>T(f[u],1,1,()=>{f[u]=null});function p(){return n[13](n[17])}return{c(){e=M("button"),R(l.$$.fragment),t=O(),i=M("button"),R(r.$$.fragment),a=O(),o=M("div");for(let u=0;u<f.length;u+=1)f[u].c();this.h()},l(u){e=H(u,"BUTTON",{class:!0});var w=v(e);W(l.$$.fragment,w),w.forEach(c),t=q(u),i=H(u,"BUTTON",{class:!0});var _=v(i);W(r.$$.fragment,_),a=q(_),o=H(_,"DIV",{class:!0});var I=v(o);for(let S=0;S<f.length;S+=1)f[S].l(I);I.forEach(c),_.forEach(c),this.h()},h(){s(e,"class","btn btn-sm variant-filled"),s(o,"class","absolute shadow-lg top-8 -left-16 w-28 h-max p-1 border border-zinc-200 rounded-lg flex flex-col gap-2 variant-filled"),s(i,"class","btn btn-sm variant-filled-secondary relative group transition-all duration-200 focus:overflow-visible overflow-hidden")},m(u,w){y(u,e,w),P(l,e,null),y(u,t,w),y(u,i,w),P(r,i,null),g(i,a),g(i,o);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(o,null);h=!0,k||(C=[Q(e,"click",function(){Be(n[6](n[17]))&&n[6](n[17]).apply(this,arguments)}),Q(i,"click",Te(p))],k=!0)},p(u,w){if(n=u,w&417){b=le(n[17].is_folder?n[8]:n[7]);let _;for(_=0;_<b.length;_+=1){const I=_e(n,b,_);f[_]?(f[_].p(I,w),E(f[_],1)):(f[_]=ke(I),f[_].c(),E(f[_],1),f[_].m(o,null))}for(X(),_=b.length;_<f.length;_+=1)d(_);x()}},i(u){if(!h){E(l.$$.fragment,u),E(r.$$.fragment,u);for(let w=0;w<b.length;w+=1)E(f[w]);h=!0}},o(u){T(l.$$.fragment,u),T(r.$$.fragment,u),f=f.filter(Boolean);for(let w=0;w<f.length;w+=1)T(f[w]);h=!1},d(u){u&&(c(e),c(t),c(i)),Z(l),Z(r),Ee(f,u),k=!1,Ve(C)}}}function ke(n){let e,l,t,i,r=n[20].name+"",a,o,h,k,C;l=new ae({props:{name:n[20].icon,className:"w-4 h-4"}});function b(){return n[12](n[20],n[17])}return{c(){e=M("button"),R(l.$$.fragment),t=O(),i=M("p"),a=ie(r),o=O(),this.h()},l(f){e=H(f,"BUTTON",{class:!0});var d=v(e);W(l.$$.fragment,d),t=q(d),i=H(d,"P",{});var p=v(i);a=ne(p,r),p.forEach(c),o=q(d),d.forEach(c),this.h()},h(){s(e,"class","flex gap-1 justify-start items-center p-1 rounded-lg hover:bg-white hover:text-secondary-600")},m(f,d){y(f,e,d),P(l,e,null),g(e,t),g(e,i),g(i,a),g(e,o),h=!0,k||(C=Q(e,"click",Te(b)),k=!0)},p(f,d){n=f;const p={};d&1&&(p.name=n[20].icon),l.$set(p),(!h||d&1)&&r!==(r=n[20].name+"")&&re(a,r)},i(f){h||(E(l.$$.fragment,f),h=!0)},o(f){T(l.$$.fragment,f),h=!1},d(f){f&&c(e),Z(l),k=!1,C()}}}function ze(n){let e,l,t,i,r,a,o,h,k=n[17].name+"",C,b,f,d,p,u,w,_,I,S,m,K,B=n[2]===n[17].name&&ve();const se=[rt,nt],j=[];function oe(F,z){return F[17].is_folder?0:1}a=oe(n),o=j[a]=se[a](n);let L=n[17].created_at&&we(n),A=n[17].size&&pe(n),V=(!n[3]||n[4]===n[17].id)&&be(n);function He(){return n[14](n[17])}function ye(){return n[15](n[17])}return{c(){e=M("tr"),l=M("td"),B&&B.c(),t=O(),i=M("td"),r=M("button"),o.c(),h=O(),C=ie(k),b=O(),f=M("td"),L&&L.c(),d=O(),p=M("td"),A&&A.c(),u=O(),w=M("td"),V&&V.c(),_=O(),this.h()},l(F){e=H(F,"TR",{class:!0});var z=v(e);l=H(z,"TD",{class:!0});var Y=v(l);B&&B.l(Y),Y.forEach(c),t=q(z),i=H(z,"TD",{});var he=v(i);r=H(he,"BUTTON",{class:!0,type:!0});var ee=v(r);o.l(ee),h=q(ee),C=ne(ee,k),ee.forEach(c),he.forEach(c),b=q(z),f=H(z,"TD",{});var fe=v(f);L&&L.l(fe),fe.forEach(c),d=q(z),p=H(z,"TD",{});var ce=v(p);A&&A.l(ce),ce.forEach(c),u=q(z),w=H(z,"TD",{});var ue=v(w);V&&V.l(ue),ue.forEach(c),_=q(z),z.forEach(c),this.h()},h(){s(l,"class","w-1"),s(r,"class","mr-1 text-indigo-500"),s(r,"type","button"),s(e,"class",I="cursor-pointer hover:bg-gray-700 "+(n[2]===n[17].name?"variant-outline-primary":""))},m(F,z){y(F,e,z),g(e,l),B&&B.m(l,null),g(e,t),g(e,i),g(i,r),j[a].m(r,null),g(r,h),g(r,C),g(e,b),g(e,f),L&&L.m(f,null),g(e,d),g(e,p),A&&A.m(p,null),g(e,u),g(e,w),V&&V.m(w,null),g(e,_),S=!0,m||(K=[Q(r,"click",Ne(function(){Be(n[6](n[17]))&&n[6](n[17]).apply(this,arguments)})),Q(e,"dblclick",He),Q(e,"click",ye)],m=!0)},p(F,z){n=F,n[2]===n[17].name?B||(B=ve(),B.c(),B.m(l,null)):B&&(B.d(1),B=null);let Y=a;a=oe(n),a===Y?j[a].p(n,z):(X(),T(j[Y],1,1,()=>{j[Y]=null}),x(),o=j[a],o?o.p(n,z):(o=j[a]=se[a](n),o.c()),E(o,1),o.m(r,h)),(!S||z&1)&&k!==(k=n[17].name+"")&&re(C,k),n[17].created_at?L?L.p(n,z):(L=we(n),L.c(),L.m(f,null)):L&&(L.d(1),L=null),n[17].size?A?A.p(n,z):(A=pe(n),A.c(),A.m(p,null)):A&&(A.d(1),A=null),!n[3]||n[4]===n[17].id?V?(V.p(n,z),z&25&&E(V,1)):(V=be(n),V.c(),E(V,1),V.m(w,null)):V&&(X(),T(V,1,1,()=>{V=null}),x()),(!S||z&5&&I!==(I="cursor-pointer hover:bg-gray-700 "+(n[2]===n[17].name?"variant-outline-primary":"")))&&s(e,"class",I)},i(F){S||(E(o),E(V),S=!0)},o(F){T(o),T(V),S=!1},d(F){F&&c(e),B&&B.d(),j[a].d(),L&&L.d(),A&&A.d(),V&&V.d(),m=!1,Ve(K)}}}function at(n){let e,l,t,i="<tr><td></td> <th>Name</th> <th>Created At</th> <th>Size</th> <th>Action</th></tr>",r,a,o,h,k;const C=[it,lt],b=[];function f(d,p){return d[1]?0:1}return o=f(n),h=b[o]=C[o](n),{c(){e=M("div"),l=M("table"),t=M("thead"),t.innerHTML=i,r=O(),a=M("tbody"),h.c(),this.h()},l(d){e=H(d,"DIV",{class:!0});var p=v(e);l=H(p,"TABLE",{class:!0});var u=v(l);t=H(u,"THEAD",{"data-svelte-h":!0}),Le(t)!=="svelte-1bsuqe7"&&(t.innerHTML=i),r=q(u),a=H(u,"TBODY",{});var w=v(a);h.l(w),w.forEach(c),u.forEach(c),p.forEach(c),this.h()},h(){s(l,"class","table table-hover overflow-auto"),s(e,"class","table-container")},m(d,p){y(d,e,p),g(e,l),g(l,t),g(l,r),g(l,a),b[o].m(a,null),k=!0},p(d,[p]){let u=o;o=f(d),o===u?b[o].p(d,p):(X(),T(b[u],1,1,()=>{b[u]=null}),x(),h=b[o],h?h.p(d,p):(h=b[o]=C[o](d),h.c()),E(h,1),h.m(a,null))},i(d){k||(E(h),k=!0)},o(d){T(h),k=!1},d(d){d&&c(e),b[o].d()}}}let Me="32";function st(n,e,l){let{files:t=[]}=e,{loading:i=!1}=e,{baseUrl:r="/z/pages/portal/self/files"}=e,{path:a=""}=e,{selected:o}=e;const h=Ae(),k=m=>()=>{m.is_folder?me(`${r}?folder=${a?a+"/"+m.name:m.name}`):me(`${r}/preview?folder=${a}&fid=${m.id}&filename=${m.name}`)},C=[{name:"rename",icon:"pencil-square"},{name:"download",icon:"arrow-down-on-square"},{name:"delete",icon:"trash"}],b=[{name:"rename",icon:"pencil-square"},{name:"delete",icon:"trash"}];let f=!1,d=0;const p=m=>{l(3,f=!1),l(4,d=0)};De(()=>(document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}));const u=m=>{const K=["Bytes","KB","MB","GB","TB"];if(m===0)return"0 Byte";const B=parseInt(String(Math.floor(Math.log(m)/Math.log(1024))));return B===0?`${m} ${K[B]}`:`${(m/1024**B).toFixed(1)} ${K[B]}`},w=(m,K)=>{h("action",{action:m,row:K})},_=m=>{l(3,f=!0),l(4,d=m.id),console.log("activeFileId",d)},I=m=>h("open_item",m),S=m=>h("select_item",m);return n.$$set=m=>{"files"in m&&l(0,t=m.files),"loading"in m&&l(1,i=m.loading),"baseUrl"in m&&l(10,r=m.baseUrl),"path"in m&&l(11,a=m.path),"selected"in m&&l(2,o=m.selected)},[t,i,o,f,d,h,k,C,b,u,r,a,w,_,I,S]}class gt extends G{constructor(e){super(),J(this,e,st,at,$,{files:0,loading:1,baseUrl:10,path:11,selected:2})}}export{gt as F};
