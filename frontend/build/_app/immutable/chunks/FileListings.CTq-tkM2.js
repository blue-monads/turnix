import{s as P,V as D,X as N,b as w,f as c,m as o,i as L,h as p,n as C,a1 as de,x as ie,e as H,a as U,c as y,w as ye,g as F,q as Le,_ as Ae,U as De,v as Be,t as re,d as ae,y as W,R as Ne,J as Ce,j as se,B as Ie,ak as Ve}from"./scheduler.BSMlFrmR.js";import{S as G,i as J,c as O,b as $,m as j,g as Y,a as T,e as R,d as Z,t as k}from"./index.DIQEG9mn.js";import{e as ne}from"./each.D6YF6ztN.js";import{S as oe}from"./SvgIcon.DwWRhvCX.js";import{g as Se}from"./stores.n0Zj223A.js";import"./ProgressBar.svelte_svelte_type_style_lang.CPOc6-8_.js";import{L as Ue}from"./loader.BC9BD-QK.js";import{g as me}from"./entry.DdBPhNA2.js";function Fe(n){let e,l,t;return{c(){e=D("svg"),l=D("path"),t=D("path"),this.h()},l(i){e=N(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var r=w(e);l=N(r,"path",{d:!0}),w(l).forEach(c),t=N(r,"path",{d:!0}),w(t).forEach(c),r.forEach(c),this.h()},h(){o(l,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"),o(t,"d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width",n[0]),o(e,"height",n[1]),o(e,"fill","currentColor"),o(e,"class","text-purple-500 inline-block bi bi-image"),o(e,"viewBox","0 0 16 16")},m(i,r){L(i,e,r),p(e,l),p(e,t)},p(i,[r]){r&1&&o(e,"width",i[0]),r&2&&o(e,"height",i[1])},i:C,o:C,d(i){i&&c(e)}}}function qe(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class Oe extends G{constructor(e){super(),J(this,e,qe,Fe,P,{width:0,height:1})}}function je(n){let e,l,t,i;return{c(){e=D("svg"),l=D("path"),t=D("path"),i=D("path"),this.h()},l(r){e=N(r,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var a=w(e);l=N(a,"path",{d:!0}),w(l).forEach(c),t=N(a,"path",{"fill-rule":!0,d:!0}),w(t).forEach(c),i=N(a,"path",{d:!0}),w(i).forEach(c),a.forEach(c),this.h()},h(){o(l,"d","M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"),o(t,"fill-rule","evenodd"),o(t,"d","M14 11V2h1v9h-1zM6 3v10H5V3h1z"),o(i,"d","M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width",n[0]),o(e,"height",n[1]),o(e,"fill","currentColor"),o(e,"class","text-yellow-600 inline-block bi bi-music-note-beamed"),o(e,"viewBox","0 0 16 16")},m(r,a){L(r,e,a),p(e,l),p(e,t),p(e,i)},p(r,[a]){a&1&&o(e,"width",r[0]),a&2&&o(e,"height",r[1])},i:C,o:C,d(r){r&&c(e)}}}function Re(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class Pe extends G{constructor(e){super(),J(this,e,Re,je,P,{width:0,height:1})}}function Ge(n){let e,l;return{c(){e=D("svg"),l=D("path"),this.h()},l(t){e=N(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var i=w(e);l=N(i,"path",{d:!0}),w(l).forEach(c),i.forEach(c),this.h()},h(){o(l,"d","M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width",n[0]),o(e,"height",n[1]),o(e,"fill","currentColor"),o(e,"class","text-indigo-500 inline-block ltr:mr-1 rtl:ml-1 bi bi-file-earmark"),o(e,"viewBox","0 0 16 16")},m(t,i){L(t,e,i),p(e,l)},p(t,[i]){i&1&&o(e,"width",t[0]),i&2&&o(e,"height",t[1])},i:C,o:C,d(t){t&&c(e)}}}function Je(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class Ke extends G{constructor(e){super(),J(this,e,Je,Ge,P,{width:0,height:1})}}function Xe(n){let e,l;return{c(){e=D("svg"),l=D("path"),this.h()},l(t){e=N(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var i=w(e);l=N(i,"path",{d:!0}),w(l).forEach(c),i.forEach(c),this.h()},h(){o(l,"d","M0 12V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm6.79-6.907A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width",n[0]),o(e,"height",n[1]),o(e,"fill","currentColor"),o(e,"class","text-red-500 inline-block bi bi-play-btn-fill"),o(e,"viewBox","0 0 16 16")},m(t,i){L(t,e,i),p(e,l)},p(t,[i]){i&1&&o(e,"width",t[0]),i&2&&o(e,"height",t[1])},i:C,o:C,d(t){t&&c(e)}}}function Ye(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class Ze extends G{constructor(e){super(),J(this,e,Ye,Xe,P,{width:0,height:1})}}function $e(n){let e,l,t;return{c(){e=D("svg"),l=D("path"),t=D("path"),this.h()},l(i){e=N(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var r=w(e);l=N(r,"path",{d:!0}),w(l).forEach(c),t=N(r,"path",{d:!0}),w(t).forEach(c),r.forEach(c),this.h()},h(){o(l,"d","M6.5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.109 0l-.93-.62a1 1 0 0 1-.415-1.074l.4-1.599V7.5zm2 0h-1v.938a1 1 0 0 1-.03.243l-.4 1.598.93.62.93-.62-.4-1.598a1 1 0 0 1-.03-.243V7.5z"),o(t,"d","M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm5.5-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9v1H8v1h1v1H8v1h1v1H7.5V5h-1V4h1V3h-1V2h1V1z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width",n[0]),o(e,"height",n[1]),o(e,"fill","currentColor"),o(e,"class","inline-block bi bi-file-zip"),o(e,"viewBox","0 0 16 16")},m(i,r){L(i,e,r),p(e,l),p(e,t)},p(i,[r]){r&1&&o(e,"width",i[0]),r&2&&o(e,"height",i[1])},i:C,o:C,d(i){i&&c(e)}}}function Qe(n,e,l){let{width:t="16"}=e,{height:i="16"}=e;return n.$$set=r=>{"width"in r&&l(0,t=r.width),"height"in r&&l(1,i=r.height)},[t,i]}class We extends G{constructor(e){super(),J(this,e,Qe,$e,P,{width:0,height:1})}}function xe(n){let e,l,t;var i=n[2][n[1]];function r(a,s){return{props:{height:a[0],width:a[0]}}}return i&&(e=de(i,r(n))),{c(){e&&O(e.$$.fragment),l=ie()},l(a){e&&$(e.$$.fragment,a),l=ie()},m(a,s){e&&j(e,a,s),L(a,l,s),t=!0},p(a,[s]){if(s&2&&i!==(i=a[2][a[1]])){if(e){Y();const h=e;T(h.$$.fragment,1,0,()=>{R(h,1)}),Z()}i?(e=de(i,r(a)),O(e.$$.fragment),k(e.$$.fragment,1),j(e,l.parentNode,l)):e=null}else if(i){const h={};s&1&&(h.height=a[0]),s&1&&(h.width=a[0]),e.$set(h)}},i(a){t||(e&&k(e.$$.fragment,a),t=!0)},o(a){e&&T(e.$$.fragment,a),t=!1},d(a){a&&c(l),e&&R(e,a)}}}function et(n,e,l){let{name:t=""}=e,{size:i}=e;const r={image:Oe,video:Ze,music:Pe,zip:We,other:Ke},a={mp4:"video",jpg:"image",png:"image",webp:"image",mp3:"music",zip:"zip"};let s="other";return t.includes(".")&&(s=a[t.split(".").pop()]||"other"),n.$$set=h=>{"name"in h&&l(3,t=h.name),"size"in h&&l(0,i=h.size)},[i,s,r,t]}class tt extends G{constructor(e){super(),J(this,e,et,xe,P,{name:3,size:0})}}function lt(n){let e,l;return{c(){e=D("svg"),l=D("path"),this.h()},l(t){e=N(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var i=w(e);l=N(i,"path",{d:!0}),w(l).forEach(c),i.forEach(c),this.h()},h(){o(l,"d","M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width",n[0]),o(e,"height",n[0]),o(e,"fill","currentColor"),o(e,"class","inline-block bi bi-folder-fill"),o(e,"viewBox","0 0 16 16")},m(t,i){L(t,e,i),p(e,l)},p(t,[i]){i&1&&o(e,"width",t[0]),i&1&&o(e,"height",t[0])},i:C,o:C,d(t){t&&c(e)}}}function it(n,e,l){let{size:t="16"}=e;return n.$$set=i=>{"size"in i&&l(0,t=i.size)},[t]}class nt extends G{constructor(e){super(),J(this,e,it,lt,P,{size:0})}}function ge(n,e,l){const t=n.slice();return t[21]=e[l],t[23]=l,t}function _e(n,e,l){const t=n.slice();return t[24]=e[l],t}function rt(n){let e,l,t=ne(n[0]),i=[];for(let a=0;a<t.length;a+=1)i[a]=Ee(ge(n,t,a));const r=a=>T(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=ie()},l(a){for(let s=0;s<i.length;s+=1)i[s].l(a);e=ie()},m(a,s){for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(a,s);L(a,e,s),l=!0},p(a,s){if(s&2045){t=ne(a[0]);let h;for(h=0;h<t.length;h+=1){const d=ge(a,t,h);i[h]?(i[h].p(d,s),k(i[h],1)):(i[h]=Ee(d),i[h].c(),k(i[h],1),i[h].m(e.parentNode,e))}for(Y(),h=t.length;h<i.length;h+=1)r(h);Z()}},i(a){if(!l){for(let s=0;s<t.length;s+=1)k(i[s]);l=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)T(i[s]);l=!1},d(a){a&&c(e),Be(i,a)}}}function at(n){let e,l;return e=new Ue({}),{c(){O(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,i){j(e,t,i),l=!0},p:C,i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ve(n){let e;return{c(){e=H("input"),this.h()},l(l){e=y(l,"INPUT",{type:!0}),this.h()},h(){o(e,"type","checkbox"),e.checked=!0},m(l,t){L(l,e,t)},d(l){l&&c(e)}}}function st(n){let e,l;return e=new tt({props:{size:Te,name:n[21].name}}),{c(){O(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,i){j(e,t,i),l=!0},p(t,i){const r={};i&1&&(r.name=t[21].name),e.$set(r)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ot(n){let e,l;return e=new nt({props:{size:Te}}),{c(){O(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,i){j(e,t,i),l=!0},p:C,i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function pe(n){let e=new Date(n[21].created_at).toLocaleString()+"",l;return{c(){l=re(e)},l(t){l=ae(t,e)},m(t,i){L(t,l,i)},p(t,i){i&1&&e!==(e=new Date(t[21].created_at).toLocaleString()+"")&&se(l,e)},d(t){t&&c(l)}}}function we(n){let e=n[9](n[21].size)+"",l;return{c(){l=re(e)},l(t){l=ae(t,e)},m(t,i){L(t,l,i)},p(t,i){i&1&&e!==(e=t[9](t[21].size)+"")&&se(l,e)},d(t){t&&c(l)}}}function be(n){let e,l,t,i,r,a,s,h,d=!n[21].is_folder&&ke(n);t=new oe({props:{name:"bars-3",className:"w-4 h-4"}});let B=ne(n[21].is_folder?n[8]:n[7]),m=[];for(let f=0;f<B.length;f+=1)m[f]=ze(_e(n,B,f));const b=f=>T(m[f],1,1,()=>{m[f]=null});function v(){return n[15](n[21])}return{c(){d&&d.c(),e=U(),l=H("button"),O(t.$$.fragment),i=U(),r=H("div");for(let f=0;f<m.length;f+=1)m[f].c();this.h()},l(f){d&&d.l(f),e=F(f),l=y(f,"BUTTON",{class:!0});var g=w(l);$(t.$$.fragment,g),i=F(g),r=y(g,"DIV",{class:!0});var _=w(r);for(let I=0;I<m.length;I+=1)m[I].l(_);_.forEach(c),g.forEach(c),this.h()},h(){o(r,"class","absolute shadow-lg top-8 -left-16 w-28 h-max p-1 border border-zinc-200 rounded-lg flex flex-col gap-2 variant-filled"),o(l,"class","btn btn-sm variant-filled-secondary relative group transition-all duration-200 focus:overflow-visible overflow-hidden")},m(f,g){d&&d.m(f,g),L(f,e,g),L(f,l,g),j(t,l,null),p(l,i),p(l,r);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(r,null);a=!0,s||(h=W(l,"click",Ve(v)),s=!0)},p(f,g){if(n=f,n[21].is_folder?d&&(Y(),T(d,1,1,()=>{d=null}),Z()):d?(d.p(n,g),g&1&&k(d,1)):(d=ke(n),d.c(),k(d,1),d.m(e.parentNode,e)),g&417){B=ne(n[21].is_folder?n[8]:n[7]);let _;for(_=0;_<B.length;_+=1){const I=_e(n,B,_);m[_]?(m[_].p(I,g),k(m[_],1)):(m[_]=ze(I),m[_].c(),k(m[_],1),m[_].m(r,null))}for(Y(),_=B.length;_<m.length;_+=1)b(_);Z()}},i(f){if(!a){k(d),k(t.$$.fragment,f);for(let g=0;g<B.length;g+=1)k(m[g]);a=!0}},o(f){T(d),T(t.$$.fragment,f),m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)T(m[g]);a=!1},d(f){f&&(c(e),c(l)),d&&d.d(f),R(t),Be(m,f),s=!1,h()}}}function ke(n){let e,l,t,i,r;l=new oe({props:{name:"eye",className:"w-4 h-4"}});function a(){return n[13](n[21])}return{c(){e=H("button"),O(l.$$.fragment),this.h()},l(s){e=y(s,"BUTTON",{class:!0});var h=w(e);$(l.$$.fragment,h),h.forEach(c),this.h()},h(){o(e,"class","btn btn-sm variant-filled")},m(s,h){L(s,e,h),j(l,e,null),t=!0,i||(r=W(e,"click",a),i=!0)},p(s,h){n=s},i(s){t||(k(l.$$.fragment,s),t=!0)},o(s){T(l.$$.fragment,s),t=!1},d(s){s&&c(e),R(l),i=!1,r()}}}function ze(n){let e,l,t,i,r=n[24].name+"",a,s,h,d,B;l=new oe({props:{name:n[24].icon,className:"w-4 h-4"}});function m(){return n[14](n[24],n[21])}return{c(){e=H("button"),O(l.$$.fragment),t=U(),i=H("p"),a=re(r),s=U(),this.h()},l(b){e=y(b,"BUTTON",{class:!0});var v=w(e);$(l.$$.fragment,v),t=F(v),i=y(v,"P",{});var f=w(i);a=ae(f,r),f.forEach(c),s=F(v),v.forEach(c),this.h()},h(){o(e,"class","flex gap-1 justify-start items-center p-1 rounded-lg hover:bg-white hover:text-secondary-600")},m(b,v){L(b,e,v),j(l,e,null),p(e,t),p(e,i),p(i,a),p(e,s),h=!0,d||(B=W(e,"click",Ve(m)),d=!0)},p(b,v){n=b;const f={};v&1&&(f.name=n[24].icon),l.$set(f),(!h||v&1)&&r!==(r=n[24].name+"")&&se(a,r)},i(b){h||(k(l.$$.fragment,b),h=!0)},o(b){T(l.$$.fragment,b),h=!1},d(b){b&&c(e),R(l),d=!1,B()}}}function Ee(n){let e,l,t,i,r,a,s,h,d=n[21].name+"",B,m,b,v,f,g,_,I,K,q,x,ee,M=n[2]===n[21].name&&ve();const te=[ot,st],u=[];function X(S,z){return S[21].is_folder?0:1}a=X(n),s=u[a]=te[a](n);let E=n[21].created_at&&pe(n),A=n[21].size&&we(n),V=(!n[3]||n[4]===n[21].id)&&be(n);function Me(){return n[16](n[21])}function He(){return n[17](n[21])}return{c(){e=H("tr"),l=H("td"),M&&M.c(),t=U(),i=H("td"),r=H("button"),s.c(),h=U(),B=re(d),m=U(),b=H("td"),E&&E.c(),v=U(),f=H("td"),A&&A.c(),g=U(),_=H("td"),V&&V.c(),I=U(),this.h()},l(S){e=y(S,"TR",{class:!0});var z=w(e);l=y(z,"TD",{class:!0});var Q=w(l);M&&M.l(Q),Q.forEach(c),t=F(z),i=y(z,"TD",{});var he=w(i);r=y(he,"BUTTON",{class:!0,type:!0});var le=w(r);s.l(le),h=F(le),B=ae(le,d),le.forEach(c),he.forEach(c),m=F(z),b=y(z,"TD",{});var fe=w(b);E&&E.l(fe),fe.forEach(c),v=F(z),f=y(z,"TD",{});var ce=w(f);A&&A.l(ce),ce.forEach(c),g=F(z),_=y(z,"TD",{});var ue=w(_);V&&V.l(ue),ue.forEach(c),I=F(z),z.forEach(c),this.h()},h(){o(l,"class","w-1"),o(r,"class","mr-1 text-indigo-500"),o(r,"type","button"),o(e,"class",K="cursor-pointer hover:bg-gray-700 "+(n[2]===n[21].name?"variant-outline-primary":""))},m(S,z){L(S,e,z),p(e,l),M&&M.m(l,null),p(e,t),p(e,i),p(i,r),u[a].m(r,null),p(r,h),p(r,B),p(e,m),p(e,b),E&&E.m(b,null),p(e,v),p(e,f),A&&A.m(f,null),p(e,g),p(e,_),V&&V.m(_,null),p(e,I),q=!0,x||(ee=[W(r,"click",Ne(function(){Ce(n[6](n[21]))&&n[6](n[21]).apply(this,arguments)})),W(e,"dblclick",Me),W(e,"click",He)],x=!0)},p(S,z){n=S,n[2]===n[21].name?M||(M=ve(),M.c(),M.m(l,null)):M&&(M.d(1),M=null);let Q=a;a=X(n),a===Q?u[a].p(n,z):(Y(),T(u[Q],1,1,()=>{u[Q]=null}),Z(),s=u[a],s?s.p(n,z):(s=u[a]=te[a](n),s.c()),k(s,1),s.m(r,h)),(!q||z&1)&&d!==(d=n[21].name+"")&&se(B,d),n[21].created_at?E?E.p(n,z):(E=pe(n),E.c(),E.m(b,null)):E&&(E.d(1),E=null),n[21].size?A?A.p(n,z):(A=we(n),A.c(),A.m(f,null)):A&&(A.d(1),A=null),!n[3]||n[4]===n[21].id?V?(V.p(n,z),z&25&&k(V,1)):(V=be(n),V.c(),k(V,1),V.m(_,null)):V&&(Y(),T(V,1,1,()=>{V=null}),Z()),(!q||z&5&&K!==(K="cursor-pointer hover:bg-gray-700 "+(n[2]===n[21].name?"variant-outline-primary":"")))&&o(e,"class",K)},i(S){q||(k(s),k(V),q=!0)},o(S){T(s),T(V),q=!1},d(S){S&&c(e),M&&M.d(),u[a].d(),E&&E.d(),A&&A.d(),V&&V.d(),x=!1,Ie(ee)}}}function ht(n){let e,l,t,i="<tr><td></td> <th>Name</th> <th>Created At</th> <th>Size</th> <th>Action</th></tr>",r,a,s,h,d;const B=[at,rt],m=[];function b(v,f){return v[1]?0:1}return s=b(n),h=m[s]=B[s](n),{c(){e=H("div"),l=H("table"),t=H("thead"),t.innerHTML=i,r=U(),a=H("tbody"),h.c(),this.h()},l(v){e=y(v,"DIV",{class:!0});var f=w(e);l=y(f,"TABLE",{class:!0});var g=w(l);t=y(g,"THEAD",{"data-svelte-h":!0}),ye(t)!=="svelte-1bsuqe7"&&(t.innerHTML=i),r=F(g),a=y(g,"TBODY",{});var _=w(a);h.l(_),_.forEach(c),g.forEach(c),f.forEach(c),this.h()},h(){o(l,"class","table table-hover overflow-auto"),o(e,"class","table-container")},m(v,f){L(v,e,f),p(e,l),p(l,t),p(l,r),p(l,a),m[s].m(a,null),d=!0},p(v,[f]){let g=s;s=b(v),s===g?m[s].p(v,f):(Y(),T(m[g],1,1,()=>{m[g]=null}),Z(),h=m[s],h?h.p(v,f):(h=m[s]=B[s](v),h.c()),k(h,1),h.m(a,null))},i(v){d||(k(h),d=!0)},o(v){T(h),d=!1},d(v){v&&c(e),m[s].d()}}}let Te="32";function ft(n,e,l){let{files:t=[]}=e,{loading:i=!1}=e,{baseUrl:r="/z/pages/portal/self/files"}=e,{path:a=""}=e,{selected:s}=e,h=Le("__api__");const d=Ae(),B=Se(),m=u=>()=>{u.is_folder?me(`${r}?folder=${a?a+"/"+u.name:u.name}`):me(`${r}/preview?folder=${a}&fid=${u.id}&filename=${u.name}`)},b=[{name:"rename",icon:"pencil-square"},{name:"download",icon:"arrow-down-on-square"},{name:"delete",icon:"trash"}],v=[{name:"rename",icon:"pencil-square"},{name:"delete",icon:"trash"}];let f=!1,g=0;const _=u=>{l(3,f=!1),l(4,g=0)};De(()=>(document.addEventListener("click",_),()=>{document.removeEventListener("click",_)}));const I=u=>{const X=["Bytes","KB","MB","GB","TB"];if(u===0)return"0 Byte";const E=parseInt(String(Math.floor(Math.log(u)/Math.log(1024))));return E===0?`${u} ${X[E]}`:`${(u/1024**E).toFixed(1)} ${X[E]}`},K=u=>{B.trigger({type:"component",component:"file_preview_dialog",meta:{api:h,fileId:u.id,filename:u.name}})},q=u=>K(u),x=(u,X)=>{d("action",{action:u,row:X})},ee=u=>{l(3,f=!0),l(4,g=u.id),console.log("activeFileId",g)},M=u=>d("open_item",u),te=u=>d("select_item",u);return n.$$set=u=>{"files"in u&&l(0,t=u.files),"loading"in u&&l(1,i=u.loading),"baseUrl"in u&&l(11,r=u.baseUrl),"path"in u&&l(12,a=u.path),"selected"in u&&l(2,s=u.selected)},[t,i,s,f,g,d,m,b,v,I,K,r,a,q,x,ee,M,te]}class wt extends G{constructor(e){super(),J(this,e,ft,ht,P,{files:0,loading:1,baseUrl:11,path:12,selected:2})}}export{wt as F};
