import{s as de,D as be,e as u,a as h,c as f,b as v,f as m,g,w as T,m as o,i as W,h as n,A as Z,y as lt,R as he,S as Tt,E as ge,B as ve,t as Lt,d as wt,n as Zt,x as ue,P as fe,k as Ee,q as Ae,C as Xt,L as Ce}from"./scheduler.BSMlFrmR.js";import{S as _e,i as me,f as ke,c as mt,b as pt,m as bt,t as K,a as Q,e as ht,g as xe,d as Pe}from"./index.DIQEG9mn.js";import{g as Ne,a as Se}from"./spread.CgU5AtxT.js";import"./entry.DdBPhNA2.js";import{g as ye}from"./stores.n0Zj223A.js";import"./ProgressBar.svelte_svelte_type_style_lang.CPOc6-8_.js";import{L as Te}from"./loader.BC9BD-QK.js";import{S as Yt}from"./SvgIcon.DwWRhvCX.js";import{F as Le}from"./FileDropzone.BssovsEA.js";import{N as we}from"./index.Duto3aX0.js";import{p as Ie}from"./stores.Ct4hmiyJ.js";function Be(l){let t;return{c(){t=Lt("Add Transaction")},l(e){t=wt(e,"Add Transaction")},m(e,a){W(e,t,a)},d(e){e&&m(t)}}}function De(l){let t;return{c(){t=Lt("Edit Transaction")},l(e){t=wt(e,"Edit Transaction")},m(e,a){W(e,t,a)},d(e){e&&m(t)}}}function ze(l){let t,e,a;return e=new Yt({props:{name:"arrow-up-tray",className:"w-6 h-6"}}),{c(){t=u("div"),mt(e.$$.fragment),this.h()},l(s){t=f(s,"DIV",{slot:!0,class:!0});var r=v(t);pt(e.$$.fragment,r),r.forEach(m),this.h()},h(){o(t,"slot","lead"),o(t,"class","flex justify-center")},m(s,r){W(s,t,r),bt(e,t,null),a=!0},p:Zt,i(s){a||(K(e.$$.fragment,s),a=!0)},o(s){Q(e.$$.fragment,s),a=!1},d(s){s&&m(t),ht(e)}}}function Fe(l){let t,e="Upload a file",a;return{c(){t=u("strong"),t.textContent=e,a=Lt(" or drag and drop")},l(s){t=f(s,"STRONG",{"data-svelte-h":!0}),T(t)!=="svelte-13uz6lq"&&(t.textContent=e),a=wt(s," or drag and drop")},m(s,r){W(s,t,r),W(s,a,r)},p:Zt,d(s){s&&(m(t),m(a))}}}function Oe(l){let t;return{c(){t=Lt("PNG, JPG or PDF")},l(e){t=wt(e,"PNG, JPG or PDF")},m(e,a){W(e,t,a)},d(e){e&&m(t)}}}function Re(l){let t,e,a,s,r,c,p,_,E="Title",A,b,y,k,N,C="Lines",R,P,L,H,Et="Debit Account",gt,S,$,i,M,tt,It,G,st,Kt="Amount",Bt,w,Dt,I,V,rt,Qt="Credit Account",zt,B,vt,Ft,q,et,Ot,J,ot,Wt="Amount",Rt,D,Ut,X,ct,$t="Notes",jt,z,Ht,Y,it,te="Attachments",Mt,U,Gt,Vt,nt,ee='<span>Reference ID</span> <input class="input p-1" type="text" placeholder="REF-123"/>',qt,at,ne='<button type="submit" class="btn variant-filled">save</button>',ut,Jt,ae;function le(d,x){return d[6]?De:Be}let At=le(l),j=At(l);tt=new Yt({props:{name:"arrow-up-right",className:"w-5 h-5"}}),et=new Yt({props:{name:"arrow-up-right",className:"w-5 h-5"}});function pe(d){l[19](d)}let se={name:"files",$$slots:{meta:[Oe],message:[Fe],lead:[ze]},$$scope:{ctx:l}};return l[11]!==void 0&&(se.files=l[11]),U=new Le({props:se}),be.push(()=>ke(U,"files",pe)),{c(){t=u("div"),e=u("form"),a=u("header"),s=u("h4"),j.c(),r=h(),c=u("section"),p=u("label"),_=u("span"),_.textContent=E,A=h(),b=u("input"),y=h(),k=u("div"),N=u("span"),N.textContent=C,R=h(),P=u("div"),L=u("label"),H=u("span"),H.textContent=Et,gt=h(),S=u("input"),i=h(),M=u("button"),mt(tt.$$.fragment),It=h(),G=u("label"),st=u("span"),st.textContent=Kt,Bt=h(),w=u("input"),Dt=h(),I=u("div"),V=u("label"),rt=u("span"),rt.textContent=Qt,zt=h(),B=u("input"),Ft=h(),q=u("button"),mt(et.$$.fragment),Ot=h(),J=u("label"),ot=u("span"),ot.textContent=Wt,Rt=h(),D=u("input"),Ut=h(),X=u("label"),ct=u("span"),ct.textContent=$t,jt=h(),z=u("textarea"),Ht=h(),Y=u("label"),it=u("span"),it.textContent=te,Mt=h(),mt(U.$$.fragment),Vt=h(),nt=u("label"),nt.innerHTML=ee,qt=h(),at=u("footer"),at.innerHTML=ne,this.h()},l(d){t=f(d,"DIV",{class:!0});var x=v(t);e=f(x,"FORM",{class:!0});var F=v(e);a=f(F,"HEADER",{class:!0});var re=v(a);s=f(re,"H4",{class:!0});var oe=v(s);j.l(oe),oe.forEach(m),re.forEach(m),r=g(F),c=f(F,"SECTION",{class:!0});var O=v(c);p=f(O,"LABEL",{class:!0});var Ct=v(p);_=f(Ct,"SPAN",{"data-svelte-h":!0}),T(_)!=="svelte-7ccxmo"&&(_.textContent=E),A=g(Ct),b=f(Ct,"INPUT",{name:!0,class:!0,type:!0,placeholder:!0}),Ct.forEach(m),y=g(O),k=f(O,"DIV",{class:!0});var ft=v(k);N=f(ft,"SPAN",{"data-svelte-h":!0}),T(N)!=="svelte-1yscgzf"&&(N.textContent=C),R=g(ft),P=f(ft,"DIV",{class:!0});var dt=v(P);L=f(dt,"LABEL",{class:!0});var kt=v(L);H=f(kt,"SPAN",{"data-svelte-h":!0}),T(H)!=="svelte-14wdh21"&&(H.textContent=Et),gt=g(kt),S=f(kt,"INPUT",{class:!0,type:!0,placeholder:!0}),kt.forEach(m),i=g(dt),M=f(dt,"BUTTON",{class:!0,type:!0});var ce=v(M);pt(tt.$$.fragment,ce),ce.forEach(m),It=g(dt),G=f(dt,"LABEL",{class:!0});var xt=v(G);st=f(xt,"SPAN",{"data-svelte-h":!0}),T(st)!=="svelte-1395xuu"&&(st.textContent=Kt),Bt=g(xt),w=f(xt,"INPUT",{name:!0,class:!0,type:!0}),xt.forEach(m),dt.forEach(m),Dt=g(ft),I=f(ft,"DIV",{class:!0});var _t=v(I);V=f(_t,"LABEL",{class:!0});var Pt=v(V);rt=f(Pt,"SPAN",{"data-svelte-h":!0}),T(rt)!=="svelte-igi9k"&&(rt.textContent=Qt),zt=g(Pt),B=f(Pt,"INPUT",{class:!0,type:!0,placeholder:!0}),Pt.forEach(m),Ft=g(_t),q=f(_t,"BUTTON",{class:!0,type:!0});var ie=v(q);pt(et.$$.fragment,ie),ie.forEach(m),Ot=g(_t),J=f(_t,"LABEL",{class:!0});var Nt=v(J);ot=f(Nt,"SPAN",{"data-svelte-h":!0}),T(ot)!=="svelte-1395xuu"&&(ot.textContent=Wt),Rt=g(Nt),D=f(Nt,"INPUT",{name:!0,class:!0,type:!0}),Nt.forEach(m),_t.forEach(m),ft.forEach(m),Ut=g(O),X=f(O,"LABEL",{class:!0});var St=v(X);ct=f(St,"SPAN",{"data-svelte-h":!0}),T(ct)!=="svelte-nf0nmx"&&(ct.textContent=$t),jt=g(St),z=f(St,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(z).forEach(m),St.forEach(m),Ht=g(O),Y=f(O,"LABEL",{class:!0});var yt=v(Y);it=f(yt,"SPAN",{"data-svelte-h":!0}),T(it)!=="svelte-f4ijws"&&(it.textContent=te),Mt=g(yt),pt(U.$$.fragment,yt),yt.forEach(m),Vt=g(O),nt=f(O,"LABEL",{class:!0,"data-svelte-h":!0}),T(nt)!=="svelte-18zspgg"&&(nt.innerHTML=ee),O.forEach(m),qt=g(F),at=f(F,"FOOTER",{class:!0,"data-svelte-h":!0}),T(at)!=="svelte-1mj6k96"&&(at.innerHTML=ne),F.forEach(m),x.forEach(m),this.h()},h(){o(s,"class","h4"),o(a,"class","card-header"),o(b,"name","title"),o(b,"class","input p-1"),o(b,"type","text"),o(b,"placeholder","Opening balance"),o(p,"class","label"),S.value=$=l[10][l[2]]||"",o(S,"class","input p-1"),o(S,"type","text"),S.disabled=!0,o(S,"placeholder","Petty cash"),o(L,"class","label"),o(M,"class","pt-4 cursor-pointer"),o(M,"type","button"),o(w,"name","debit amount"),o(w,"class","input p-1"),o(w,"type","number"),o(G,"class","label"),o(P,"class","flex flex-row justify-start gap-4 items-center"),o(B,"class","input p-1"),B.value=vt=l[10][l[3]]||"",o(B,"type","text"),B.disabled=!0,o(B,"placeholder","Bank XYZ"),o(V,"class","label"),o(q,"class","pt-4 cursor-pointer"),o(q,"type","button"),o(D,"name","credit amount"),o(D,"class","input p-1"),o(D,"type","number"),o(J,"class","label"),o(I,"class","flex flex-row justify-start gap-4"),o(k,"class","label border p-2 flex flex-col"),o(z,"class","textarea p-1"),o(z,"rows","4"),o(z,"placeholder","Extra information about txn"),o(X,"class","label"),o(Y,"class","label"),o(nt,"class","label"),o(c,"class","p-4 flex flex-col gap-4"),o(at,"class","card-footer flex justify-end"),o(e,"class","card"),o(t,"class","p-2")},m(d,x){W(d,t,x),n(t,e),n(e,a),n(a,s),j.m(s,null),n(e,r),n(e,c),n(c,p),n(p,_),n(p,A),n(p,b),Z(b,l[0]),n(c,y),n(c,k),n(k,N),n(k,R),n(k,P),n(P,L),n(L,H),n(L,gt),n(L,S),n(P,i),n(P,M),bt(tt,M,null),n(P,It),n(P,G),n(G,st),n(G,Bt),n(G,w),Z(w,l[4]),n(k,Dt),n(k,I),n(I,V),n(V,rt),n(V,zt),n(V,B),n(I,Ft),n(I,q),bt(et,q,null),n(I,Ot),n(I,J),n(J,ot),n(J,Rt),n(J,D),Z(D,l[5]),n(c,Ut),n(c,X),n(X,ct),n(X,jt),n(X,z),Z(z,l[1]),n(c,Ht),n(c,Y),n(Y,it),n(Y,Mt),bt(U,Y,null),n(c,Vt),n(c,nt),n(e,qt),n(e,at),ut=!0,Jt||(ae=[lt(b,"input",l[15]),lt(M,"click",l[12]),lt(w,"input",l[16]),lt(q,"click",l[13]),lt(D,"input",l[17]),lt(z,"input",l[18]),lt(e,"submit",he(l[20]))],Jt=!0)},p(d,[x]){At!==(At=le(d))&&(j.d(1),j=At(d),j&&(j.c(),j.m(s,null))),x&1&&b.value!==d[0]&&Z(b,d[0]),(!ut||x&1028&&$!==($=d[10][d[2]]||"")&&S.value!==$)&&(S.value=$),x&16&&Tt(w.value)!==d[4]&&Z(w,d[4]),(!ut||x&1032&&vt!==(vt=d[10][d[3]]||"")&&B.value!==vt)&&(B.value=vt),x&32&&Tt(D.value)!==d[5]&&Z(D,d[5]),x&2&&Z(z,d[1]);const F={};x&2097152&&(F.$$scope={dirty:x,ctx:d}),!Gt&&x&2048&&(Gt=!0,F.files=d[11],ge(()=>Gt=!1)),U.$set(F)},i(d){ut||(K(tt.$$.fragment,d),K(et.$$.fragment,d),K(U.$$.fragment,d),ut=!0)},o(d){Q(tt.$$.fragment,d),Q(et.$$.fragment,d),Q(U.$$.fragment,d),ut=!1},d(d){d&&m(t),j.d(),ht(tt),ht(et),ht(U),Jt=!1,ve(ae)}}}function Ue(l,t,e){let a,{edit:s=!1}=t,{title:r=""}=t,{notes:c=""}=t,{debit_account_id:p=0}=t,{credit_account_id:_=0}=t,{debit_amount:E=100}=t,{credit_amount:A=100}=t,{reference_id:b=""}=t,{attachments:y={}}=t,{onSubmit:k}=t,{onPickAccount:N}=t,{accountsIndex:C={}}=t;const R=async()=>{const i=await N();i&&e(2,p=i)},P=async()=>{const i=await N();i&&e(3,_=i)};function L(){r=this.value,e(0,r)}function H(){E=Tt(this.value),e(4,E)}function Et(){A=Tt(this.value),e(5,A)}function gt(){c=this.value,e(1,c)}function S(i){a=i,e(11,a)}const $=()=>{k({title:r,notes:c,debit_account_id:p,credit_account_id:_,debit_amount:E,credit_amount:A,reference_id:b,attachments:y})};return l.$$set=i=>{"edit"in i&&e(6,s=i.edit),"title"in i&&e(0,r=i.title),"notes"in i&&e(1,c=i.notes),"debit_account_id"in i&&e(2,p=i.debit_account_id),"credit_account_id"in i&&e(3,_=i.credit_account_id),"debit_amount"in i&&e(4,E=i.debit_amount),"credit_amount"in i&&e(5,A=i.credit_amount),"reference_id"in i&&e(7,b=i.reference_id),"attachments"in i&&e(8,y=i.attachments),"onSubmit"in i&&e(9,k=i.onSubmit),"onPickAccount"in i&&e(14,N=i.onPickAccount),"accountsIndex"in i&&e(10,C=i.accountsIndex)},[r,c,p,_,E,A,s,b,y,k,C,a,R,P,N,L,H,Et,gt,S,$]}class je extends _e{constructor(t){super(),me(this,t,Ue,Re,de,{edit:6,title:0,notes:1,debit_account_id:2,credit_account_id:3,debit_amount:4,credit_amount:5,reference_id:7,attachments:8,onSubmit:9,onPickAccount:14,accountsIndex:10})}}function He(l){let t,e;const a=[{onSubmit:l[0]},{accountsIndex:l[2]},{onPickAccount:l[6]},l[5]];let s={};for(let r=0;r<a.length;r+=1)s=Xt(s,a[r]);return t=new je({props:s}),{c(){mt(t.$$.fragment)},l(r){pt(t.$$.fragment,r)},m(r,c){bt(t,r,c),e=!0},p(r,c){const p=c&61?Ne(a,[c&1&&{onSubmit:r[0]},c&4&&{accountsIndex:r[2]},c&24&&{onPickAccount:r[6]},c&32&&Se(r[5])]):{};t.$set(p)},i(r){e||(K(t.$$.fragment,r),e=!0)},o(r){Q(t.$$.fragment,r),e=!1},d(r){ht(t,r)}}}function Me(l){let t,e;return t=new Te({}),{c(){mt(t.$$.fragment)},l(a){pt(t.$$.fragment,a)},m(a,s){bt(t,a,s),e=!0},p:Zt,i(a){e||(K(t.$$.fragment,a),e=!0)},o(a){Q(t.$$.fragment,a),e=!1},d(a){ht(t,a)}}}function Ge(l){let t,e,a,s;const r=[Me,He],c=[];function p(_,E){return _[1]?0:1}return t=p(l),e=c[t]=r[t](l),{c(){e.c(),a=ue()},l(_){e.l(_),a=ue()},m(_,E){c[t].m(_,E),W(_,a,E),s=!0},p(_,[E]){let A=t;t=p(_),t===A?c[t].p(_,E):(xe(),Q(c[A],1,1,()=>{c[A]=null}),Pe(),e=c[t],e?e.p(_,E):(e=c[t]=r[t](_),e.c()),K(e,1),e.m(a.parentNode,a))},i(_){s||(K(e),s=!0)},o(_){Q(e),s=!1},d(_){_&&m(a),c[t].d(_)}}}function Ve(l,t,e){const a=["onSubmit"];let s=fe(t,a),r;Ee(l,Ie,C=>e(7,r=C));let{onSubmit:c}=t;const p=r.params.pid,_=we(Ae("__api__")),E=ye();let A=!0,b={},y=[];(async()=>{e(1,A=!0);const C=await _.listAccount(p);C.status===200&&((C.data||[]).forEach(R=>{e(2,b[Number(R.id)]=R.name,b)}),e(3,y=C.data),e(1,A=!1))})();const N=async()=>new Promise((C,R)=>{E.trigger({type:"component",component:"books_account_picker",meta:{data:y,onClick:P=>{C(P)}}})});return l.$$set=C=>{t=Xt(Xt({},t),Ce(C)),e(5,s=fe(t,a)),"onSubmit"in C&&e(0,c=C.onSubmit)},[c,A,b,y,E,s,N]}class nn extends _e{constructor(t){super(),me(this,t,Ve,Ge,de,{onSubmit:0})}}export{nn as T};
