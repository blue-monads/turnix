import{ap as y,a2 as o,J as g,aq as q,a4 as k}from"./runtime.D6lgFUio.js";import{l as _}from"./shared.CrdpU9Ws.js";import{g as m,i as A}from"./proxy.r5-P5EHK.js";function C(e,r,a=r){var v=y();_(e,"input",()=>{var c=b(e)?t(e.value):e.value;a(c),v&&c!==(c=r())&&(e.value=c??"")}),o(()=>{var c=r();if(g&&e.defaultValue!==e.value){a(e.value);return}b(e)&&c===t(e.value)||e.type==="date"&&!c&&!e.value||(e.value=c??"")})}const u=new Set;function D(e,r,a,v,c=v){var d=a.getAttribute("type")==="checkbox",f=e;let h=!1;if(r!==null)for(var n of r)f=f[n]??(f[n]=[]);f.push(a),_(a,"change",()=>{var l=a.__value;d&&(l=i(f,l,a.checked)),c(l)},()=>c(d?[]:null)),o(()=>{var l=v();if(g&&a.defaultChecked!==a.checked){h=!0;return}d?(l=l||[],a.checked=m(l).includes(m(a.__value))):a.checked=A(a.__value,l)}),q(()=>{var l=f.indexOf(a);l!==-1&&f.splice(l,1)}),u.has(f)||(u.add(f),k(()=>{f.sort((l,s)=>l.compareDocumentPosition(s)===4?-1:1),u.delete(f)})),k(()=>{if(h){var l;if(d)l=i(f,l,a.checked);else{var s=f.find(w=>w.checked);l=s==null?void 0:s.__value}c(l)}})}function J(e,r,a=r){_(e,"change",()=>{var v=e.checked;a(v)}),r()==null&&a(!1),o(()=>{var v=r();e.checked=!!v})}function i(e,r,a){for(var v=new Set,c=0;c<e.length;c+=1)e[c].checked&&v.add(e[c].__value);return a||v.delete(r),Array.from(v)}function b(e){var r=e.type;return r==="number"||r==="range"}function t(e){return e===""?null:+e}function O(e,r,a=r){_(e,"change",()=>{a(e.files)}),o(()=>{e.files=r()})}export{O as a,C as b,J as c,D as d};
