import{s as Q,e as v,a as L,c as g,b as w,g as P,w as W,f as p,m,i as I,h as E,A as B,y as U,n as S,v as Y,B as ce,t as M,d as G,j as q,_ as de,J as X,H as ee}from"./scheduler.BSMlFrmR.js";import{S as Z,i as $,g as F,a as O,d as z,t as D,c as H,b as K,m as R,e as J}from"./index.DIQEG9mn.js";import{g as he}from"./globals.D0QH3NT1.js";import{e as V}from"./each.D6YF6ztN.js";import{K as me}from"./_kv_editor.BNJcPH8y.js";import{S as x}from"./SvgIcon.DwWRhvCX.js";function te(t,e,l){const n=t.slice();return n[10]=e[l],n[12]=l,n}function le(t){let e,l,n,i,s,a="-",o,h;return{c(){e=v("div"),l=v("input"),i=L(),s=v("button"),s.textContent=a,this.h()},l(f){e=g(f,"DIV",{class:!0});var r=w(e);l=g(r,"INPUT",{type:!0,class:!0}),i=P(r),s=g(r,"BUTTON",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-3bs9oq"&&(s.textContent=a),r.forEach(p),this.h()},h(){m(l,"type","text"),m(l,"class","w-full p-1 border"),l.value=n=t[10],m(s,"class","bg-gray-700 rounded text-white p-2"),m(e,"class","flex")},m(f,r){I(f,e,r),E(e,l),E(e,i),E(e,s),o||(h=[U(l,"change",t[4](t[12])),U(s,"click",t[5](t[12]))],o=!0)},p(f,r){t=f,r&4&&n!==(n=t[10])&&l.value!==n&&(l.value=n)},d(f){f&&p(e),o=!1,ce(h)}}}function pe(t){let e,l,n,i,s,a,o="+",h,f,r=V(t[2]),_=[];for(let u=0;u<r.length;u+=1)_[u]=le(te(t,r,u));return{c(){e=v("div");for(let u=0;u<_.length;u+=1)_[u].c();l=L(),n=v("div"),i=v("input"),s=L(),a=v("button"),a.textContent=o,this.h()},l(u){e=g(u,"DIV",{class:!0});var d=w(e);for(let N=0;N<_.length;N+=1)_[N].l(d);l=P(d),n=g(d,"DIV",{class:!0});var c=w(n);i=g(c,"INPUT",{type:!0,class:!0}),s=P(c),a=g(c,"BUTTON",{class:!0,"data-svelte-h":!0}),W(a)!=="svelte-10oosf3"&&(a.textContent=o),c.forEach(p),d.forEach(p),this.h()},h(){m(i,"type","text"),m(i,"class","p-1 w-full border"),m(a,"class","bg-gray-700 rounded text-white p-1"),m(n,"class","flex mt-1"),m(e,"class","flex flex-col p-1 gap-1")},m(u,d){I(u,e,d);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(e,null);E(e,l),E(e,n),E(n,i),B(i,t[1]),E(n,s),E(n,a),h||(f=[U(i,"input",t[8]),U(a,"click",t[9])],h=!0)},p(u,[d]){if(d&52){r=V(u[2]);let c;for(c=0;c<r.length;c+=1){const N=te(u,r,c);_[c]?_[c].p(N,d):(_[c]=le(N),_[c].c(),_[c].m(e,l))}for(;c<_.length;c+=1)_[c].d(1);_.length=r.length}d&2&&i.value!==u[1]&&B(i,u[1])},i:S,o:S,d(u){u&&p(e),Y(_,u),h=!1,ce(f)}}}function ve(t,e,l){let n,{value:i=""}=e,{onChange:s=null}=e,{seperator:a=","}=e,o="";const h=()=>{s&&s(i)},f=d=>c=>{const N=[...n];N[d]=c.target.value,l(0,i=N.toString()),h()},r=d=>()=>{const c=n.filter((N,k)=>k!==d);l(0,i=c.toString()),h()};function _(){o=this.value,l(1,o)}const u=()=>{o&&(l(0,i=i+","+o),l(1,o=""),h())};return t.$$set=d=>{"value"in d&&l(0,i=d.value),"onChange"in d&&l(6,s=d.onChange),"seperator"in d&&l(7,a=d.seperator)},t.$$.update=()=>{t.$$.dirty&129&&l(2,n=i.split(a))},[i,o,n,h,f,r,s,a,_,u]}class ge extends Z{constructor(e){super(),$(this,e,ve,pe,Q,{value:0,onChange:6,seperator:7})}}function be(t){let e,l;return e=new x({props:{name:"arrow-down-on-square",className:"h-5 w-5"}}),{c(){H(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,i){R(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){O(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function ke(t){let e,l;return e=new x({props:{name:"arrow-path",className:"h-5 w-5 animate-spin"}}),{c(){H(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,i){R(e,n,i),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){O(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function ye(t){let e,l,n,i,s,a,o,h;const f=[ke,be],r=[];function _(u,d){return u[1]?0:1}return l=_(t),n=r[l]=f[l](t),{c(){e=v("button"),n.c(),i=L(),s=M(t[0]),this.h()},l(u){e=g(u,"BUTTON",{class:!0});var d=w(e);n.l(d),i=P(d),s=G(d,t[0]),d.forEach(p),this.h()},h(){m(e,"class","btn btn-sm variant-filled")},m(u,d){I(u,e,d),r[l].m(e,null),E(e,i),E(e,s),a=!0,o||(h=U(e,"click",t[2]),o=!0)},p(u,[d]){let c=l;l=_(u),l!==c&&(F(),O(r[c],1,1,()=>{r[c]=null}),z(),n=r[l],n||(n=r[l]=f[l](u),n.c()),D(n,1),n.m(e,i)),(!a||d&1)&&q(s,u[0])},i(u){a||(D(n),a=!0)},o(u){O(n),a=!1},d(u){u&&p(e),r[l].d(),o=!1,h()}}}function Te(t,e,l){let{onClick:n}=e,{name:i=""}=e,s=!1;const a=async()=>{l(1,s=!0);const o=n();o instanceof Promise&&await o,l(1,s=!1)};return t.$$set=o=>{"onClick"in o&&l(3,n=o.onClick),"name"in o&&l(0,i=o.name)},[i,s,a,n]}class Ee extends Z{constructor(e){super(),$(this,e,Te,ye,Q,{onClick:3,name:0})}}const{Boolean:Ie}=he;function ne(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function ae(t,e,l){const n=t.slice();return n[21]=e[l],n}function ie(t,e,l){const n=t.slice();return n[21]=e[l],n}function se(t,e,l){const n=t.slice();return n[21]=e[l],n}function we(t){let e,l="Not impl";return{c(){e=v("div"),e.textContent=l},l(n){e=g(n,"DIV",{"data-svelte-h":!0}),W(e)!=="svelte-11l341j"&&(e.textContent=l)},m(n,i){I(n,e,i)},p:S,i:S,o:S,d(n){n&&p(e)}}}function Ce(t){let e,l;function n(...i){return t[15](t[18],...i)}return e=new me({props:{data:t[2][t[18].key_name]||{},onChange:n}}),{c(){H(e.$$.fragment)},l(i){K(e.$$.fragment,i)},m(i,s){R(e,i,s),l=!0},p(i,s){t=i;const a={};s&6&&(a.data=t[2][t[18].key_name]||{}),s&2&&(a.onChange=n),e.$set(a)},i(i){l||(D(e.$$.fragment,i),l=!0)},o(i){O(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function Ne(t){let e,l,n,i,s;return{c(){e=v("div"),l=v("input"),this.h()},l(a){e=g(a,"DIV",{class:!0});var o=w(e);l=g(o,"INPUT",{type:!0,id:!0,class:!0}),o.forEach(p),this.h()},h(){m(l,"type","checkbox"),m(l,"id",`field-${t[20]}`),l.value=n=t[8](t[18].key_name)||!1,m(l,"class","p-2"),m(e,"class","flex w-full justify-start")},m(a,o){I(a,e,o),E(e,l),i||(s=U(l,"change",function(){X(t[11](t[18].key_name))&&t[11](t[18].key_name).apply(this,arguments)}),i=!0)},p(a,o){t=a,o&2&&n!==(n=t[8](t[18].key_name)||!1)&&(l.value=n)},i:S,o:S,d(a){a&&p(e),i=!1,s()}}}function Se(t){let e,l,n,i,s;return{c(){e=v("input"),this.h()},l(a){e=g(a,"INPUT",{type:!0,id:!0,class:!0}),this.h()},h(){m(e,"type","number"),m(e,"id",`field-${t[20]}`),e.value=l=t[8](t[18].key_name),e.disabled=n=t[18].disabled,m(e,"class","p-2 shadow rounded-lg bg-gray-100 outline-none focus:bg-gray-200")},m(a,o){I(a,e,o),i||(s=U(e,"change",function(){X(t[10](t[18].key_name))&&t[10](t[18].key_name).apply(this,arguments)}),i=!0)},p(a,o){t=a,o&2&&l!==(l=t[8](t[18].key_name))&&e.value!==l&&(e.value=l),o&2&&n!==(n=t[18].disabled)&&(e.disabled=n)},i:S,o:S,d(a){a&&p(e),i=!1,s()}}}function Ae(t){let e,l,n,i,s;return{c(){e=v("textarea"),this.h()},l(a){e=g(a,"TEXTAREA",{id:!0,class:!0}),w(e).forEach(p),this.h()},h(){m(e,"id",`field-${t[20]}`),e.value=l=t[8](t[18].key_name),e.disabled=n=t[18].disabled,m(e,"class","p-2 textarea")},m(a,o){I(a,e,o),i||(s=U(e,"change",function(){X(t[9](t[18].key_name))&&t[9](t[18].key_name).apply(this,arguments)}),i=!0)},p(a,o){t=a,o&2&&l!==(l=t[8](t[18].key_name))&&(e.value=l),o&2&&n!==(n=t[18].disabled)&&(e.disabled=n)},i:S,o:S,d(a){a&&p(e),i=!1,s()}}}function De(t){let e,l;return e=new ge({props:{onChange:t[12](t[18].key_name),value:t[8](t[18].key_name)}}),{c(){H(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,i){R(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.onChange=n[12](n[18].key_name)),i&2&&(s.value=n[8](n[18].key_name)),e.$set(s)},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){O(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function Oe(t){let e,l,n,i,s;return{c(){e=v("input"),this.h()},l(a){e=g(a,"INPUT",{id:!0,type:!0,list:!0,class:!0}),this.h()},h(){m(e,"id","field-"+t[20]),m(e,"type","text"),m(e,"list","field-"+t[20]+"-datalist"),e.value=l=t[8](t[18].key_name)||(t[18].slug_gen?t[18].slug_gen():t[13](t[18].key_name)),e.disabled=n=t[18].disabled,m(e,"class","p-2 shadow rounded-lg bg-gray-100 outline-none focus:bg-gray-200")},m(a,o){I(a,e,o),i||(s=U(e,"change",function(){X(t[9](t[18].key_name))&&t[9](t[18].key_name).apply(this,arguments)}),i=!0)},p(a,o){t=a,o&2&&l!==(l=t[8](t[18].key_name)||(t[18].slug_gen?t[18].slug_gen():t[13](t[18].key_name)))&&e.value!==l&&(e.value=l),o&2&&n!==(n=t[18].disabled)&&(e.disabled=n)},i:S,o:S,d(a){a&&p(e),i=!1,s()}}}function Ue(t){let e,l,n,i,s,a,o,h;function f(d,c){return d[7][d[20]]?Be:Ve}let r=f(t),_=r(t);s=new x({props:{name:t[7][t[20]]?"lock-open":"lock-closed",className:"w-6 h-6"}});function u(){return t[14](t[20])}return{c(){e=v("div"),_.c(),l=L(),n=v("div"),i=v("button"),H(s.$$.fragment),this.h()},l(d){e=g(d,"DIV",{class:!0});var c=w(e);_.l(c),l=P(c),n=g(c,"DIV",{class:!0});var N=w(n);i=g(N,"BUTTON",{});var k=w(i);K(s.$$.fragment,k),k.forEach(p),N.forEach(p),c.forEach(p),this.h()},h(){m(n,"class","w-10 p-1 text-gray-700"),m(e,"class","flex justify-between w-full")},m(d,c){I(d,e,c),_.m(e,null),E(e,l),E(e,n),E(n,i),R(s,i,null),a=!0,o||(h=U(i,"click",u),o=!0)},p(d,c){t=d,r===(r=f(t))&&_?_.p(t,c):(_.d(1),_=r(t),_&&(_.c(),_.m(e,l)));const N={};c&128&&(N.name=t[7][t[20]]?"lock-open":"lock-closed"),s.$set(N)},i(d){a||(D(s.$$.fragment,d),a=!0)},o(d){O(s.$$.fragment,d),a=!1},d(d){d&&p(e),_.d(),J(s),o=!1,h()}}}function Le(t){let e,l,n,i,s;return{c(){e=v("input"),this.h()},l(a){e=g(a,"INPUT",{id:!0,type:!0,list:!0,class:!0}),this.h()},h(){m(e,"id","field-"+t[20]),m(e,"type","email"),m(e,"list","field-"+t[20]+"-datalist"),e.value=l=t[8](t[18].key_name),e.disabled=n=t[18].disabled,m(e,"class","p-2 input")},m(a,o){I(a,e,o),i||(s=U(e,"change",function(){X(t[9](t[18].key_name))&&t[9](t[18].key_name).apply(this,arguments)}),i=!0)},p(a,o){t=a,o&2&&l!==(l=t[8](t[18].key_name))&&e.value!==l&&(e.value=l),o&2&&n!==(n=t[18].disabled)&&(e.disabled=n)},i:S,o:S,d(a){a&&p(e),i=!1,s()}}}function Pe(t){let e,l,n,i,s,a,o,h=V(t[18].options||[]),f=[];for(let r=0;r<h.length;r+=1)f[r]=re(se(t,h,r));return{c(){e=v("input"),i=L(),s=v("datalist");for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){e=g(r,"INPUT",{id:!0,type:!0,list:!0,class:!0}),i=P(r),s=g(r,"DATALIST",{id:!0});var _=w(s);for(let u=0;u<f.length;u+=1)f[u].l(_);_.forEach(p),this.h()},h(){m(e,"id","field-"+t[20]),m(e,"type","text"),m(e,"list","field-"+t[20]+"-datalist"),e.value=l=t[8](t[18].key_name),e.disabled=n=t[18].disabled,m(e,"class","p-2 input"),m(s,"id","field-"+t[20]+"-datalist")},m(r,_){I(r,e,_),I(r,i,_),I(r,s,_);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(s,null);a||(o=U(e,"change",function(){X(t[9](t[18].key_name))&&t[9](t[18].key_name).apply(this,arguments)}),a=!0)},p(r,_){if(t=r,_&2&&l!==(l=t[8](t[18].key_name))&&e.value!==l&&(e.value=l),_&2&&n!==(n=t[18].disabled)&&(e.disabled=n),_&2){h=V(t[18].options||[]);let u;for(u=0;u<h.length;u+=1){const d=se(t,h,u);f[u]?f[u].p(d,_):(f[u]=re(d),f[u].c(),f[u].m(s,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=h.length}},i:S,o:S,d(r){r&&(p(e),p(i),p(s)),Y(f,r),a=!1,o()}}}function Ve(t){let e,l,n,i,s=V(t[18].options||[]),a=[];for(let o=0;o<s.length;o+=1)a[o]=ue(ae(t,s,o));return{c(){e=v("select");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=g(o,"SELECT",{class:!0,id:!0});var h=w(e);for(let f=0;f<a.length;f+=1)a[f].l(h);h.forEach(p),this.h()},h(){m(e,"class","p-1 input"),m(e,"id","field-"+t[20])},m(o,h){I(o,e,h);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);ee(e,t[8](t[18].key_name)),n||(i=U(e,"change",function(){X(t[9](t[18].key_name))&&t[9](t[18].key_name).apply(this,arguments)}),n=!0)},p(o,h){if(t=o,h&2){s=V(t[18].options||[]);let f;for(f=0;f<s.length;f+=1){const r=ae(t,s,f);a[f]?a[f].p(r,h):(a[f]=ue(r),a[f].c(),a[f].m(e,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=s.length}h&2&&l!==(l=t[8](t[18].key_name))&&ee(e,t[8](t[18].key_name))},d(o){o&&p(e),Y(a,o),n=!1,i()}}}function Be(t){let e,l,n,i,s,a,o,h=V(t[18].options||[]),f=[];for(let r=0;r<h.length;r+=1)f[r]=oe(ie(t,h,r));return{c(){e=v("input"),i=L(),s=v("datalist");for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){e=g(r,"INPUT",{id:!0,type:!0,list:!0,class:!0}),i=P(r),s=g(r,"DATALIST",{id:!0});var _=w(s);for(let u=0;u<f.length;u+=1)f[u].l(_);_.forEach(p),this.h()},h(){m(e,"id","field-"+t[20]),m(e,"type","text"),m(e,"list","field-"+t[20]+"-datalist"),e.value=l=t[8](t[18].key_name),e.disabled=n=t[18].disabled,m(e,"class","p-2 input"),m(s,"id","field-"+t[20]+"-datalist")},m(r,_){I(r,e,_),I(r,i,_),I(r,s,_);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(s,null);a||(o=U(e,"change",function(){X(t[9](t[18].key_name))&&t[9](t[18].key_name).apply(this,arguments)}),a=!0)},p(r,_){if(t=r,_&2&&l!==(l=t[8](t[18].key_name))&&e.value!==l&&(e.value=l),_&2&&n!==(n=t[18].disabled)&&(e.disabled=n),_&2){h=V(t[18].options||[]);let u;for(u=0;u<h.length;u+=1){const d=ie(t,h,u);f[u]?f[u].p(d,_):(f[u]=oe(d),f[u].c(),f[u].m(s,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=h.length}},d(r){r&&(p(e),p(i),p(s)),Y(f,r),a=!1,o()}}}function ue(t){let e,l=t[21]+"",n,i;return{c(){e=v("option"),n=M(l),this.h()},l(s){e=g(s,"OPTION",{});var a=w(e);n=G(a,l),a.forEach(p),this.h()},h(){e.__value=i=t[21],B(e,e.__value)},m(s,a){I(s,e,a),E(e,n)},p(s,a){a&2&&l!==(l=s[21]+"")&&q(n,l),a&2&&i!==(i=s[21])&&(e.__value=i,B(e,e.__value))},d(s){s&&p(e)}}}function oe(t){let e,l=t[21]+"",n,i;return{c(){e=v("option"),n=M(l),this.h()},l(s){e=g(s,"OPTION",{});var a=w(e);n=G(a,l),a.forEach(p),this.h()},h(){e.__value=i=t[21],B(e,e.__value)},m(s,a){I(s,e,a),E(e,n)},p(s,a){a&2&&l!==(l=s[21]+"")&&q(n,l),a&2&&i!==(i=s[21])&&(e.__value=i,B(e,e.__value))},d(s){s&&p(e)}}}function re(t){let e,l=t[21]+"",n,i;return{c(){e=v("option"),n=M(l),this.h()},l(s){e=g(s,"OPTION",{});var a=w(e);n=G(a,l),a.forEach(p),this.h()},h(){e.__value=i=t[21],B(e,e.__value)},m(s,a){I(s,e,a),E(e,n)},p(s,a){a&2&&l!==(l=s[21]+"")&&q(n,l),a&2&&i!==(i=s[21])&&(e.__value=i,B(e,e.__value))},d(s){s&&p(e)}}}function fe(t){let e,l,n=t[18].name+"",i,s,a,o,h;const f=[Pe,Le,Ue,Oe,De,Ae,Se,Ne,Ce,we],r=[];function _(u,d){return u[18].ftype==="TEXT"?0:u[18].ftype==="EMAIL"?1:u[18].ftype==="SELECT"?2:u[18].ftype==="TEXT_SLUG"?3:u[18].ftype==="MULTI_TEXT"?4:u[18].ftype==="LONG_TEXT"||u[18].ftype==="TEXT_POLICY"?5:u[18].ftype==="INT"?6:u[18].ftype==="BOOL"?7:u[18].ftype==="KEY_VALUE_TEXT"?8:9}return a=_(t),o=r[a]=f[a](t),{c(){e=v("div"),l=v("label"),i=M(n),s=L(),o.c(),this.h()},l(u){e=g(u,"DIV",{class:!0});var d=w(e);l=g(d,"LABEL",{for:!0,class:!0});var c=w(l);i=G(c,n),c.forEach(p),s=P(d),o.l(d),d.forEach(p),this.h()},h(){m(l,"for",`field-${t[20]}`),m(l,"class","pb-2 label"),m(e,"class","flex-col flex py-3")},m(u,d){I(u,e,d),E(e,l),E(l,i),E(e,s),r[a].m(e,null),h=!0},p(u,d){(!h||d&2)&&n!==(n=u[18].name+"")&&q(i,n);let c=a;a=_(u),a===c?r[a].p(u,d):(F(),O(r[c],1,1,()=>{r[c]=null}),z(),o=r[a],o?o.p(u,d):(o=r[a]=f[a](u),o.c()),D(o,1),o.m(e,null))},i(u){h||(D(o),h=!0)},o(u){O(o),h=!1},d(u){u&&p(e),r[a].d()}}}function _e(t){let e,l,n;return l=new Ee({props:{name:"Save",onClick:t[16]}}),{c(){e=v("div"),H(l.$$.fragment),this.h()},l(i){e=g(i,"DIV",{class:!0});var s=w(e);K(l.$$.fragment,s),s.forEach(p),this.h()},h(){m(e,"class","flex justify-end py-3")},m(i,s){I(i,e,s),R(l,e,null),n=!0},p(i,s){const a={};s&80&&(a.onClick=i[16]),l.$set(a)},i(i){n||(D(l.$$.fragment,i),n=!0)},o(i){O(l.$$.fragment,i),n=!1},d(i){i&&p(e),J(l)}}}function Xe(t){let e,l,n,i=t[1].name+"",s,a,o,h=(t[3]||"")+"",f,r,_,u,d=V(t[1].fields),c=[];for(let y=0;y<d.length;y+=1)c[y]=fe(ne(t,d,y));const N=y=>O(c[y],1,1,()=>{c[y]=null});let k=t[0]&&!t[5]&&_e(t);return{c(){e=v("div"),l=v("div"),n=v("h3"),s=M(i),a=L(),o=v("p"),f=M(h),r=L();for(let y=0;y<c.length;y+=1)c[y].c();_=L(),k&&k.c(),this.h()},l(y){e=g(y,"DIV",{class:!0});var C=w(e);l=g(C,"DIV",{class:!0});var T=w(l);n=g(T,"H3",{class:!0});var j=w(n);s=G(j,i),j.forEach(p),a=P(T),o=g(T,"P",{class:!0});var b=w(o);f=G(b,h),b.forEach(p),r=P(T);for(let A=0;A<c.length;A+=1)c[A].l(T);_=P(T),k&&k.l(T),T.forEach(p),C.forEach(p),this.h()},h(){m(n,"class","h3"),m(o,"class","text-red-500"),m(l,"class","p-5 w-full card"),m(e,"class","h-full w-full p-4 overflow-auto")},m(y,C){I(y,e,C),E(e,l),E(l,n),E(n,s),E(l,a),E(l,o),E(o,f),E(l,r);for(let T=0;T<c.length;T+=1)c[T]&&c[T].m(l,null);E(l,_),k&&k.m(l,null),u=!0},p(y,[C]){if((!u||C&2)&&i!==(i=y[1].name+"")&&q(s,i),(!u||C&8)&&h!==(h=(y[3]||"")+"")&&q(f,h),C&16262){d=V(y[1].fields);let T;for(T=0;T<d.length;T+=1){const j=ne(y,d,T);c[T]?(c[T].p(j,C),D(c[T],1)):(c[T]=fe(j),c[T].c(),D(c[T],1),c[T].m(l,_))}for(F(),T=d.length;T<c.length;T+=1)N(T);z()}y[0]&&!y[5]?k?(k.p(y,C),C&33&&D(k,1)):(k=_e(y),k.c(),D(k,1),k.m(l,null)):k&&(F(),O(k,1,1,()=>{k=null}),z())},i(y){if(!u){for(let C=0;C<d.length;C+=1)D(c[C]);D(k),u=!0}},o(y){c=c.filter(Ie);for(let C=0;C<c.length;C+=1)O(c[C]);O(k),u=!1},d(y){y&&p(e),Y(c,y),k&&k.d()}}}function je(t,e,l){let n,{schema:i}=e,{data:s={}}=e,{modified:a=!1}=e,{message:o=""}=e,{onSave:h=void 0}=e,{noSubmit:f=!1}=e;const r=de();let _={};const u=b=>s[b]||"",d=b=>A=>{k(b)(A.target.value)},c=b=>A=>{k(b)(Number(A.target.value))},N=b=>A=>{k(b)(!!A.target.checked)},k=b=>A=>{l(6,_={..._,[b]:A}),l(0,a=!0),r("modified",_)},y=b=>{const A="fixme";return l(6,_={..._,[b]:A}),A},C=b=>{l(7,n[b]=!n[b],n),l(7,n)},T=(b,A)=>{k(b.key_name)(JSON.stringify(A))},j=()=>{h&&h(_)};return t.$$set=b=>{"schema"in b&&l(1,i=b.schema),"data"in b&&l(2,s=b.data),"modified"in b&&l(0,a=b.modified),"message"in b&&l(3,o=b.message),"onSave"in b&&l(4,h=b.onSave),"noSubmit"in b&&l(5,f=b.noSubmit)},t.$$.update=()=>{t.$$.dirty&70&&console.log(`FORM_DEBUG => ${i.name}`,"DATA",_,"ORIGINAL_DATA",s,"SCHEMA",i)},l(7,n={}),[a,i,s,o,h,f,_,n,u,d,c,N,k,y,C,T,j]}class Je extends Z{constructor(e){super(),$(this,e,je,Xe,Q,{schema:1,data:2,modified:0,message:3,onSave:4,noSubmit:5})}}export{Je as A};
