import{s as I,e as u,c as f,b as g,f as c,m as a,i as h,n as m,D as S,w as b,y as D,M as d,h as y}from"./scheduler.BSMlFrmR.js";import{S as O,i as U}from"./index.DIQEG9mn.js";function F(n){let e,i="download",s,t;return{c(){e=u("button"),e.textContent=i,this.h()},l(l){e=f(l,"BUTTON",{class:!0,"data-svelte-h":!0}),b(e)!=="svelte-mcl8uu"&&(e.textContent=i),this.h()},h(){a(e,"class","btn btn-sm variant-filled")},m(l,o){h(l,e,o),s||(t=D(e,"click",n[5]),s=!0)},p:m,d(l){l&&c(e),s=!1,t()}}}function R(n){let e,i,s;return{c(){e=u("audio"),i=u("source"),this.h()},l(t){e=f(t,"AUDIO",{});var l=g(e);i=f(l,"SOURCE",{src:!0,type:!0}),l.forEach(c),this.h()},h(){d(i.src,s=n[3])||a(i,"src",s),a(i,"type","audio/mp3"),e.controls=!0},m(t,l){h(t,e,l),y(e,i)},p(t,l){l&8&&!d(i.src,s=t[3])&&a(i,"src",s)},d(t){t&&c(e)}}}function K(n){let e,i,s;return{c(){e=u("video"),i=u("source"),this.h()},l(t){e=f(t,"VIDEO",{});var l=g(e);i=f(l,"SOURCE",{src:!0,type:!0}),l.forEach(c),this.h()},h(){d(i.src,s=n[3])||a(i,"src",s),a(i,"type","video/mp4"),e.controls=!0},m(t,l){h(t,e,l),y(e,i)},p(t,l){l&8&&!d(i.src,s=t[3])&&a(i,"src",s)},d(t){t&&c(e)}}}function T(n){let e,i;return{c(){e=u("img"),this.h()},l(s){e=f(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){a(e,"class","h-fit w-auto overflow-auto"),d(e.src,i=n[3])||a(e,"src",i),a(e,"alt",n[0])},m(s,t){h(s,e,t)},p(s,t){t&8&&!d(e.src,i=s[3])&&a(e,"src",i),t&1&&a(e,"alt",s[0])},d(s){s&&c(e)}}}function V(n){let e,i="loading...";return{c(){e=u("div"),e.textContent=i,this.h()},l(s){e=f(s,"DIV",{class:!0,"data-svelte-h":!0}),b(e)!=="svelte-1nbw26u"&&(e.textContent=i),this.h()},h(){a(e,"class","svelte-vtwvgl")},m(s,t){h(s,e,t)},p:m,d(s){s&&c(e)}}}function j(n){let e;function i(l,o){return l[1]?V:l[4]==="image"?T:l[4]==="video"?K:l[4]==="audio"?R:F}let s=i(n),t=s(n);return{c(){e=u("div"),t.c(),this.h()},l(l){e=f(l,"DIV",{class:!0});var o=g(e);t.l(o),o.forEach(c),this.h()},h(){a(e,"class","h-inherit w-inherit overflow-auto svelte-vtwvgl")},m(l,o){h(l,e,o),t.m(e,null),n[8](e)},p(l,[o]){s===(s=i(l))&&t?t.p(l,o):(t.d(1),t=s(l),t&&(t.c(),t.m(e,null)))},i:m,o:m,d(l){l&&c(e),t.d(),n[8](null)}}}function q(n,e,i){let s=!1,{fileId:t}=e,{filename:l}=e,{api:o}=e,_;const w=["png","jpg","jpeg","gif","bmp","webp","svg"],p=l.split(".").pop();let k=w.includes(p)?"image":p==="mp4"?"video":p==="mp3"?"audio":"other",v="";(async()=>{i(1,s=!0);const r=await o.getFileShortKey(t);r.status===200&&(i(3,v=o.getFileWithShortKeyURL(r.data)),i(1,s=!1))})();const C=async()=>{const r=document.createElement("a");r.href=v,r.download=l,document.body.appendChild(r),r.click()};function E(r){S[r?"unshift":"push"](()=>{_=r,i(2,_)})}return n.$$set=r=>{"fileId"in r&&i(6,t=r.fileId),"filename"in r&&i(0,l=r.filename),"api"in r&&i(7,o=r.api)},[l,s,_,v,k,C,t,o,E]}class A extends O{constructor(e){super(),U(this,e,q,j,I,{fileId:6,filename:0,api:7})}}export{A as F};
