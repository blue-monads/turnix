import{a as h,t as w}from"../chunks/disclose-version.wcsHG7oF.js";import{p as O,g as R,t as U,a as A,h as x,i as N,s as k,c as a,b as j,r as o}from"../chunks/runtime.D6lgFUio.js";import{d as P}from"../chunks/utils.Dh-XvBAd.js";import{i as B}from"../chunks/if.lkQ-IRrr.js";import{s as D,a as E}from"../chunks/store.BaapSzAp.js";import"../chunks/entry.dkjBYykr.js";import"../chunks/auto_form.CxbPX2mo.js";import"../chunks/autotable.D6q4cofd.js";import"../chunks/index.BXdKDRLQ.js";/* empty css                                                     */import{N as I}from"../chunks/index.Duto3aX0.js";import{g as J}from"../chunks/stores.CebXFGJ4.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DbB_HC5r.js";import{p as C}from"../chunks/stores.Dnldv-Vm.js";var F=w('<div class="p-2">Processing..</div>'),M=async(m,e,s,f,r)=>{x(e,!0);const t=await s.exportData(f);t.status===200&&(console.log(t.data),r(t.data,`books_export_${new Date().toISOString()}.json`),x(e,!1))},q=w('<div class="p-2"><div class="card p-2 w-80 mx-auto my-10"><header class="flex justify-center"><div class="flex flex-col gap-2"><h3 class="h3">Export Project</h3> <!></div></header> <footer class="flex justify-end p-2"><button class="btn btn-sm variant-filled">Start</button></footer></div></div>');function et(m,e){O(e,!0);const s=D(),r=E(C,"$page",s).params.pid;J();const t=R("__api__"),y=I(t);let i=N(!1);const $=(n,l)=>{const L=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),b=URL.createObjectURL(L),d=document.createElement("a");d.href=b,d.download=l,d.click(),URL.revokeObjectURL(b)};var p=q(),v=a(p),c=a(v),_=a(c),S=k(a(_),2);B(S,()=>j(i),n=>{var l=F();h(n,l)}),o(_),o(c);var g=k(c,2),u=a(g);u.__click=[M,i,y,r,$],o(g),o(v),o(p),U(()=>u.disabled=j(i)),h(m,p),A()}P(["click"]);export{et as component};
