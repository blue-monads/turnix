import{c as I,a as d,t as A}from"../chunks/disclose-version.wcsHG7oF.js";import{p as M,ak as Q,f as h,n as T,a as U,h as j,i as P,s as u,c as t,b as e,r,d as S,t as R}from"../chunks/runtime.D6lgFUio.js";import{s as V}from"../chunks/render.CIW-w3Th.js";import{i as N}from"../chunks/if.lkQ-IRrr.js";import{e as W,i as X}from"../chunks/each.CWrzZiCN.js";import{s as q}from"../chunks/snippet.CDCY8qbR.js";import{s as Y}from"../chunks/attributes.BFGPVQjG.js";import{s as H}from"../chunks/class.B3zfNKG1.js";import{d as Z}from"../chunks/utils.Dh-XvBAd.js";import{p as ee}from"../chunks/proxy.r5-P5EHK.js";import{s as ae,a as te}from"../chunks/store.BaapSzAp.js";import{r as re}from"../chunks/legacy-client.B7AzNrU7.js";import{p as oe}from"../chunks/stores.D4Dcgzbh.js";import{S as z}from"../chunks/SvgIcon.Cj01WnO8.js";import{o as se}from"../chunks/index-client.ROjlL4Km.js";import{a as ne}from"../chunks/axios.BimPEqV4.js";const ie=async o=>{console.log("buildApi",o);const a=ne.create({baseURL:o,headers:{NodeCTRLKey:"fixme"}});return{getStatus:async()=>await a.get("/z/eapi/status"),startInstance:async()=>await a.post("/z/eapi/start",{})}};function le(o,a){M(a,!0),Q("__start_api__",a.api);var c=I(),m=h(c);N(m,()=>a.api,i=>{var v=I(),p=h(v);q(p,()=>a.children??T),d(i,v)}),d(o,c),U()}var de=A("<a><!> </a>"),ce=(o,a)=>{j(a,!e(a))},me=A('<div id="sidebar"><div class="p-2 border text-center variant-outline uppercase font-medium font-token"><h4>Startpage</h4></div> <!></div> <div class="absolute md:bottom-8"><button class=" rounded border-2 bg-slate-100 p-1"><span class="hidden md:block"><!></span> <span class="block md:hidden"><!></span></button></div>',1),pe=A('<div class="flex relative h-screen flex-col md:flex-row md:w-full border-r border-gray-800"><!> <main class="grow w-full h-screen overflow-auto"><!></main></div>');function $e(o,a){M(a,!0);const c=ae(),m=()=>te(oe,"$page",c);m().params.pid;let i=P(!0),v=[{name:"Home",link:"/z/pages/startpage",icon:"home",key:"home"},{name:"Peers",link:"/z/pages/startpage/peers",icon:"rss",key:"peers"},{name:"Setting",link:"/z/pages/startpage/setting",icon:"cog",key:"setting"}],p=S(()=>m().url.pathname.split("/").at(4));re(()=>{console.log(e(p))}),se(()=>{const s=window;s.__handle_rpc__=function(l,n){console.log("@bang/bang"),console.log(l,n)}});let x=P(void 0);ie(location.origin).then(s=>{j(x,ee(s))});var y=pe(),$=t(y);N($,()=>e(p),s=>{var l=me(),n=h(l),f=u(t(n),2);W(f,17,()=>v,X,(J,b)=>{var g=de(),L=t(g);z(L,{className:"h-4 w-4 mr-1",get name(){return e(b).icon}});var O=u(L);r(g),R(()=>{Y(g,"href",e(b).link),H(g,`flex items-center px-2 py-2 w-full text-gray-600 transition-colors duration-300 transform rounded-lg hover:bg-gray-300 hover:text-gray-700 ${(e(p)===e(b).key?"bg-gray-400 text-gray-900":"")??""}`),V(O,` ${e(b).name??""}`)}),d(J,g)}),r(n);var _=u(n,2),k=t(_);k.__click=[ce,i];var w=t(k),D=t(w),E=S(()=>e(i)?"chevron-double-left":"chevron-double-right");z(D,{className:"h-4 w-4",get name(){return e(E)}}),r(w);var K=u(w,2),F=t(K),G=S(()=>e(i)?"chevron-double-up":"chevron-double-down");z(F,{className:"h-4 w-4",get name(){return e(G)}}),r(K),r(k),r(_),R(()=>H(n,`p-4 flex flex-col gap-2 transition-all duration-300 ease-in-out bg-blend-darken bg-gradient-to-b from-purple-50 shadow
${(e(i)?"w-48":"hidden")??""}`)),d(s,l)});var C=u($,2),B=t(C);N(B,()=>e(x),s=>{le(s,{get api(){return e(x)},children:(l,n)=>{var f=I(),_=h(f);q(_,()=>a.children??T),d(l,f)},$$slots:{default:!0}})}),r(C),r(y),d(o,y),U()}Z(["click"]);export{$e as component};
