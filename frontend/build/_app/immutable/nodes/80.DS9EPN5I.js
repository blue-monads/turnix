import{s as $,k as u,q as b}from"../chunks/scheduler.BSMlFrmR.js";import{S as A,i as w,c as m,b as l,m as f,t as g,a as d,e as _}from"../chunks/index.DIQEG9mn.js";import{A as y}from"../chunks/autotable.Cxn6HL1P.js";import{P as C}from"../chunks/pagelayout.DjctvSDc.js";/* empty css                                                     */import{g as P,a as N}from"../chunks/route.BwPZZ31y.js";import{p as Q}from"../chunks/index.s50jUYE8.js";import{N as S}from"../chunks/index.DQVP37Ea.js";import{p as h}from"../chunks/stores.ljWIZ5Ll.js";function k(n){let t,o;return t=new y({props:{action_key:"id",key_names:[["id","ID"],["submitter","Submitter"],["status","Status"],["createdAt","Created At"]],datas:n[0],color:["ttype"],actions:[{Name:"preview",Class:"bg-green-400",Action:n[5]},{Name:"delete",Class:"bg-red-400",Action:n[6]}]}}),{c(){m(t.$$.fragment)},l(e){l(t.$$.fragment,e)},m(e,a){f(t,e,a),o=!0},p(e,a){const s={};a&1&&(s.datas=e[0]),a&2&&(s.actions=[{Name:"preview",Class:"bg-green-400",Action:e[5]},{Name:"delete",Class:"bg-red-400",Action:e[6]}]),t.$set(s)},i(e){o||(g(t.$$.fragment,e),o=!0)},o(e){d(t.$$.fragment,e),o=!1},d(e){_(t,e)}}}function v(n){let t,o;return t=new C({props:{title:"Onloop Queue Messages",actions:[{name:"add",icon:"plus",actionFn:n[7]}],$$slots:{default:[k]},$$scope:{ctx:n}}}),{c(){m(t.$$.fragment)},l(e){l(t.$$.fragment,e)},m(e,a){f(t,e,a),o=!0},p(e,[a]){const s={};a&2&&(s.actions=[{name:"add",icon:"plus",actionFn:e[7]}]),a&515&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){o||(g(t.$$.fragment,e),o=!0)},o(e){d(t.$$.fragment,e),o=!1},d(e){_(t,e)}}}function M(n,t,o){let e,a;u(n,h,r=>o(8,e=r)),u(n,Q,r=>o(1,a=r));let s=e.params.pid;const i=S(b("__api__"));let p=[];const c=async()=>{const r=await i.listQueueMessages(s);r.status===200&&o(0,p=r.data)};return c(),[p,a,s,i,c,async(r,F)=>{P(s,a.tid,r)},async r=>{await i.removeUpdateQueueMessage(s,r),c()},()=>{N(s,a.tid)}]}class K extends A{constructor(t){super(),w(this,t,M,v,$,{})}}export{K as component};
