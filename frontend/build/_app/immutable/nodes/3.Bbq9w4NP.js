var _e=Object.defineProperty;var $e=(e,t,n)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var x=(e,t,n)=>$e(e,typeof t!="symbol"?t+"":t,n);import{a as D,t as H,b as Zt,c as Wt}from"../chunks/disclose-version.wcsHG7oF.js";import{p as _t,ak as bt,aC as I,aD as Nt,s as K,t as Q,a as $t,c as $,r as _,b as E,aE as V,as as z,h as U,g as Rt,f as yt,aN as Pe,i as te,n as Le,d as Ht}from"../chunks/runtime.D6lgFUio.js";import{s as ee}from"../chunks/render.CIW-w3Th.js";import{i as it}from"../chunks/if.lkQ-IRrr.js";import{e as ne,i as oe}from"../chunks/each.CWrzZiCN.js";import{s as ke}from"../chunks/snippet.CDCY8qbR.js";import{g as Re,a as Ae}from"../chunks/stores.DjQynU2M.js";import{b as Ee,s as At}from"../chunks/attributes.BFGPVQjG.js";import{f as ce,d as Se}from"../chunks/utils.Dh-XvBAd.js";import{p as je}from"../chunks/proxy.r5-P5EHK.js";import{w as Ce,g as Te}from"../chunks/index.BxIQjJFd.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DbB_HC5r.js";import{a as G,s as fe}from"../chunks/slot.YBvSs2jW.js";import{s as M}from"../chunks/class.B3zfNKG1.js";import{i as Xt}from"../chunks/lifecycle.ZPOFI82y.js";import{l as St,p as j}from"../chunks/props.C7PlKWmz.js";import{b as ue}from"../chunks/misc.CGOEYnHj.js";import{a as re}from"../chunks/axios.BimPEqV4.js";import{S as ut}from"../chunks/SvgIcon.Cj01WnO8.js";function Fe(e,t,n,o,r){var i=e.__attributes??(e.__attributes={}),s=e.style,l="style-"+t;i[l]===n&&!r||(i[l]=n,n==null?s.removeProperty(t):s.setProperty(t,n,""))}const de=Ce(void 0);function Oe(e,t){const{computePosition:n,autoUpdate:o,offset:r,shift:i,flip:s,arrow:l,size:f,autoPlacement:c,hide:g,inline:d}=Te(de),m={open:!1,autoUpdateCleanup:()=>{}},a=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let v;const p="https://www.skeleton.dev/utilities/popups";let u,h;function w(){u=document.querySelector(`[data-popup="${t.target}"]`)??document.createElement("div"),h=u.querySelector(".arrow")??document.createElement("div")}w();function y(){var k,O,S,B,T,X,W,q;if(!u)throw new Error(`The data-popup="${t.target}" element was not found. ${p}`);if(!n)throw new Error(`Floating UI 'computePosition' not found for data-popup="${t.target}". ${p}`);if(!r)throw new Error(`Floating UI 'offset' not found for data-popup="${t.target}". ${p}`);if(!i)throw new Error(`Floating UI 'shift' not found for data-popup="${t.target}". ${p}`);if(!s)throw new Error(`Floating UI 'flip' not found for data-popup="${t.target}". ${p}`);if(!l)throw new Error(`Floating UI 'arrow' not found for data-popup="${t.target}". ${p}`);const L=[];f&&L.push(f((k=t.middleware)==null?void 0:k.size)),c&&L.push(c((O=t.middleware)==null?void 0:O.autoPlacement)),g&&L.push(g((S=t.middleware)==null?void 0:S.hide)),d&&L.push(d((B=t.middleware)==null?void 0:B.inline)),n(e,u,{placement:t.placement??"bottom",middleware:[r(((T=t.middleware)==null?void 0:T.offset)??8),i(((X=t.middleware)==null?void 0:X.shift)??{padding:8}),s((W=t.middleware)==null?void 0:W.flip),l(((q=t.middleware)==null?void 0:q.arrow)??{element:h||null}),...L]}).then(({x:Z,y:tt,placement:gt,middlewareData:N})=>{if(Object.assign(u.style,{left:`${Z}px`,top:`${tt}px`}),h){const{x:A,y:Y}=N.arrow,wt={top:"bottom",right:"left",bottom:"top",left:"right"}[gt.split("-")[0]];Object.assign(h.style,{left:A!=null?`${A}px`:"",top:Y!=null?`${Y}px`:"",right:"",bottom:"",[wt]:"-4px"})}})}function P(){u&&(m.open=!0,t.state&&t.state({state:m.open}),y(),u.style.display="block",u.style.opacity="1",u.style.pointerEvents="auto",u.removeAttribute("inert"),m.autoUpdateCleanup=o(e,u,y),v=Array.from(u==null?void 0:u.querySelectorAll(a)))}function b(L){if(!u)return;const k=parseFloat(window.getComputedStyle(u).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{m.open=!1,t.state&&t.state({state:m.open}),u.style.opacity="0",u.setAttribute("inert",""),m.autoUpdateCleanup&&m.autoUpdateCleanup(),L&&L()},k)}function R(){m.open===!1?P():b()}function C(L){if(m.open===!1||e.contains(L.target))return;if(u&&u.contains(L.target)===!1){b();return}const k=t.closeQuery===void 0?"a[href], button":t.closeQuery;if(k==="")return;const O=u==null?void 0:u.querySelectorAll(k);O==null||O.forEach(S=>{S.contains(L.target)&&b()})}const F=L=>{if(m.open===!1)return;const k=L.key;if(k==="Escape"){L.preventDefault(),e.focus(),b();return}v=Array.from(u==null?void 0:u.querySelectorAll(a)),m.open&&document.activeElement===e&&(k==="ArrowDown"||k==="Tab")&&a.length>0&&v.length>0&&(L.preventDefault(),v[0].focus())};switch(t.event){case"click":e.addEventListener("click",R,!0),window.addEventListener("click",C,!0);break;case"hover":e.addEventListener("mouseover",P,!0),e.addEventListener("mouseleave",()=>b(),!0);break;case"focus-blur":e.addEventListener("focus",R,!0),e.addEventListener("blur",()=>b(),!0);break;case"focus-click":e.addEventListener("focus",P,!0),window.addEventListener("click",C,!0);break;default:throw new Error(`Event value of '${t.event}' is not supported. ${p}`)}return window.addEventListener("keydown",F,!0),y(),{update(L){b(()=>{t=L,y(),w()})},destroy(){e.removeEventListener("click",R,!0),e.removeEventListener("mouseover",P,!0),e.removeEventListener("mouseleave",()=>b(),!0),e.removeEventListener("focus",R,!0),e.removeEventListener("focus",P,!0),e.removeEventListener("blur",()=>b(),!0),window.removeEventListener("click",C,!0),window.removeEventListener("keydown",F,!0)}}}var De=H('<div data-testid="app-rail"><div><!></div> <div><!></div> <div><!></div></div>');function ze(e,t){const n=St(t,["children","$$slots","$$events","$$legacy"]);_t(t,!1);const o=V(),r=V(),i=V(),s=V();let l=j(t,"background",8,"bg-surface-100-800-token"),f=j(t,"border",8,""),c=j(t,"width",8,"w-20"),g=j(t,"height",8,"h-full"),d=j(t,"gap",8,"gap-0"),m=j(t,"regionLead",8,""),a=j(t,"regionDefault",8,""),v=j(t,"regionTrail",8,""),p=j(t,"hover",8,"bg-primary-hover-token"),u=j(t,"active",8,"bg-primary-active-token"),h=j(t,"spacing",8,"space-y-1"),w=j(t,"aspectRatio",8,"aspect-square");bt("active",u()),bt("hover",p()),bt("spacing",h()),bt("aspectRatio",w());const y="grid grid-rows-[auto_1fr_auto] overflow-y-auto",P="box-border",b="box-border",R="box-border";I(()=>(z(l()),z(f()),z(c()),z(g()),z(d()),z(n)),()=>{U(o,`${y} ${l()} ${f()} ${c()} ${g()} ${d()} ${n.class||""}`)}),I(()=>z(m()),()=>{U(r,`${P} ${m()}`)}),I(()=>z(a()),()=>{U(i,`${b} ${a()}`)}),I(()=>z(v()),()=>{U(s,`${R} ${v()}`)}),Nt(),Xt();var C=De(),F=$(C),L=$(F);G(L,t,"lead",{},null),_(F);var k=K(F,2),O=$(k);G(O,t,"default",{},null),_(k);var S=K(k,2),B=$(S);G(B,t,"trail",{},null),_(S),_(C),Q(()=>{M(C,`app-rail ${E(o)??""}`),M(F,`app-bar-lead ${E(r)??""}`),M(k,`app-bar-default ${E(i)??""}`),M(S,`app-bar-trail ${E(s)??""}`)}),D(e,C),$t()}var He=H("<div><!></div>"),Ue=H("<a><div><!> <div><!></div></div></a>");function Be(e,t){const n=fe(t),o=St(t,["children","$$slots","$$events","$$legacy"]),r=St(o,["selected","regionLead","regionLabel","hover","active","spacing","aspectRatio"]);_t(t,!1);const i=V(),s=V(),l=V(),f=V(),c=V();let g=j(t,"selected",8,!1),d=j(t,"regionLead",8,"flex justify-center items-center"),m=j(t,"regionLabel",8,""),a=j(t,"hover",24,()=>Rt("hover")),v=j(t,"active",24,()=>Rt("active")),p=j(t,"spacing",24,()=>Rt("spacing")),u=j(t,"aspectRatio",24,()=>Rt("aspectRatio"));const h="unstyled",w="w-full flex flex-col justify-center items-stretch text-center space-y-1",y="font-bold text-xs";function P(){return delete r.class,r}I(()=>(z(g()),z(v())),()=>{U(i,g()?v():"")}),I(()=>z(o),()=>{U(s,`${h} ${o.class||""}`)}),I(()=>(z(u()),z(a()),z(p()),E(i)),()=>{U(l,`${w} ${u()} ${a()} ${p()} ${E(i)}`)}),I(()=>z(d()),()=>{U(f,`${d()}`)}),I(()=>z(m()),()=>{U(c,`${y} ${m()}`)}),Nt(),Xt();var b=Ue();let R;Q(()=>R=Ee(b,R,{class:`app-rail-anchor ${E(s)??""}`,href:o.href,...P(),"data-testid":"app-rail-anchor"}));var C=$(b),F=$(C);it(F,()=>n.lead,O=>{var S=He(),B=$(S);G(B,t,"lead",{},null),_(S),Q(()=>M(S,`app-rail-lead ${E(f)??""}`)),D(O,S)});var L=K(F,2),k=$(L);G(k,t,"default",{},null),_(L),_(C),_(b),Q(()=>{M(C,`app-rail-wrapper ${E(l)??""}`),M(L,`app-rail-label ${E(c)??""}`)}),ce("click",b,function(O){ue.call(this,t,O)}),D(e,b),$t()}var We=H('<header id="shell-header"><!></header>'),Me=H('<aside id="sidebar-left"><!></aside>'),Ie=H('<header id="page-header"><!></header>'),Ve=H('<footer id="page-footer"><!></footer>'),qe=H('<aside id="sidebar-right"><!></aside>'),Ne=H('<footer id="shell-footer"><!></footer>'),Xe=H('<div id="appShell" data-testid="app-shell"><!> <div><!> <div id="page"><!> <main id="page-content"><!></main> <!></div> <!></div> <!></div>');function Ye(e,t){const n=fe(t),o=St(t,["children","$$slots","$$events","$$legacy"]);_t(t,!1);const r=V(),i=V(),s=V(),l=V(),f=V(),c=V(),g=V(),d=V();let m=j(t,"scrollbarGutter",8,"auto"),a=j(t,"regionPage",8,""),v=j(t,"slotHeader",8,"z-10"),p=j(t,"slotSidebarLeft",8,"w-auto"),u=j(t,"slotSidebarRight",8,"w-auto"),h=j(t,"slotPageHeader",8,""),w=j(t,"slotPageContent",8,""),y=j(t,"slotPageFooter",8,""),P=j(t,"slotFooter",8,"");const b="w-full h-full flex flex-col overflow-hidden",R="w-full h-full flex overflow-hidden",C="flex-1 overflow-x-hidden flex flex-col",F="flex-none overflow-x-hidden overflow-y-auto",L="flex-none overflow-x-hidden overflow-y-auto";I(()=>z(o),()=>{U(r,`${b} ${o.class??""}`)}),I(()=>z(v()),()=>{U(i,`${v()}`)}),I(()=>z(p()),()=>{U(s,`${F} ${p()}`)}),I(()=>z(u()),()=>{U(l,`${L} ${u()}`)}),I(()=>z(h()),()=>{U(f,`${h()}`)}),I(()=>z(w()),()=>{U(c,`${w()}`)}),I(()=>z(y()),()=>{U(g,`${y()}`)}),I(()=>z(P()),()=>{U(d,`${P()}`)}),Nt(),Xt();var k=Xe(),O=$(k);it(O,()=>n.header,N=>{var A=We(),Y=$(A);G(Y,t,"header",{},null),_(A),Q(()=>M(A,`flex-none ${E(i)??""}`)),D(N,A)});var S=K(O,2);M(S,`flex-auto ${R}`);var B=$(S);it(B,()=>n.sidebarLeft,N=>{var A=Me(),Y=$(A);G(Y,t,"sidebarLeft",{},null),_(A),Q(()=>M(A,E(s))),D(N,A)});var T=K(B,2),X=$(T);it(X,()=>n.pageHeader,N=>{var A=Ie(),Y=$(A);G(Y,t,"pageHeader",{},wt=>{var zt=Zt("(slot:header)");D(wt,zt)}),_(A),Q(()=>M(A,`flex-none ${E(f)??""}`)),D(N,A)});var W=K(X,2),q=$(W);G(q,t,"default",{},null),_(W);var Z=K(W,2);it(Z,()=>n.pageFooter,N=>{var A=Ve(),Y=$(A);G(Y,t,"pageFooter",{},wt=>{var zt=Zt("(slot:footer)");D(wt,zt)}),_(A),Q(()=>M(A,`flex-none ${E(g)??""}`)),D(N,A)}),_(T);var tt=K(T,2);it(tt,()=>n.sidebarRight,N=>{var A=qe(),Y=$(A);G(Y,t,"sidebarRight",{},null),_(A),Q(()=>M(A,E(l))),D(N,A)}),_(S);var gt=K(S,2);it(gt,()=>n.footer,N=>{var A=Ne(),Y=$(A);G(Y,t,"footer",{},null),_(A),Q(()=>M(A,`flex-none ${E(d)??""}`)),D(N,A)}),_(k),Q(()=>{M(k,E(r)),M(T,`${a()??""} ${C}`),Fe(T,"scrollbar-gutter",m()),M(W,`flex-auto ${E(c)??""}`)}),ce("scroll",T,function(N){ue.call(this,t,N)}),D(e,k),$t()}class Ke{constructor(){x(this,"client");x(this,"projectClient");x(this,"listProjectTypes",()=>this.client.get("/project_types"));x(this,"getProjectTypeForm",t=>this.client.get(`/project_types/${t}/form`));x(this,"getProjectType",t=>this.client.get(`/project_types/${t}`));x(this,"listProjects",t=>this.client.get(`/project?ptype=${t||""}`));x(this,"addProject",t=>this.client.post("/project",t));x(this,"updateProject",(t,n)=>this.client.post(`/project/${t}`,n));x(this,"getProject",t=>this.client.get(`/project/${t}`));x(this,"removeProject",t=>this.client.delete(`/project/${t}`));x(this,"inviteUserToPoject",t=>this.client.post(`/project/${t}/user`));x(this,"removeUserFromPoject",t=>this.client.delete(`/project/${t}/user`));x(this,"listProjectHooks",t=>this.client.get(`/project/${t}/hook`));x(this,"addProjectHook",(t,n)=>this.client.post(`/project/${t}/hook`,n));x(this,"getProjectHook",(t,n)=>this.client.get(`/project/${t}/hook/${n}`));x(this,"updateProjectHook",(t,n,o)=>this.client.post(`/project/${t}/hook/${n}`,o));x(this,"removeProjectHook",(t,n)=>this.client.delete(`/project/${t}/hook/${n}`));x(this,"runProjectSQL",(t,n)=>this.client.post(`/project/${t}/sqlexec`,n));x(this,"listProjectFiles",(t,n)=>this.client.get(`/project/${t}/files?path=${n}`));x(this,"addProjectFile",(t,n,o,r)=>this.client.post(`/project/${t}/files?name=${n}&path=${o}`,r,{headers:{"Content-Type":"application/octet-stream"}}));x(this,"addProjectFolder",(t,n,o)=>this.client.put(`/project/${t}/files`,{name:n,path:o}));x(this,"getProjectFile",(t,n)=>this.client.get(`/project/${t}/files/${n}`,{responseType:"blob"}));x(this,"deleteProjectFile",(t,n)=>this.client.delete(`/project/${t}/files/${n}`));x(this,"listSelfUsers",()=>this.client.get("/self/users"));x(this,"addSelfUser",t=>this.client.post("/self/users",t));x(this,"getSelfUser",t=>this.client.get(`/self/users/${t}`));x(this,"updateSelfUser",(t,n)=>this.client.post(`/self/users/${t}`,n));x(this,"deleteSelfUser",t=>this.client.delete(`/self/users/${t}`));x(this,"listProjectPlugins",t=>this.client.get(`/project/${t}/plugins`));x(this,"addProjectPlugin",(t,n)=>this.client.post(`/project/${t}/plugins`,n));x(this,"removeProjectPlugin",(t,n)=>this.client.delete(`/project/${t}/plugins/${n}`));x(this,"updateProjectPlugin",(t,n,o)=>this.client.post(`/project/${t}/plugins/${n}`,o));x(this,"getProjectPlugin",(t,n)=>this.client.get(`/project/${t}/plugins/${n}`));x(this,"listSelfFiles",t=>this.client.get(`/self/files?path=${t}`));x(this,"addSelfFile",(t,n,o)=>this.client.post(`/self/files?name=${t}&path=${n}`,o,{headers:{"Content-Type":"application/octet-stream"}}));x(this,"addSelfFolder",(t,n)=>this.client.put("/self/files",{name:n,path:t}));x(this,"getSelfFile",t=>this.client.get(`/self/files/${t}`,{responseType:"blob"}));x(this,"deleteSelfFile",t=>this.client.delete(`/self/files/${t}`));x(this,"listUserMessages",(t,n)=>this.client.get(`/self/messages?count=${t||""}&cursor=${n||""}`));x(this,"messageUser",(t,n)=>this.client.post(`/self/messages/${t}`,n));x(this,"userInfo",t=>this.client.get(`/user/${t}`));x(this,"getFileShortKey",t=>this.client.post(`/file/${t}/shortkey`,{}));x(this,"getFileWithShortKeyURL",t=>`${location.origin}/z/api/v1/file/shortKey/${t}`);let t;t=localStorage.getItem("access_token"),t||(window.location.pathname="/z/pages/auth/login"),this.client=re.create({baseURL:`${location.origin}/z/api/v1/`,headers:{Authorization:t}}),this.projectClient=re.create({baseURL:`${location.origin}/z/project/`,headers:{Authorization:t}}),window!==void 0&&(window._turnix_api_=this)}}const pt=Math.min,at=Math.max,jt=Math.round,Et=Math.floor,st=e=>({x:e,y:e}),Qe={left:"right",right:"left",bottom:"top",top:"bottom"},Ge={start:"end",end:"start"};function Mt(e,t,n){return at(e,pt(t,n))}function Pt(e,t){return typeof e=="function"?e(t):e}function ct(e){return e.split("-")[0]}function Lt(e){return e.split("-")[1]}function pe(e){return e==="x"?"y":"x"}function Yt(e){return e==="y"?"height":"width"}function ht(e){return["top","bottom"].includes(ct(e))?"y":"x"}function Kt(e){return pe(ht(e))}function Je(e,t,n){n===void 0&&(n=!1);const o=Lt(e),r=Kt(e),i=Yt(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ct(s)),[s,Ct(s)]}function Ze(e){const t=Ct(e);return[It(e),t,It(t)]}function It(e){return e.replace(/start|end/g,t=>Ge[t])}function tn(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:s;default:return[]}}function en(e,t,n,o){const r=Lt(e);let i=tn(ct(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(It)))),i}function Ct(e){return e.replace(/left|right|bottom|top/g,t=>Qe[t])}function nn(e){return{top:0,right:0,bottom:0,left:0,...e}}function he(e){return typeof e!="number"?nn(e):{top:e,right:e,bottom:e,left:e}}function Tt(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function ie(e,t,n){let{reference:o,floating:r}=e;const i=ht(t),s=Kt(t),l=Yt(s),f=ct(t),c=i==="y",g=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,m=o[l]/2-r[l]/2;let a;switch(f){case"top":a={x:g,y:o.y-r.height};break;case"bottom":a={x:g,y:o.y+o.height};break;case"right":a={x:o.x+o.width,y:d};break;case"left":a={x:o.x-r.width,y:d};break;default:a={x:o.x,y:o.y}}switch(Lt(t)){case"start":a[s]-=m*(n&&c?-1:1);break;case"end":a[s]+=m*(n&&c?-1:1);break}return a}const on=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:g,y:d}=ie(c,o,f),m=o,a={},v=0;for(let p=0;p<l.length;p++){const{name:u,fn:h}=l[p],{x:w,y,data:P,reset:b}=await h({x:g,y:d,initialPlacement:o,placement:m,strategy:r,middlewareData:a,rects:c,platform:s,elements:{reference:e,floating:t}});g=w??g,d=y??d,a={...a,[u]:{...a[u],...P}},b&&v<=50&&(v++,typeof b=="object"&&(b.placement&&(m=b.placement),b.rects&&(c=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):b.rects),{x:g,y:d}=ie(c,m,f)),p=-1)}return{x:g,y:d,placement:m,strategy:r,middlewareData:a}};async function me(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:f}=e,{boundary:c="clippingAncestors",rootBoundary:g="viewport",elementContext:d="floating",altBoundary:m=!1,padding:a=0}=Pt(t,e),v=he(a),u=l[m?d==="floating"?"reference":"floating":d],h=Tt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(u)))==null||n?u:u.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:g,strategy:f})),w=d==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),P=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},b=Tt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:y,strategy:f}):w);return{top:(h.top-b.top+v.top)/P.y,bottom:(b.bottom-h.bottom+v.bottom)/P.y,left:(h.left-b.left+v.left)/P.x,right:(b.right-h.right+v.right)/P.x}}const rn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:i,platform:s,elements:l,middlewareData:f}=t,{element:c,padding:g=0}=Pt(e,t)||{};if(c==null)return{};const d=he(g),m={x:n,y:o},a=Kt(r),v=Yt(a),p=await s.getDimensions(c),u=a==="y",h=u?"top":"left",w=u?"bottom":"right",y=u?"clientHeight":"clientWidth",P=i.reference[v]+i.reference[a]-m[a]-i.floating[v],b=m[a]-i.reference[a],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let C=R?R[y]:0;(!C||!await(s.isElement==null?void 0:s.isElement(R)))&&(C=l.floating[y]||i.floating[v]);const F=P/2-b/2,L=C/2-p[v]/2-1,k=pt(d[h],L),O=pt(d[w],L),S=k,B=C-p[v]-O,T=C/2-p[v]/2+F,X=Mt(S,T,B),W=!f.arrow&&Lt(r)!=null&&T!==X&&i.reference[v]/2-(T<S?k:O)-p[v]/2<0,q=W?T<S?T-S:T-B:0;return{[a]:m[a]+q,data:{[a]:X,centerOffset:T-X-q,...W&&{alignmentOffset:q}},reset:W}}}),sn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:f,elements:c}=t,{mainAxis:g=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...u}=Pt(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const h=ct(r),w=ht(l),y=ct(l)===l,P=await(f.isRTL==null?void 0:f.isRTL(c.floating)),b=m||(y||!p?[Ct(l)]:Ze(l)),R=v!=="none";!m&&R&&b.push(...en(l,p,v,P));const C=[l,...b],F=await me(t,u),L=[];let k=((o=i.flip)==null?void 0:o.overflows)||[];if(g&&L.push(F[h]),d){const T=Je(r,s,P);L.push(F[T[0]],F[T[1]])}if(k=[...k,{placement:r,overflows:L}],!L.every(T=>T<=0)){var O,S;const T=(((O=i.flip)==null?void 0:O.index)||0)+1,X=C[T];if(X)return{data:{index:T,overflows:k},reset:{placement:X}};let W=(S=k.filter(q=>q.overflows[0]<=0).sort((q,Z)=>q.overflows[1]-Z.overflows[1])[0])==null?void 0:S.placement;if(!W)switch(a){case"bestFit":{var B;const q=(B=k.filter(Z=>{if(R){const tt=ht(Z.placement);return tt===w||tt==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(tt=>tt>0).reduce((tt,gt)=>tt+gt,0)]).sort((Z,tt)=>Z[1]-tt[1])[0])==null?void 0:B[0];q&&(W=q);break}case"initialPlacement":W=l;break}if(r!==W)return{reset:{placement:W}}}return{}}}};async function ln(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=ct(n),l=Lt(n),f=ht(n)==="y",c=["left","top"].includes(s)?-1:1,g=i&&f?-1:1,d=Pt(t,e);let{mainAxis:m,crossAxis:a,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof v=="number"&&(a=l==="end"?v*-1:v),f?{x:a*g,y:m*c}:{x:m*c,y:a*g}}const an=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=t,f=await ln(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+f.x,y:i+f.y,data:{...f,placement:s}}}}},cn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:u=>{let{x:h,y:w}=u;return{x:h,y:w}}},...f}=Pt(e,t),c={x:n,y:o},g=await me(t,f),d=ht(ct(r)),m=pe(d);let a=c[m],v=c[d];if(i){const u=m==="y"?"top":"left",h=m==="y"?"bottom":"right",w=a+g[u],y=a-g[h];a=Mt(w,a,y)}if(s){const u=d==="y"?"top":"left",h=d==="y"?"bottom":"right",w=v+g[u],y=v-g[h];v=Mt(w,v,y)}const p=l.fn({...t,[m]:a,[d]:v});return{...p,data:{x:p.x-n,y:p.y-o,enabled:{[m]:i,[d]:s}}}}}};function Ft(){return typeof window<"u"}function vt(e){return ve(e)?(e.nodeName||"").toLowerCase():"#document"}function J(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rt(e){var t;return(t=(ve(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ve(e){return Ft()?e instanceof Node||e instanceof J(e).Node:!1}function et(e){return Ft()?e instanceof Element||e instanceof J(e).Element:!1}function ot(e){return Ft()?e instanceof HTMLElement||e instanceof J(e).HTMLElement:!1}function se(e){return!Ft()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof J(e).ShadowRoot}function kt(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=nt(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function fn(e){return["table","td","th"].includes(vt(e))}function Ot(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Qt(e){const t=Gt(),n=et(e)?nt(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function un(e){let t=lt(e);for(;ot(t)&&!mt(t);){if(Qt(t))return t;if(Ot(t))return null;t=lt(t)}return null}function Gt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mt(e){return["html","body","#document"].includes(vt(e))}function nt(e){return J(e).getComputedStyle(e)}function Dt(e){return et(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lt(e){if(vt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||se(e)&&e.host||rt(e);return se(t)?t.host:t}function ge(e){const t=lt(e);return mt(t)?e.ownerDocument?e.ownerDocument.body:e.body:ot(t)&&kt(t)?t:ge(t)}function xt(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=ge(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=J(r);if(i){const l=Vt(s);return t.concat(s,s.visualViewport||[],kt(r)?r:[],l&&n?xt(l):[])}return t.concat(r,xt(r,[],n))}function Vt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function we(e){const t=nt(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=ot(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,l=jt(n)!==i||jt(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function Jt(e){return et(e)?e:e.contextElement}function dt(e){const t=Jt(e);if(!ot(t))return st(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=we(t);let s=(i?jt(n.width):n.width)/o,l=(i?jt(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const dn=st(0);function be(e){const t=J(e);return!Gt()||!t.visualViewport?dn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==J(e)?!1:t}function ft(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=Jt(e);let s=st(1);t&&(o?et(o)&&(s=dt(o)):s=dt(e));const l=pn(i,n,o)?be(i):st(0);let f=(r.left+l.x)/s.x,c=(r.top+l.y)/s.y,g=r.width/s.x,d=r.height/s.y;if(i){const m=J(i),a=o&&et(o)?J(o):o;let v=m,p=Vt(v);for(;p&&o&&a!==v;){const u=dt(p),h=p.getBoundingClientRect(),w=nt(p),y=h.left+(p.clientLeft+parseFloat(w.paddingLeft))*u.x,P=h.top+(p.clientTop+parseFloat(w.paddingTop))*u.y;f*=u.x,c*=u.y,g*=u.x,d*=u.y,f+=y,c+=P,v=J(p),p=Vt(v)}}return Tt({width:g,height:d,x:f,y:c})}function hn(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=rt(o),l=t?Ot(t.floating):!1;if(o===s||l&&i)return n;let f={scrollLeft:0,scrollTop:0},c=st(1);const g=st(0),d=ot(o);if((d||!d&&!i)&&((vt(o)!=="body"||kt(s))&&(f=Dt(o)),ot(o))){const m=ft(o);c=dt(o),g.x=m.x+o.clientLeft,g.y=m.y+o.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-f.scrollLeft*c.x+g.x,y:n.y*c.y-f.scrollTop*c.y+g.y}}function mn(e){return Array.from(e.getClientRects())}function qt(e,t){const n=Dt(e).scrollLeft;return t?t.left+n:ft(rt(e)).left+n}function vn(e){const t=rt(e),n=Dt(e),o=e.ownerDocument.body,r=at(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=at(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+qt(e);const l=-n.scrollTop;return nt(o).direction==="rtl"&&(s+=at(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function gn(e,t){const n=J(e),o=rt(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,f=0;if(r){i=r.width,s=r.height;const c=Gt();(!c||c&&t==="fixed")&&(l=r.offsetLeft,f=r.offsetTop)}return{width:i,height:s,x:l,y:f}}function wn(e,t){const n=ft(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=ot(e)?dt(e):st(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,f=r*i.x,c=o*i.y;return{width:s,height:l,x:f,y:c}}function le(e,t,n){let o;if(t==="viewport")o=gn(e,n);else if(t==="document")o=vn(rt(e));else if(et(t))o=wn(t,n);else{const r=be(e);o={...t,x:t.x-r.x,y:t.y-r.y}}return Tt(o)}function ye(e,t){const n=lt(e);return n===t||!et(n)||mt(n)?!1:nt(n).position==="fixed"||ye(n,t)}function bn(e,t){const n=t.get(e);if(n)return n;let o=xt(e,[],!1).filter(l=>et(l)&&vt(l)!=="body"),r=null;const i=nt(e).position==="fixed";let s=i?lt(e):e;for(;et(s)&&!mt(s);){const l=nt(s),f=Qt(s);!f&&l.position==="fixed"&&(r=null),(i?!f&&!r:!f&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||kt(s)&&!f&&ye(e,s))?o=o.filter(g=>g!==s):r=l,s=lt(s)}return t.set(e,o),o}function yn(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?Ot(t)?[]:bn(t,this._c):[].concat(n),o],l=s[0],f=s.reduce((c,g)=>{const d=le(t,g,r);return c.top=at(d.top,c.top),c.right=pt(d.right,c.right),c.bottom=pt(d.bottom,c.bottom),c.left=at(d.left,c.left),c},le(t,l,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function xn(e){const{width:t,height:n}=we(e);return{width:t,height:n}}function _n(e,t,n){const o=ot(t),r=rt(t),i=n==="fixed",s=ft(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const f=st(0);if(o||!o&&!i)if((vt(t)!=="body"||kt(r))&&(l=Dt(t)),o){const a=ft(t,!0,i,t);f.x=a.x+t.clientLeft,f.y=a.y+t.clientTop}else r&&(f.x=qt(r));let c=0,g=0;if(r&&!o&&!i){const a=r.getBoundingClientRect();g=a.top+l.scrollTop,c=a.left+l.scrollLeft-qt(r,a)}const d=s.left+l.scrollLeft-f.x-c,m=s.top+l.scrollTop-f.y-g;return{x:d,y:m,width:s.width,height:s.height}}function Ut(e){return nt(e).position==="static"}function ae(e,t){if(!ot(e)||nt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return rt(e)===n&&(n=n.ownerDocument.body),n}function xe(e,t){const n=J(e);if(Ot(e))return n;if(!ot(e)){let r=lt(e);for(;r&&!mt(r);){if(et(r)&&!Ut(r))return r;r=lt(r)}return n}let o=ae(e,t);for(;o&&fn(o)&&Ut(o);)o=ae(o,t);return o&&mt(o)&&Ut(o)&&!Qt(o)?n:o||un(e)||n}const $n=async function(e){const t=this.getOffsetParent||xe,n=this.getDimensions,o=await n(e.floating);return{reference:_n(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Pn(e){return nt(e).direction==="rtl"}const Ln={convertOffsetParentRelativeRectToViewportRelativeRect:hn,getDocumentElement:rt,getClippingRect:yn,getOffsetParent:xe,getElementRects:$n,getClientRects:mn,getDimensions:xn,getScale:dt,isElement:et,isRTL:Pn};function kn(e,t){let n=null,o;const r=rt(e);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),i();const{left:c,top:g,width:d,height:m}=e.getBoundingClientRect();if(l||t(),!d||!m)return;const a=Et(g),v=Et(r.clientWidth-(c+d)),p=Et(r.clientHeight-(g+m)),u=Et(c),w={rootMargin:-a+"px "+-v+"px "+-p+"px "+-u+"px",threshold:at(0,pt(1,f))||1};let y=!0;function P(b){const R=b[0].intersectionRatio;if(R!==f){if(!y)return s();R?s(!1,R):o=setTimeout(()=>{s(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(P,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(P,w)}n.observe(e)}return s(!0),i}function Rn(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,c=Jt(e),g=r||i?[...c?xt(c):[],...xt(t)]:[];g.forEach(h=>{r&&h.addEventListener("scroll",n,{passive:!0}),i&&h.addEventListener("resize",n)});const d=c&&l?kn(c,n):null;let m=-1,a=null;s&&(a=new ResizeObserver(h=>{let[w]=h;w&&w.target===c&&a&&(a.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=a)==null||y.observe(t)})),n()}),c&&!f&&a.observe(c),a.observe(t));let v,p=f?ft(e):null;f&&u();function u(){const h=ft(e);p&&(h.x!==p.x||h.y!==p.y||h.width!==p.width||h.height!==p.height)&&n(),p=h,v=requestAnimationFrame(u)}return n(),()=>{var h;g.forEach(w=>{r&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d==null||d(),(h=a)==null||h.disconnect(),a=null,f&&cancelAnimationFrame(v)}}const An=an,En=cn,Sn=sn,jn=rn,Cn=(e,t,n)=>{const o=new Map,r={platform:Ln,...n},i={...r.platform,_c:o};return on(e,t,{...r,platform:i})},Tn=""+new URL("../assets/logo.CnKE1_uM.png",import.meta.url).href;function Fn(e,t){_t(t,!0),bt("__api__",t.api);var n=Wt(),o=yt(n);it(o,()=>t.api,r=>{var i=Wt(),s=yt(i);G(s,t,"default",{},null),D(r,i)}),D(e,n),$t()}const Bt=(e,t)=>{U(t,!E(t))};var On=H('<li class="border rounded"><a class="h-12 pl-24  flex justify-start items-center w-full text-gray-700 focus:text-primary-600 hover:text-primary-800 uppercase gap-2"><!> </a></li>'),Dn=H('<div class="h-screen w-screen bg-gray-600 bg-opacity-90 fixed z-50"><div class="h-full w-full absolute transform translate-x-0 transition ease-in-out duration-700 p-5"><div class="h-full bg-white rounded p-5"><div class="absolute right-4"><button aria-label="close menu modal" class="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 cursor-pointer rounded border mr-2"><!></button></div> <ul class="space-y-4 pt-10"></ul></div></div></div>'),zn=H('<div class="h-[calc(100vh-4rem)] md:h-screen"><!></div>'),Hn=(e,t,n)=>{t.open(n)},Un=H('<div slot="header" class="flex flex-row md:hidden justify-between bg-surface-100-800-token"><div class="flex p-1"><button><!></button></div> <div class="flex gap-4 p-1"><button class="flex flex-col justify-center items-center rounded-full bg-secondary-100 hover:bg-secondary-200 p-2"><!></button></div></div>'),Bn=H('<a class="p-4 hover:bg-secondary-50 [&amp;>*]:pointer-events-none"><!></a> <div class="card p-2 variant-filled-secondary"><p> </p></div>',1),Wn=H('<div class="flex flex-col"></div>'),Mn=H('<div class="flex justify-center items-center p-2"><img alt="logo"></div>'),In=H('<div slot="lead" class="mb-4"><!></div>'),Vn=(e,t,n)=>{t.open(n)},qn=H('<div slot="trail" class="mb-4 p-2"><button class="flex flex-col justify-center items-center rounded-full bg-secondary-100 hover:bg-secondary-200 p-2"><!></button></div>'),Nn=H('<div slot="sidebarLeft" class="h-screen hidden md:block bg-gradient-to-br variant-gradient-primary-secondary"><!></div>'),Xn=H("<!> <!>",1);function mo(e,t){_t(t,!0);let n=te(!1);const o=Re();let r=[{name:"Home",link:"/z/pages/portal",icon:"home"},{name:"Projects",link:"/z/pages/portal/project",icon:"queue-list"},{name:"Profile",link:"/z/pages/portal/self",icon:"user-circle"},{name:"Users",link:"/z/pages/portal/self/users",icon:"users"},{name:"Files",link:"/z/pages/portal/self/files",icon:"folder"}];r.push({name:"Playground",link:"/z/pages/portal/playground",icon:"code-bracket-square"});let i=te(void 0);const s=()=>{U(i,je(new Ke))},l={id:"notification",width:"w-modal-slim",meta:{getRootAPI:()=>E(i)}};de.set({computePosition:Cn,autoUpdate:Rn,offset:An,shift:En,flip:Sn,arrow:jn}),s();var f=Xn(),c=yt(f);it(c,()=>E(n),d=>{var m=Dn(),a=$(m),v=$(a),p=$(v),u=$(p);u.__click=[Bt,n];var h=$(u);ut(h,{name:"x-mark",className:"h-4 w-4"}),_(u),_(p);var w=K(p,2);ne(w,21,()=>r,oe,(y,P)=>{var b=On(),R=$(b);R.__click=[Bt,n];var C=$(R),F=Ht(()=>E(P).icon||"link");ut(C,{get name(){return E(F)},className:"w-6 h-6"});var L=K(C);_(R),_(b),Q(()=>{At(R,"href",E(P).link),ee(L,` ${(E(P).name||"")??""}`)}),D(y,b)}),_(w),_(v),_(a),_(m),D(d,m)});var g=K(c,2);Ye(g,{children:(d,m)=>{var a=zn(),v=$(a);Fn(v,{get api(){return E(i)},children:Pe,$$slots:{default:(p,u)=>{var h=Wt(),w=yt(h);ke(w,()=>t.children??Le),D(p,h)}}}),_(a),D(d,a)},$$slots:{default:!0,header:(d,m)=>{var a=Un(),v=$(a),p=$(v);p.__click=[Bt,n];var u=$(p);ut(u,{name:"bars-3",className:"w-6 h-6"}),_(p),_(v);var h=K(v,2),w=$(h);w.__click=[Hn,o,l];var y=$(w);ut(y,{name:"bell",className:"w-6 h-6"}),_(w),_(h),_(a),D(d,a)},sidebarLeft:(d,m)=>{var a=Nn(),v=$(a);ze(v,{width:"w-14",children:(p,u)=>{var h=Wn();ne(h,21,()=>r,oe,(y,P,b)=>{var R=Bn();const C=Ht(()=>({event:"hover",target:`popupHover-${b}`,placement:"right"}));var F=yt(R),L=$(F),k=Ht(()=>E(P).icon||"link");ut(L,{get name(){return E(k)},className:"w-6 h-6"}),_(F);var O=K(F,2);At(O,"data-popup",`popupHover-${b}`);var S=$(O),B=$(S);_(S),_(O),Q(()=>{At(F,"href",E(P).link),ee(B,E(P).name||"")}),Ae(F,(T,X)=>Oe(T,X),()=>E(C)),D(y,R)}),_(h),D(p,h)},$$slots:{default:!0,lead:(p,u)=>{var h=In(),w=$(h);Be(w,{href:"/z/pages/portal",children:(y,P)=>{var b=Mn(),R=$(b);At(R,"src",Tn),_(b),D(y,b)},$$slots:{default:!0}}),_(h),D(p,h)},trail:(p,u)=>{var h=qn(),w=$(h);w.__click=[Vn,o,l];var y=$(w);ut(y,{name:"bell",className:"w-6 h-6"}),_(w),_(h),D(p,h)}}}),_(a),D(d,a)}}}),D(e,f),$t()}Se(["click"]);export{mo as component};
