import{s as D,a as S,e as $,g as z,c as k,b as y,f as p,m as v,i as _,h as U,x as E,k as F,r as j,t as b,d as h,j as w}from"../chunks/scheduler.D2OtNeTK.js";import{S as C,i as N,c as P,b as T,m as q,t as A,a as B,e as I}from"../chunks/index.DD9KLV65.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.B6Y8wNrO.js";import{F as O}from"../chunks/FileDropzone.D-WerdTx.js";import{p as V}from"../chunks/index.BURjlDwe.js";function x(r){var o;let e,t=(((o=r[1])==null?void 0:o.name)||"")+"",a;return{c(){e=$("span"),a=b(t)},l(l){e=k(l,"SPAN",{});var s=y(e);a=h(s,t),s.forEach(p)},m(l,s){_(l,e,s),U(e,a)},p(l,s){var m;s&2&&t!==(t=(((m=l[1])==null?void 0:m.name)||"")+"")&&w(a,t)},d(l){l&&p(e)}}}function G(r){let e;return{c(){e=b("Upload files")},l(t){e=h(t,"Upload files")},m(t,a){_(t,e,a)},d(t){t&&p(e)}}}function H(r){let e;return{c(){e=b("Upload")},l(t){e=h(t,"Upload")},m(t,a){_(t,e,a)},d(t){t&&p(e)}}}function J(r){let e;return{c(){e=b("Uploading...")},l(t){e=h(t,"Uploading...")},m(t,a){_(t,e,a)},d(t){t&&p(e)}}}function K(r){let e,t,a,o,l,s,m,g;e=new O({props:{name:"files",$$slots:{message:[G],lead:[x]},$$scope:{ctx:r}}}),e.$on("change",r[4]);function c(n,i){return n[0]?J:H}let u=c(r),f=u(r);return{c(){P(e.$$.fragment),t=S(),a=$("div"),o=$("button"),f.c(),this.h()},l(n){T(e.$$.fragment,n),t=z(n),a=k(n,"DIV",{class:!0});var i=y(a);o=k(i,"BUTTON",{class:!0});var d=y(o);f.l(d),d.forEach(p),i.forEach(p),this.h()},h(){v(o,"class","btn btn-sm variant-filled"),o.disabled=l=!r[1]||r[0],v(a,"class","flex justify-end py-2")},m(n,i){q(e,n,i),_(n,t,i),_(n,a,i),U(a,o),f.m(o,null),s=!0,m||(g=E(o,"click",r[5]),m=!0)},p(n,[i]){const d={};i&66&&(d.$$scope={dirty:i,ctx:n}),e.$set(d),u!==(u=c(n))&&(f.d(1),f=u(n),f&&(f.c(),f.m(o,null))),(!s||i&3&&l!==(l=!n[1]||n[0]))&&(o.disabled=l)},i(n){s||(A(e.$$.fragment,n),s=!0)},o(n){B(e.$$.fragment,n),s=!1},d(n){n&&(p(t),p(a)),I(e,n),f.d(),m=!1,g()}}}function L(r,e,t){let a;F(r,V,c=>t(2,a=c));const o=j("__api__");let l=!1,s;return[l,s,a,o,async c=>{console.log("onDrop",c),t(1,s=c.target.files[0])},async()=>{t(0,l=!0);const c=a.folder||"";await o.addSelfFile(s.name,c,s),t(0,l=!1)}]}class Y extends C{constructor(e){super(),N(this,e,L,K,D,{})}}export{Y as component};
