import{s as b,e as v,c as w,w as x,m as L,i as y,n as l,f as j,k as d,q as C,D as R}from"../chunks/scheduler.Dy-hT7lj.js";import{S as U,i as k}from"../chunks/index.jcCBAMyh.js";import{p as D}from"../chunks/index.NnJejm2M.js";import{p as E}from"../chunks/stores.YmkBQNJ3.js";function I(s){let t,o='<a href="/" class="hidden">a</a>';return{c(){t=v("div"),t.innerHTML=o,this.h()},l(a){t=w(a,"DIV",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-hk27nu"&&(t.innerHTML=o),this.h()},h(){L(t,"class","overflow-auto svelte-vtwvgl")},m(a,i){y(a,t,i),s[1](t)},p:l,i:l,o:l,d(a){a&&j(t),s[1](null)}}}function T(s,t,o){let a,i;d(s,E,n=>o(2,a=n)),d(s,D,n=>o(3,i=n));const m=C("__api__"),f=i.fid;i.folder;const c=i.filename,g=a.params.pid;let r;const u=["png","jpg","jpeg","gif","bmp","webp","svg"];(async()=>{const n=await m.getProjectFile(g,f);if(n.status!==200)return;const p=c.split(".").pop();if(p)if(u.includes(p)){console.log("image");const e=new Image;e.src=URL.createObjectURL(n.data),e.onload=()=>{console.log("img loaded")},e.onerror=_=>{console.log("img error",_)},r.appendChild(e)}else{const e=document.createElement("a");e.href=URL.createObjectURL(n.data),e.download=c,e.innerText="download",e.style.color="while",e.style.padding="5%",e.style.paddingLeft="10%",e.style.textDecoration="underline",r.appendChild(e)}})();function h(n){R[n?"unshift":"push"](()=>{r=n,o(0,r)})}return[r,h]}class S extends U{constructor(t){super(),k(this,t,T,I,b,{})}}export{S as component};
