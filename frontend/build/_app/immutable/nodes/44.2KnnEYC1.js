import{s as u,n as c,k as i,y as f}from"../chunks/scheduler.CPmtgLt4.js";import{S as _,i as d,c as l,b as g,m as y,t as E,a as $,d as b}from"../chunks/index.CsITmn2N.js";import{A}from"../chunks/auto_form.LV0wk951.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.XpbzWZVH.js";/* empty css                                                     */import{b as x}from"../chunks/route.CPFyE0e3.js";import{p as S}from"../chunks/index.COtd9eM3.js";import{N as T}from"../chunks/index.B_G37SEf.js";import{p as k}from"../chunks/stores.DZzzPzvs.js";function C(o){let t,a;return t=new A({props:{data:{},message:N,schema:{fields:[{ftype:"KEY_VALUE_TEXT",key_name:"contents",name:"Contents"},{ftype:"SELECT",key_name:"status",name:"Status",options:["submited","processed","denied"]},{ftype:"KEY_VALUE_TEXT",key_name:"extrameta",name:"Extra Meta"}],name:"Add Queue message",required_fields:["name"]},onSave:o[3]}}),{c(){l(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,s){y(t,e,s),a=!0},p:c,i(e){a||(E(t.$$.fragment,e),a=!0)},o(e){$(t.$$.fragment,e),a=!1},d(e){b(t,e)}}}let N="";function w(o,t,a){let e,s;i(o,S,n=>a(4,e=n)),i(o,k,n=>a(5,s=n));let r=s.params.pid,m=e.tid;const p=T(f("__api__"));return[r,m,p,async n=>{(await p.addQueueMessage(r,{...n,projectId:Number(r),templateId:Number(m)})).status===200&&x(r,m)}]}class X extends _{constructor(t){super(),d(this,t,w,C,u,{})}}export{X as component};
