import{c as va,a as B,t as Y}from"../chunks/disclose-version.wcsHG7oF.js";import{p as ma,g as fa,i as b,f as ga,a as ba,h as _,s as l,c as o,b as a,t as Q,r as s,d as c}from"../chunks/runtime.D6lgFUio.js";import{s as U}from"../chunks/render.CIW-w3Th.js";import{i as ha}from"../chunks/if.lkQ-IRrr.js";import{e as ya,i as xa}from"../chunks/each.CWrzZiCN.js";import{s as ka,r as h,a as u}from"../chunks/attributes.BFGPVQjG.js";import{d as wa}from"../chunks/utils.Dh-XvBAd.js";import{r as Ia}from"../chunks/misc.CFrgioPu.js";import{p as y}from"../chunks/proxy.r5-P5EHK.js";import{i as $a,s as Ca}from"../chunks/select.BfGKzECA.js";import{s as Na,a as W}from"../chunks/store.BaapSzAp.js";import{N as Pa}from"../chunks/index.Duto3aX0.js";import{p as La}from"../chunks/stores.D4Dcgzbh.js";import{g as ja}from"../chunks/entry.Y6HcnCx3.js";import{p as Sa}from"../chunks/index.xGEmn6Hr.js";import{L as Va}from"../chunks/loader.BeY12cOT.js";import{S as Aa}from"../chunks/SvgIcon.Cj01WnO8.js";var Ea=Y("<option> </option>"),za=(G,x,v)=>{x({...a(v)})},Ba=Y('<div class="p-2"><div class="card"><header class="card-header"><h4 class="h4">Edit Product</h4> <p class="text-red-500"> </p></header> <section class="p-4 flex flex-col gap-4"><label class="label"><span>Name</span> <input class="input p-1" type="text" placeholder="Input"></label> <label class="label"><span>Catagory</span> <select class="select"></select></label> <label class="label"><span>Variant</span> <input type="text" name="variant_id" class="input p-1" placeholder="LARGE XL"></label> <label class="label" for="price"><span>Price</span></label> <div class="input-group input-group-divider grid-cols-[auto_1fr_auto]"><span class="w-8"><!></span> <input id="price" class="input p-1" type="number" placeholder="Input"></div> <label class="label"><span>In Stock</span> <input id="stock_count" class="input p-1" type="number" placeholder="Input"></label> <label class="label"><span>Info</span> <textarea class="textarea p-1" rows="4"></textarea></label></section> <footer class="card-footer flex justify-end"><button class="btn variant-filled">save</button></footer></div></div>');function ee(G,x){ma(x,!0);const v=Na(),Z=()=>W(La,"$page",v),aa=()=>W(Sa,"$params",v),m=Z().params.pid,R=aa().prid,k=Pa(fa("__api__"));let T=b(""),r=b(void 0),w=b(!0),X=b(y([]));const ea=async()=>{_(w,!0);const t=await k.getProduct(m,R);t.status===200&&(_(r,y(t.data)),_(w,!1))};(async()=>{const t=await k.listCatagories(m);t.status===200&&_(X,y(t.data))})(),ea();const ta=async t=>{delete t.id;const i=await k.updateProduct(m,R,t);if(i.status!==200){_(T,y(i.data.message));return}ja(`/z/pages/portal/projects/books/${m}/inventory/products`)},q=t=>i=>{a(r)[t]=i.target.value},f=t=>i=>{a(r)[t]=Number(i.target.value)};var D=va(),sa=ga(D);ha(sa,()=>a(w),t=>{Va(t,{})},t=>{var i=Ba(),F=o(i),I=o(F),H=l(o(I),2),ra=o(H);s(H),s(I);var $=l(I,2),C=o($),N=l(o(C),2);h(N);var la=c(()=>q("name"));N.__change=function(...n){var e;(e=a(la))==null||e.apply(this,n)},s(C);var P=l(C,2),p=l(o(P),2);$a(p,()=>a(r).catagory_id);var J,oa=c(()=>f("catagory_id"));p.__change=function(...n){var e;(e=a(oa))==null||e.apply(this,n)},ya(p,21,()=>a(X),xa,(n,e)=>{var d=Ea(),O={},ua=o(d);s(d),Q(()=>{O!==(O=a(e).id)&&(d.value=(d.__value=a(e).id)==null?"":a(e).id),U(ua,a(e).name)}),B(n,d)}),s(p),s(P);var L=l(P,2),j=l(o(L),2);h(j);var na=c(()=>f("variant_id"));j.__change=function(...n){var e;(e=a(na))==null||e.apply(this,n)},s(L);var S=l(L,4),V=o(S),ia=o(V);Aa(ia,{name:"currency-dollar",className:"w-5 h-5 text-gray-700 inline-flex justify-self-center items-center mt-1 ml-1"}),s(V);var A=l(V,2);h(A);var pa=c(()=>f("price"));A.__change=function(...n){var e;(e=a(pa))==null||e.apply(this,n)},s(S);var E=l(S,2),z=l(o(E),2);h(z);var ca=c(()=>f("stock_count"));z.__change=function(...n){var e;(e=a(ca))==null||e.apply(this,n)},s(E);var K=l(E,2),g=l(o(K),2);Ia(g);var da=c(()=>q("info"));g.__change=function(...n){var e;(e=a(da))==null||e.apply(this,n)},ka(g,"placeholder","information about account"),s(K),s($);var M=l($,2),_a=o(M);_a.__click=[za,ta,r],s(M),s(F),s(i),Q(()=>{U(ra,a(T)),u(N,a(r).name),J!==(J=a(r).catagory_id)&&(p.value=(p.__value=a(r).catagory_id)==null?"":a(r).catagory_id,Ca(p,a(r).catagory_id)),u(j,a(r).variant_id),u(A,a(r).price),u(z,a(r).stock_count),u(g,a(r).info)}),B(t,i)}),B(G,D),ba()}wa(["change","click"]);export{ee as component};
