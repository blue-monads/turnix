import{s as T,x as d,i as N,f as h,k as g,q as w,n as E}from"../chunks/scheduler.BSMlFrmR.js";import{S as C,i as L,a as u,d as S,t as l,g as q,c as y,b as k,m as b,e as $}from"../chunks/index.DIQEG9mn.js";import{N as x}from"../chunks/index.Duto3aX0.js";import{p as A}from"../chunks/stores.ljWIZ5Ll.js";import{A as I}from"../chunks/auto_form.BnFAOhBd.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.CPOc6-8_.js";import{L as P}from"../chunks/loader.BC9BD-QK.js";import{g as X}from"../chunks/entry.D8xZB6l6.js";import{p as j}from"../chunks/index.s50jUYE8.js";function z(n){let e,o;return e=new I({props:{message:n[0],data:n[1],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Type",ftype:"SELECT",key_name:"ttype",options:["item_percent"]},{name:"Rate",ftype:"INT",key_name:"rate"},{name:"Info",ftype:"LONG_TEXT",key_name:"info"}],name:"Edit Catagory",required_fields:[]},onSave:n[3]}}),{c(){y(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),o=!0},p(t,r){const m={};r&1&&(m.message=t[0]),r&2&&(m.data=t[1]),e.$set(m)},i(t){o||(l(e.$$.fragment,t),o=!0)},o(t){u(e.$$.fragment,t),o=!1},d(t){$(e,t)}}}function B(n){let e,o;return e=new P({}),{c(){y(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){b(e,t,r),o=!0},p:E,i(t){o||(l(e.$$.fragment,t),o=!0)},o(t){u(e.$$.fragment,t),o=!1},d(t){$(e,t)}}}function G(n){let e,o,t,r;const m=[B,z],s=[];function f(a,p){return a[2]?0:1}return e=f(n),o=s[e]=m[e](n),{c(){o.c(),t=d()},l(a){o.l(a),t=d()},m(a,p){s[e].m(a,p),N(a,t,p),r=!0},p(a,[p]){let c=e;e=f(a),e===c?s[e].p(a,p):(q(),u(s[c],1,1,()=>{s[c]=null}),S(),o=s[e],o?o.p(a,p):(o=s[e]=m[e](a),o.c()),l(o,1),o.m(t.parentNode,t))},i(a){r||(l(o),r=!0)},o(a){u(o),r=!1},d(a){a&&h(t),s[e].d(a)}}}function O(n,e,o){let t,r;g(n,j,i=>o(4,t=i)),g(n,A,i=>o(5,r=i));const m=r.params.pid,s=t.tid,f=x(w("__api__"));let a="",p,c=!0;return(async()=>{o(2,c=!0);const i=await f.getTax(m,s);i.status===200&&(o(1,p=i.data),o(2,c=!1))})(),[a,p,c,async i=>{const _=await f.updateTax(m,s,i);if(_.status!==200){o(0,a=_.data.message);return}X(`/z/pages/portal/projects/books/${m}/inventory/tax`)}]}class Y extends C{constructor(e){super(),L(this,e,O,G,T,{})}}export{Y as component};
