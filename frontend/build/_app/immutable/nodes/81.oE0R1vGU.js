import{s as u,n as c,k as i,q as f}from"../chunks/scheduler.BSMlFrmR.js";import{S as _,i as d,c as l,b as g,m as E,t as y,a as $,e as b}from"../chunks/index.DIQEG9mn.js";import{A}from"../chunks/auto_form.BnFAOhBd.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.CPOc6-8_.js";/* empty css                                                     */import{b as x}from"../chunks/route.BwPZZ31y.js";import{p as S}from"../chunks/index.s50jUYE8.js";import{N as T}from"../chunks/index.DQVP37Ea.js";import{p as k}from"../chunks/stores.ljWIZ5Ll.js";function C(o){let t,a;return t=new A({props:{data:{},message:N,schema:{fields:[{ftype:"KEY_VALUE_TEXT",key_name:"contents",name:"Contents"},{ftype:"SELECT",key_name:"status",name:"Status",options:["submited","processed","denied"]},{ftype:"KEY_VALUE_TEXT",key_name:"extrameta",name:"Extra Meta"}],name:"Add Queue message",required_fields:["name"]},onSave:o[3]}}),{c(){l(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,s){E(t,e,s),a=!0},p:c,i(e){a||(y(t.$$.fragment,e),a=!0)},o(e){$(t.$$.fragment,e),a=!1},d(e){b(t,e)}}}let N="";function q(o,t,a){let e,s;i(o,S,n=>a(4,e=n)),i(o,k,n=>a(5,s=n));let r=s.params.pid,m=e.tid;const p=T(f("__api__"));return[r,m,p,async n=>{(await p.addQueueMessage(r,{...n,projectId:Number(r),templateId:Number(m)})).status===200&&x(r,m)}]}class X extends _{constructor(t){super(),d(this,t,q,C,u,{})}}export{X as component};
