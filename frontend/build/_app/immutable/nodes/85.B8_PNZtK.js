import{c as k,a as A}from"../chunks/disclose-version.wcsHG7oF.js";import{p as L,g as h,i as o,f as N,a as X,h as e,b as r}from"../chunks/runtime.D6lgFUio.js";import{i as v}from"../chunks/if.lkQ-IRrr.js";import{p}from"../chunks/proxy.r5-P5EHK.js";import{s as w,a as _}from"../chunks/store.BaapSzAp.js";import{A as x}from"../chunks/auto_form.CxbPX2mo.js";import"../chunks/autotable.D6q4cofd.js";import"../chunks/index.BXdKDRLQ.js";import{L as C}from"../chunks/loader.BeY12cOT.js";import{f as U}from"../chunks/route.D43SVYmO.js";import{p as b}from"../chunks/index.BTu0Thf0.js";import{N as K}from"../chunks/index.DQVP37Ea.js";import{p as O}from"../chunks/stores.Dnldv-Vm.js";function J(u,g){L(g,!0);const m=w(),T=()=>_(O,"$page",m),y=()=>_(b,"$params",m),n=K(h("__api__"));let a=T().params.pid,i=y().tid,f=o(""),s=o(!0),c=o(p({}));(async()=>{e(s,!0);const t=await n.getTemplate(a,i);t.status===200&&(e(c,p(t.data)),e(s,!1))})();var l=k(),E=N(l);v(E,()=>r(s),t=>{C(t,{})},t=>{x(t,{get data(){return r(c)},get message(){return r(f)},schema:{fields:[{ftype:"TEXT",key_name:"name",name:"Name"},{ftype:"KEY_VALUE_TEXT",key_name:"contents",name:"Contents"},{ftype:"KEY_VALUE_TEXT",key_name:"result",name:"Result"},{ftype:"LONG_TEXT",key_name:"contentScript",name:"Content script"}],name:"Edit Template",required_fields:["name"]},onSave:async $=>{const d=await n.updateTemplate(a,i,$);if(d.status!==200){e(f,p(d.data));return}U(a)}})}),A(u,l),X()}export{J as component};
