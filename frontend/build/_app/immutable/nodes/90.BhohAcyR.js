import{s as p,D as u,E as g,k as d,q as b}from"../chunks/scheduler.BSMlFrmR.js";import{S as h,i as k,f as F,c as S,b as q,m as w,t as C,a as y,e as z}from"../chunks/index.DIQEG9mn.js";import{p as D}from"../chunks/index.s50jUYE8.js";import{F as E}from"../chunks/FileListings.DUzJ25q1.js";function L(t){let s,n,l;function r(e){t[5](e)}let f={baseUrl:"/z/pages/portal/self/files",path:t[2],files:t[0],loading:t[3]};return t[1]!==void 0&&(f.selected=t[1]),s=new E({props:f}),u.push(()=>F(s,"selected",r)),{c(){S(s.$$.fragment)},l(e){q(s.$$.fragment,e)},m(e,o){w(s,e,o),l=!0},p(e,[o]){const a={};o&4&&(a.path=e[2]),o&1&&(a.files=e[0]),o&8&&(a.loading=e[3]),!n&&o&2&&(n=!0,a.selected=e[1],g(()=>n=!1)),s.$set(a)},i(e){l||(C(s.$$.fragment,e),l=!0)},o(e){y(s.$$.fragment,e),l=!1},d(e){z(s,e)}}}function P(t,s,n){let l,r;d(t,D,i=>n(4,r=i));let{files:f=[]}=s,{selected:e}=s;const o=b("__api__");let a=!1;const m=async i=>{n(3,a=!0);const c=await o.listSelfFiles(i);c.status===200&&(n(0,f=c.data),n(3,a=!1))};function _(i){e=i,n(1,e)}return t.$$set=i=>{"files"in i&&n(0,f=i.files),"selected"in i&&n(1,e=i.selected)},t.$$.update=()=>{t.$$.dirty&16&&n(2,l=r.folder||""),t.$$.dirty&4&&m(l)},[f,e,l,a,r,_]}class G extends h{constructor(s){super(),k(this,s,P,L,p,{files:0,selected:1})}}export{G as component};
