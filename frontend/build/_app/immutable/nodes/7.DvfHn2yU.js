import{s as Y,x as O,i as z,f as _,r as se,l as Z,u as x,o as ee,p as te,e as y,a as L,c as S,b as N,g as T,m as b,h as $,k as re,U as oe,w as ie,y as ce,v as fe,t as ue,d as pe}from"../chunks/scheduler.BSMlFrmR.js";import{S as ae,i as le,t as g,g as M,a as h,d as V,c as H,b as P,m as U,e as B}from"../chunks/index.DIQEG9mn.js";import{e as F}from"../chunks/each.D6YF6ztN.js";import{p as me}from"../chunks/stores.Ct4hmiyJ.js";import{S as j}from"../chunks/SvgIcon.DwWRhvCX.js";import{a as de}from"../chunks/axios.BimPEqV4.js";const ge=async s=>{console.log("buildApi",s);const t=de.create({baseURL:s,headers:{NodeCTRLKey:"fixme"}});return{getStatus:async()=>await t.get("/z/eapi/status"),startInstance:async()=>await t.post("/z/eapi/start",{})}};function G(s){let t;const n=s[2].default,e=Z(n,s,s[1],null);return{c(){e&&e.c()},l(a){e&&e.l(a)},m(a,l){e&&e.m(a,l),t=!0},p(a,l){e&&e.p&&(!t||l&2)&&x(e,n,a,a[1],t?te(n,a[1],l,null):ee(a[1]),null)},i(a){t||(g(e,a),t=!0)},o(a){h(e,a),t=!1},d(a){e&&e.d(a)}}}function _e(s){let t,n,e=s[0]&&G(s);return{c(){e&&e.c(),t=O()},l(a){e&&e.l(a),t=O()},m(a,l){e&&e.m(a,l),z(a,t,l),n=!0},p(a,[l]){a[0]?e?(e.p(a,l),l&1&&g(e,1)):(e=G(a),e.c(),g(e,1),e.m(t.parentNode,t)):e&&(M(),h(e,1,1,()=>{e=null}),V())},i(a){n||(g(e),n=!0)},o(a){h(e),n=!1},d(a){a&&_(t),e&&e.d(a)}}}function he(s,t,n){let{$$slots:e={},$$scope:a}=t,{api:l}=t;return se("__start_api__",l),s.$$set=r=>{"api"in r&&n(0,l=r.api),"$$scope"in r&&n(1,a=r.$$scope)},[l,a,e]}class be extends ae{constructor(t){super(),le(this,t,he,_e,Y,{api:0})}}function J(s,t,n){const e=s.slice();return e[9]=t[n],e}function Q(s){let t,n,e="<h4>Startpage</h4>",a,l,r,i,c,f,m,v,I,k,C,K,q,E=F(s[3]),u=[];for(let o=0;o<E.length;o+=1)u[o]=W(J(s,E,o));const ne=o=>h(u[o],1,1,()=>{u[o]=null});return m=new j({props:{className:"h-4 w-4",name:s[1]?"chevron-double-left":"chevron-double-right"}}),k=new j({props:{className:"h-4 w-4",name:s[1]?"chevron-double-up":"chevron-double-down"}}),{c(){t=y("div"),n=y("div"),n.innerHTML=e,a=L();for(let o=0;o<u.length;o+=1)u[o].c();r=L(),i=y("div"),c=y("button"),f=y("span"),H(m.$$.fragment),v=L(),I=y("span"),H(k.$$.fragment),this.h()},l(o){t=S(o,"DIV",{id:!0,class:!0});var p=N(t);n=S(p,"DIV",{class:!0,"data-svelte-h":!0}),ie(n)!=="svelte-ryjxz7"&&(n.innerHTML=e),a=T(p);for(let R=0;R<u.length;R+=1)u[R].l(p);p.forEach(_),r=T(o),i=S(o,"DIV",{class:!0});var w=N(i);c=S(w,"BUTTON",{class:!0});var A=N(c);f=S(A,"SPAN",{class:!0});var d=N(f);P(m.$$.fragment,d),d.forEach(_),v=T(A),I=S(A,"SPAN",{class:!0});var D=N(I);P(k.$$.fragment,D),D.forEach(_),A.forEach(_),w.forEach(_),this.h()},h(){b(n,"class","p-2 border text-center variant-outline uppercase font-medium font-token"),b(t,"id","sidebar"),b(t,"class",l="p-4 flex flex-col gap-2 transition-all duration-300 ease-in-out bg-blend-darken bg-gradient-to-b from-purple-50 shadow "+(s[1]?"w-48":"hidden")),b(f,"class","hidden md:block"),b(I,"class","block md:hidden"),b(c,"class","rounded border-2 bg-slate-100 p-1"),b(i,"class","absolute md:bottom-8")},m(o,p){z(o,t,p),$(t,n),$(t,a);for(let w=0;w<u.length;w+=1)u[w]&&u[w].m(t,null);z(o,r,p),z(o,i,p),$(i,c),$(c,f),U(m,f,null),$(c,v),$(c,I),U(k,I,null),C=!0,K||(q=ce(c,"click",s[6]),K=!0)},p(o,p){if(p&9){E=F(o[3]);let d;for(d=0;d<E.length;d+=1){const D=J(o,E,d);u[d]?(u[d].p(D,p),g(u[d],1)):(u[d]=W(D),u[d].c(),g(u[d],1),u[d].m(t,null))}for(M(),d=E.length;d<u.length;d+=1)ne(d);V()}(!C||p&2&&l!==(l="p-4 flex flex-col gap-2 transition-all duration-300 ease-in-out bg-blend-darken bg-gradient-to-b from-purple-50 shadow "+(o[1]?"w-48":"hidden")))&&b(t,"class",l);const w={};p&2&&(w.name=o[1]?"chevron-double-left":"chevron-double-right"),m.$set(w);const A={};p&2&&(A.name=o[1]?"chevron-double-up":"chevron-double-down"),k.$set(A)},i(o){if(!C){for(let p=0;p<E.length;p+=1)g(u[p]);g(m.$$.fragment,o),g(k.$$.fragment,o),C=!0}},o(o){u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)h(u[p]);h(m.$$.fragment,o),h(k.$$.fragment,o),C=!1},d(o){o&&(_(t),_(r),_(i)),fe(u,o),B(m),B(k),K=!1,q()}}}function W(s){let t,n,e,a=s[9].name+"",l,r,i,c;return n=new j({props:{className:"h-4 w-4 mr-1",name:s[9].icon}}),{c(){t=y("a"),H(n.$$.fragment),e=L(),l=ue(a),r=L(),this.h()},l(f){t=S(f,"A",{href:!0,class:!0});var m=N(t);P(n.$$.fragment,m),e=T(m),l=pe(m,a),r=T(m),m.forEach(_),this.h()},h(){b(t,"href",s[9].link),b(t,"class",i="flex items-center px-2 py-2 w-full text-gray-600 transition-colors duration-300 transform rounded-lg hover:bg-gray-300 hover:text-gray-700 "+(s[0]===s[9].key?"bg-gray-400 text-gray-900":""))},m(f,m){z(f,t,m),U(n,t,null),$(t,e),$(t,l),$(t,r),c=!0},p(f,m){(!c||m&1&&i!==(i="flex items-center px-2 py-2 w-full text-gray-600 transition-colors duration-300 transform rounded-lg hover:bg-gray-300 hover:text-gray-700 "+(f[0]===f[9].key?"bg-gray-400 text-gray-900":"")))&&b(t,"class",i)},i(f){c||(g(n.$$.fragment,f),c=!0)},o(f){h(n.$$.fragment,f),c=!1},d(f){f&&_(t),B(n)}}}function X(s){let t,n;return t=new be({props:{api:s[2],$$slots:{default:[ve]},$$scope:{ctx:s}}}),{c(){H(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,a){U(t,e,a),n=!0},p(e,a){const l={};a&4&&(l.api=e[2]),a&128&&(l.$$scope={dirty:a,ctx:e}),t.$set(l)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){B(t,e)}}}function ve(s){let t;const n=s[5].default,e=Z(n,s,s[7],null);return{c(){e&&e.c()},l(a){e&&e.l(a)},m(a,l){e&&e.m(a,l),t=!0},p(a,l){e&&e.p&&(!t||l&128)&&x(e,n,a,a[7],t?te(n,a[7],l,null):ee(a[7]),null)},i(a){t||(g(e,a),t=!0)},o(a){h(e,a),t=!1},d(a){e&&e.d(a)}}}function $e(s){let t,n,e,a,l=s[0]&&Q(s),r=s[2]&&X(s);return{c(){t=y("div"),l&&l.c(),n=L(),e=y("main"),r&&r.c(),this.h()},l(i){t=S(i,"DIV",{class:!0});var c=N(t);l&&l.l(c),n=T(c),e=S(c,"MAIN",{class:!0});var f=N(e);r&&r.l(f),f.forEach(_),c.forEach(_),this.h()},h(){b(e,"class","grow w-full h-screen overflow-auto"),b(t,"class","flex relative h-screen flex-col md:flex-row md:w-full border-r border-gray-800")},m(i,c){z(i,t,c),l&&l.m(t,null),$(t,n),$(t,e),r&&r.m(e,null),a=!0},p(i,[c]){i[0]?l?(l.p(i,c),c&1&&g(l,1)):(l=Q(i),l.c(),g(l,1),l.m(t,n)):l&&(M(),h(l,1,1,()=>{l=null}),V()),i[2]?r?(r.p(i,c),c&4&&g(r,1)):(r=X(i),r.c(),g(r,1),r.m(e,null)):r&&(M(),h(r,1,1,()=>{r=null}),V())},i(i){a||(g(l),g(r),a=!0)},o(i){h(l),h(r),a=!1},d(i){i&&_(t),l&&l.d(),r&&r.d()}}}function ke(s,t,n){let e,a;re(s,me,v=>n(4,a=v));let{$$slots:l={},$$scope:r}=t;a.params.pid;let i=!0,c=[{name:"Home",link:"/z/pages/startpage",icon:"home",key:"home"},{name:"Peers",link:"/z/pages/startpage/peers",icon:"rss",key:"peers"},{name:"Setting",link:"/z/pages/startpage/setting",icon:"cog",key:"setting"}];oe(()=>{const v=window;v.__handle_rpc__=function(I,k){console.log("@bang/bang"),console.log(I,k)}});let f;ge(location.origin).then(v=>{n(2,f=v)});const m=()=>{n(1,i=!i)};return s.$$set=v=>{"$$scope"in v&&n(7,r=v.$$scope)},s.$$.update=()=>{s.$$.dirty&16&&n(0,e=a.url.pathname.split("/").at(4)),s.$$.dirty&1&&console.log(e)},[e,i,f,c,a,l,m,r]}class Ae extends ae{constructor(t){super(),le(this,t,ke,$e,Y,{})}}export{Ae as component};
