import{a as m,t as v,c as B}from"../chunks/disclose-version.wcsHG7oF.js";import{p as L,g as P,i as k,f as w,a as S,h as d,b as c,s as u,c as i,r as l,e as _}from"../chunks/runtime.D6lgFUio.js";import{i as q}from"../chunks/if.lkQ-IRrr.js";import{k as C}from"../chunks/key.Dx7O0vkj.js";import{s as A}from"../chunks/attributes.BFGPVQjG.js";import{p as f}from"../chunks/proxy.r5-P5EHK.js";import{s as D,a as E}from"../chunks/store.BaapSzAp.js";import{S as N}from"../chunks/SvgIcon.Cj01WnO8.js";import{f as F,T as M}from"../chunks/format.CvLTkFFY.js";import{g as R}from"../chunks/stores.CebXFGJ4.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DbB_HC5r.js";import{A as W}from"../chunks/AppBar.3srT6C5i.js";import{N as G}from"../chunks/index.Duto3aX0.js";import"../chunks/auto_form.CxbPX2mo.js";import"../chunks/autotable.D6q4cofd.js";import"../chunks/index.BXdKDRLQ.js";import{L as H}from"../chunks/loader.BeY12cOT.js";import{p as J}from"../chunks/stores.Dnldv-Vm.js";var K=v('<div slot="lead" class="flex gap-2"><ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="">&rsaquo;</li> <li class="crumb"><a class="anchor">Account</a></li> <li class="crumb-separator" aria-hidden="">&rsaquo;</li> <li class="crumb">Transactions</li></ol></div>'),O=v('<div slot="trail" class="flex gap-2"><button class="inline-flex gap-1"><!> Find</button> <a class="inline-flex gap-1"><!> New</a></div>'),Q=v("<!> <!>",1);function ua(y,I){L(I,!0);const T=D(),n=E(J,"$page",T).params.pid,b=G(P("__api__"));R();let g=k(!0),r=k(f([])),h=f({});(async()=>{const o=await b.listAccount(n);d(g,!0);const t=await b.listTxnWithLines(n);if(t.status!==200)return;console.log("@data",t.data),d(r,f(F(t.data))),console.log("@data_____",c(r)),(await o).data.forEach(a=>{const e=a.id;h[e]=a.name}),d(r,f(c(r))),d(g,!1)})();var $=Q(),x=w($);W(x,{$$slots:{lead:(o,t)=>{var s=K(),a=i(s),e=u(i(a),4),p=i(e);A(p,"href",`/z/pages/portal/projects/books/${n}`),l(e),_(4),l(a),l(s),m(o,s)},trail:(o,t)=>{var s=O(),a=i(s),e=i(a);N(e,{name:"magnifying-glass",className:"w-5 h-5"}),_(),l(a);var p=u(a,2);A(p,"href",`/z/pages/portal/projects/books/${n}/txn/new`);var z=i(p);N(z,{name:"plus",className:"w-5 h-5"}),_(),l(p),l(s),m(o,s)}}});var j=u(x,2);q(j,()=>c(g),o=>{H(o,{})},o=>{var t=B(),s=w(t);C(s,()=>c(r),a=>{M(a,{get accountsIndex(){return h},get lineData(){return c(r)},pid:n})}),m(o,t)}),m(y,$),S()}export{ua as component};
