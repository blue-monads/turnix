import{s as i,k as f,r as c}from"../chunks/scheduler.D2OtNeTK.js";import{S as _,i as u,c as g,b as y,m as l,t as d,a as $,e as T}from"../chunks/index.DD9KLV65.js";import{N as k}from"../chunks/index.ZlEQwogg.js";import{p as b}from"../chunks/stores.D0bQ952I.js";import{A as x}from"../chunks/auto_form.FPf_zM_P.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.B6Y8wNrO.js";/* empty css                                                     */import{g as N}from"../chunks/entry.C8cUSds7.js";function A(o){let t,a;return t=new x({props:{message:o[0],schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Type",ftype:"SELECT",key_name:"ttype",options:["item_percent"]},{name:"Rate",ftype:"INT",key_name:"rate"},{name:"Info",ftype:"LONG_TEXT",key_name:"info"}],name:"Add Tax",required_fields:["name","ttype","rate"]},onSave:o[1]}}),{c(){g(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,n){l(t,e,n),a=!0},p(e,[n]){const s={};n&1&&(s.message=e[0]),t.$set(s)},i(e){a||(d(t.$$.fragment,e),a=!0)},o(e){$(t.$$.fragment,e),a=!1},d(e){T(t,e)}}}function E(o,t,a){let e;f(o,b,r=>a(2,e=r));const n=e.params.pid,s=k(c("__api__"));let m="";return[m,async r=>{const p=await s.addTax(n,{name:r.name,info:r.info});if(p.status!==200){a(0,m=p.data.message);return}N(`/z/pages/portal/projects/books/${n}/inventory/tax`)}]}class X extends _{constructor(t){super(),u(this,t,E,A,i,{})}}export{X as component};
