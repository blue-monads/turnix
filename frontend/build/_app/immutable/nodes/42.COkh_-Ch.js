import{c as u,a as k}from"../chunks/disclose-version.wcsHG7oF.js";import{p as E,g as h,f as L,a as X,h as o,b as m,i}from"../chunks/runtime.D6lgFUio.js";import{i as $}from"../chunks/if.lkQ-IRrr.js";import{p as A}from"../chunks/proxy.r5-P5EHK.js";import{s as N,a as d}from"../chunks/store.BaapSzAp.js";import{g as C}from"../chunks/entry.dkjBYykr.js";import{p as v}from"../chunks/stores.Dnldv-Vm.js";import{N as S}from"../chunks/index.Duto3aX0.js";import{A as b}from"../chunks/auto_form.CxbPX2mo.js";import"../chunks/autotable.D6q4cofd.js";import"../chunks/index.BXdKDRLQ.js";import{L as w}from"../chunks/loader.BeY12cOT.js";import{p as x}from"../chunks/index.BTu0Thf0.js";function R(f,c){E(c,!0);const s=N(),y=()=>d(v,"$page",s),_=()=>d(x,"$params",s),a=y().params.pid,n=S(h("__api__")),T=_().cid;let t=i(!0),r=i(void 0);(async()=>{o(t,!0);const e=await n.getContact(a,T);e.status===200&&(o(r,A(e.data)),o(t,!1))})();var p=u(),g=L(p);$(g,()=>m(t),e=>{w(e,{})},e=>{b(e,{get data(){return m(r)},schema:{name:"Edit Contact",fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Info",ftype:"LONG_TEXT",key_name:"info"},{name:"Type",ftype:"SELECT",key_name:"ctype",options:["vendor","client"]},{name:"Email",ftype:"EMAIL",key_name:"email"},{name:"Phone",ftype:"TEXT",key_name:"phone"},{name:"Second phone",ftype:"TEXT",key_name:"phone2"},{name:"Third phone",ftype:"TEXT",key_name:"phone3"},{name:"Address",ftype:"LONG_TEXT",key_name:"address"},{name:"Second Address",ftype:"LONG_TEXT",key_name:"address2"}],required_fields:["name"]},onSave:async l=>{(await n.addContact(a,l)).status===200&&C(`/z/pages/portal/projects/books/${a}/contacts`)}})}),k(f,p),X()}export{R as component};
