import{a as t,t as x,c as z,b as _}from"../chunks/disclose-version.wcsHG7oF.js";import{p as P,g as C,f as w,t as D,a as I,h as u,b as s,i as F,s as N,c as g,r as $,e as q}from"../chunks/runtime.D6lgFUio.js";import{s as A}from"../chunks/render.CIW-w3Th.js";import{i as S}from"../chunks/if.lkQ-IRrr.js";import{d as B}from"../chunks/utils.Dh-XvBAd.js";import{p as E}from"../chunks/proxy.r5-P5EHK.js";import{s as G,a as H}from"../chunks/store.BaapSzAp.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DbB_HC5r.js";import{F as J}from"../chunks/FileDropzone.CtR1lNCv.js";import{p as K}from"../chunks/index.xGEmn6Hr.js";import{S as L}from"../chunks/SvgIcon.Cj01WnO8.js";import{g as M}from"../chunks/entry.Y6HcnCx3.js";var O=x('<div slot="lead" class="flex justify-center"><!></div>'),Q=x("<strong>Upload a file</strong> or drag and drop",1),R=async(b,i,f,d,p)=>{u(i,!0);const o=f().folder||"";await d.addSelfFile(s(p).name,o,s(p)),u(i,!1),M(`/z/pages/portal/self/files?folder=${o}`)},T=x('<!> <div class="flex justify-end py-2"><button class="btn btn-sm variant-filled"><!></button></div>',1);function ia(b,i){P(i,!0);const f=G(),d=()=>H(K,"$params",f),p=C("__api__");let o=F(!1),r=F(void 0);const U=async a=>{console.log("onDrop",a),u(r,E(a.target.files[0]))};var h=T(),y=w(h);J(y,{name:"files",$$events:{change:U},$$slots:{lead:(a,n)=>{var e=O(),c=g(e);L(c,{name:"arrow-up-tray",className:"w-6 h-6"}),$(e),t(a,e)},message:(a,n)=>{var e=z(),c=w(e);S(c,()=>s(r),v=>{var m=_();D(()=>A(m,s(r).name)),t(v,m)},v=>{var m=Q();q(),t(v,m)}),t(a,e)}}});var k=N(y,2),l=g(k);l.__click=[R,o,d,p,r];var j=g(l);S(j,()=>s(o),a=>{var n=_("Uploading...");t(a,n)},a=>{var n=_("Upload");t(a,n)}),$(l),$(k),D(()=>l.disabled=!s(r)||s(o)),t(b,h),I()}B(["click"]);export{ia as component};
