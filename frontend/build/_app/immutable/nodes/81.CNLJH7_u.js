import{s as g,k as $,r as d}from"../chunks/scheduler.D2OtNeTK.js";import{S as y,i as b,c as m,b as i,m as l,t as u,a as f,e as _}from"../chunks/index.DD9KLV65.js";import{A}from"../chunks/autotable.D4yDFDK-.js";import{P}from"../chunks/pagelayout.DidbLyKR.js";/* empty css                                                     */import{c as N,b as w,a as T,d as h,e as C}from"../chunks/route.CWj9Z-1C.js";import"../chunks/index.BURjlDwe.js";import{N as O}from"../chunks/index.B_G37SEf.js";import{p as j}from"../chunks/stores.D0bQ952I.js";function k(n){let e,s;return e=new A({props:{action_key:"id",key_names:[["id","ID"],["name","Name"],["ttype","Template type"]],datas:n[0],color:["ttype"],actions:[{Name:"watch",Class:"bg-yellow-400",Action:n[4]},{Name:"explore",Class:"bg-green-400",Action:n[5]},{Name:"push",Class:"bg-orange-400",Action:n[6]},{Name:"edit",Action:n[7]},{Name:"delete",Class:"bg-red-400",Action:n[8]}]}}),{c(){m(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,o){l(e,t,o),s=!0},p(t,o){const r={};o&1&&(r.datas=t[0]),e.$set(r)},i(t){s||(u(e.$$.fragment,t),s=!0)},o(t){f(e.$$.fragment,t),s=!1},d(t){_(e,t)}}}function I(n){let e,s;return e=new P({props:{title:"OnLoop Templates",actions:[{name:"add",actionFn:n[9]}],$$slots:{default:[k]},$$scope:{ctx:n}}}),{c(){m(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,o){l(e,t,o),s=!0},p(t,[o]){const r={};o&2049&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){s||(u(e.$$.fragment,t),s=!0)},o(t){f(e.$$.fragment,t),s=!1},d(t){_(e,t)}}}function Q(n,e,s){let t;$(n,j,a=>s(10,t=a));let o=t.params.pid;const r=O(d("__api__"));let p=[];const c=async()=>{const a=await r.listTemplates(o);a.status===200&&s(0,p=a.data)};return c(),[p,o,r,c,async a=>{N(o,a)},async a=>{w(o,a)},async a=>{T(o,a)},async a=>{h(o,a)},async a=>{await r.removeTemplate(o,a),c()},()=>C(o)]}class M extends y{constructor(e){super(),b(this,e,Q,I,g,{})}}export{M as component};
