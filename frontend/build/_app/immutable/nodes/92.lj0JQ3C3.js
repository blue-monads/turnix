import{s as q,a as E,e as g,g as F,c as b,b as y,f as i,m as $,i as m,h as I,y as T,k as x,q as O,n as D,x as w,t as h,d as k,w as V,j as B}from"../chunks/scheduler.BSMlFrmR.js";import{S as G,i as P,c as S,b as U,m as z,t as C,a as N,e as j}from"../chunks/index.DIQEG9mn.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.CPOc6-8_.js";import{F as R}from"../chunks/FileDropzone.BssovsEA.js";import{p as A}from"../chunks/index.s50jUYE8.js";import{S as H}from"../chunks/SvgIcon.DwWRhvCX.js";import{g as J}from"../chunks/entry.D8xZB6l6.js";function K(o){let e,n,a;return n=new H({props:{name:"arrow-up-tray",className:"w-6 h-6"}}),{c(){e=g("div"),S(n.$$.fragment),this.h()},l(t){e=b(t,"DIV",{slot:!0,class:!0});var s=y(e);U(n.$$.fragment,s),s.forEach(i),this.h()},h(){$(e,"slot","lead"),$(e,"class","flex justify-center")},m(t,s){m(t,e,s),z(n,e,null),a=!0},p:D,i(t){a||(C(n.$$.fragment,t),a=!0)},o(t){N(n.$$.fragment,t),a=!1},d(t){t&&i(e),j(n)}}}function L(o){let e,n="Upload a file",a;return{c(){e=g("strong"),e.textContent=n,a=h(" or drag and drop")},l(t){e=b(t,"STRONG",{"data-svelte-h":!0}),V(e)!=="svelte-13uz6lq"&&(e.textContent=n),a=k(t," or drag and drop")},m(t,s){m(t,e,s),m(t,a,s)},p:D,d(t){t&&(i(e),i(a))}}}function M(o){let e=o[1].name+"",n;return{c(){n=h(e)},l(a){n=k(a,e)},m(a,t){m(a,n,t)},p(a,t){t&2&&e!==(e=a[1].name+"")&&B(n,e)},d(a){a&&i(n)}}}function Q(o){let e;function n(s,r){return s[1]?M:L}let a=n(o),t=a(o);return{c(){t.c(),e=w()},l(s){t.l(s),e=w()},m(s,r){t.m(s,r),m(s,e,r)},p(s,r){a===(a=n(s))&&t?t.p(s,r):(t.d(1),t=a(s),t&&(t.c(),t.m(e.parentNode,e)))},d(s){s&&i(e),t.d(s)}}}function W(o){let e;return{c(){e=h("Upload")},l(n){e=k(n,"Upload")},m(n,a){m(n,e,a)},d(n){n&&i(e)}}}function X(o){let e;return{c(){e=h("Uploading...")},l(n){e=k(n,"Uploading...")},m(n,a){m(n,e,a)},d(n){n&&i(e)}}}function Y(o){let e,n,a,t,s,r,_,v;e=new R({props:{name:"files",$$slots:{message:[Q],lead:[K]},$$scope:{ctx:o}}}),e.$on("change",o[4]);function f(l,c){return l[0]?X:W}let d=f(o),p=d(o);return{c(){S(e.$$.fragment),n=E(),a=g("div"),t=g("button"),p.c(),this.h()},l(l){U(e.$$.fragment,l),n=F(l),a=b(l,"DIV",{class:!0});var c=y(a);t=b(c,"BUTTON",{class:!0});var u=y(t);p.l(u),u.forEach(i),c.forEach(i),this.h()},h(){$(t,"class","btn btn-sm variant-filled"),t.disabled=s=!o[1]||o[0],$(a,"class","flex justify-end py-2")},m(l,c){z(e,l,c),m(l,n,c),m(l,a,c),I(a,t),p.m(t,null),r=!0,_||(v=T(t,"click",o[5]),_=!0)},p(l,[c]){const u={};c&66&&(u.$$scope={dirty:c,ctx:l}),e.$set(u),d!==(d=f(l))&&(p.d(1),p=d(l),p&&(p.c(),p.m(t,null))),(!r||c&3&&s!==(s=!l[1]||l[0]))&&(t.disabled=s)},i(l){r||(C(e.$$.fragment,l),r=!0)},o(l){N(e.$$.fragment,l),r=!1},d(l){l&&(i(n),i(a)),j(e,l),p.d(),_=!1,v()}}}function Z(o,e,n){let a;x(o,A,f=>n(2,a=f));const t=O("__api__");let s=!1,r;return[s,r,a,t,async f=>{console.log("onDrop",f),n(1,r=f.target.files[0])},async()=>{n(0,s=!0);const f=a.folder||"";await t.addSelfFile(r.name,f,r),n(0,s=!1),J(`/z/pages/portal/self/files?folder=${f}`)}]}class re extends G{constructor(e){super(),P(this,e,Z,Y,q,{})}}export{re as component};
