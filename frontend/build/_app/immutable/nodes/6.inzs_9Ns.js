import{s as M,a as z,e as $,g as A,c as k,b as S,w as H,f as u,m,i as E,h as w,v as se,k as ae,q as re,n as X,x as V,t as Y,d as Z,j as ee,l as ne,u as oe,o as ie,p as fe,y as ce}from"../chunks/scheduler.BSMlFrmR.js";import{S as ue,i as pe,c as q,b as B,m as O,a as D,d as te,t as j,e as P,g as le}from"../chunks/index.DIQEG9mn.js";import{e as U}from"../chunks/each.D6YF6ztN.js";import{p as _e}from"../chunks/index.jNSSX7nP.js";import{S as x}from"../chunks/SvgIcon.DwWRhvCX.js";import{g as me}from"../chunks/stores.n0Zj223A.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.CPOc6-8_.js";import{A as de}from"../chunks/AppBar.DjVK2Awi.js";import"../chunks/entry.DdBPhNA2.js";function G(n,t,s){const e=n.slice();return e[10]=t[s],e[12]=s,e}function he(n){let t,s="Files";return{c(){t=$("h4"),t.textContent=s,this.h()},l(e){t=k(e,"H4",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-7mzupm"&&(t.textContent=s),this.h()},h(){m(t,"class","h4")},m(e,l){E(e,t,l)},p:X,d(e){e&&u(t)}}}function J(n){let t,s,e,l,r,o="Upload",f,g,i,c,v,b,I="Folder",L,N,h;return e=new x({props:{name:"cloud-arrow-up",className:"h-4 w-4"}}),c=new x({props:{name:"folder-plus",className:"h-4 w4"}}),{c(){t=$("div"),s=$("a"),q(e.$$.fragment),l=z(),r=$("span"),r.textContent=o,g=z(),i=$("button"),q(c.$$.fragment),v=z(),b=$("span"),b.textContent=I,this.h()},l(p){t=k(p,"DIV",{class:!0});var d=S(t);s=k(d,"A",{href:!0,class:!0});var a=S(s);B(e.$$.fragment,a),l=A(a),r=k(a,"SPAN",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1h4fdy2"&&(r.textContent=o),a.forEach(u),g=A(d),i=k(d,"BUTTON",{class:!0});var _=S(i);B(c.$$.fragment,_),v=A(_),b=k(_,"SPAN",{class:!0,"data-svelte-h":!0}),H(b)!=="svelte-1des60x"&&(b.textContent=I),_.forEach(u),d.forEach(u),this.h()},h(){m(r,"class","hidden md:inline"),m(s,"href",f="/z/pages/portal/self/files/upload?folder="+(n[0].folder||"")),m(s,"class","btn btn-sm variant-filled"),m(b,"class","hidden md:inline"),m(i,"class","btn btn-sm variant-filled-primary"),m(t,"class","flex flex-row gap-1")},m(p,d){E(p,t,d),w(t,s),O(e,s,null),w(s,l),w(s,r),w(t,g),w(t,i),O(c,i,null),w(i,v),w(i,b),L=!0,N||(h=ce(i,"click",n[7]),N=!0)},p(p,d){(!L||d&1&&f!==(f="/z/pages/portal/self/files/upload?folder="+(p[0].folder||"")))&&m(s,"href",f)},i(p){L||(j(e.$$.fragment,p),j(c.$$.fragment,p),L=!0)},o(p){D(e.$$.fragment,p),D(c.$$.fragment,p),L=!1},d(p){p&&u(t),P(e),P(c),N=!1,h()}}}function ve(n){let t,s,e=!n[0].file&&J(n);return{c(){e&&e.c(),t=V()},l(l){e&&e.l(l),t=V()},m(l,r){e&&e.m(l,r),E(l,t,r),s=!0},p(l,r){l[0].file?e&&(le(),D(e,1,1,()=>{e=null}),te()):e?(e.p(l,r),r&1&&j(e,1)):(e=J(l),e.c(),j(e,1),e.m(t.parentNode,t))},i(l){s||(j(e),s=!0)},o(l){D(e),s=!1},d(l){l&&u(t),e&&e.d(l)}}}function K(n){let t,s="/",e,l,r,o=n[10]+"",f,g;return{c(){t=$("li"),t.textContent=s,e=z(),l=$("li"),r=$("a"),f=Y(o),this.h()},l(i){t=k(i,"LI",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),H(t)!=="svelte-1t7edrb"&&(t.textContent=s),e=A(i),l=k(i,"LI",{class:!0});var c=S(l);r=k(c,"A",{class:!0,href:!0});var v=S(r);f=Z(v,o),v.forEach(u),c.forEach(u),this.h()},h(){m(t,"class","crumb-separator"),m(t,"aria-hidden",""),m(r,"class","anchor"),m(r,"href",g="/z/pages/portal/self/files?folder="+n[3].slice(0,n[12]+1).join("/")),m(l,"class","crumb")},m(i,c){E(i,t,c),E(i,e,c),E(i,l,c),w(l,r),w(r,f)},p(i,c){c&8&&o!==(o=i[10]+"")&&ee(f,o),c&8&&g!==(g="/z/pages/portal/self/files?folder="+i[3].slice(0,i[12]+1).join("/"))&&m(r,"href",g)},d(i){i&&(u(t),u(e),u(l))}}}function Q(n){let t,s="/",e,l,r;return{c(){t=$("li"),t.textContent=s,e=z(),l=$("li"),r=Y(n[2]),this.h()},l(o){t=k(o,"LI",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),H(t)!=="svelte-1t7edrb"&&(t.textContent=s),e=A(o),l=k(o,"LI",{class:!0});var f=S(l);r=Z(f,n[2]),f.forEach(u),this.h()},h(){m(t,"class","crumb-separator"),m(t,"aria-hidden",""),m(l,"class","crumb")},m(o,f){E(o,t,f),E(o,e,f),E(o,l,f),w(l,r)},p(o,f){f&4&&ee(r,o[2])},d(o){o&&(u(t),u(e),u(l))}}}function R(n){let t,s=n[2]&&Q(n);return{c(){s&&s.c(),t=V()},l(e){s&&s.l(e),t=V()},m(e,l){s&&s.m(e,l),E(e,t,l)},p(e,l){e[2]?s?s.p(e,l):(s=Q(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(e){e&&u(t),s&&s.d(e)}}}function W(n){let t;const s=n[6].default,e=ne(s,n,n[8],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&256)&&oe(e,s,l,l[8],t?fe(s,l[8],r,null):ie(l[8]),null)},i(l){t||(j(e,l),t=!0)},o(l){D(e,l),t=!1},d(l){e&&e.d(l)}}}function be(n){let t,s,e,l,r,o='<a class="anchor" href="/z/pages/portal/self/files">Home</a>',f,g,i=n[2],c,v,b,I=n[1],L;t=new de({props:{$$slots:{trail:[ve],lead:[he]},$$scope:{ctx:n}}});let N=U(n[3]),h=[];for(let a=0;a<N.length;a+=1)h[a]=K(G(n,N,a));let p=R(n),d=W(n);return{c(){q(t.$$.fragment),s=z(),e=$("div"),l=$("ol"),r=$("li"),r.innerHTML=o,f=z();for(let a=0;a<h.length;a+=1)h[a].c();g=z(),p.c(),c=z(),v=$("div"),b=$("div"),d.c(),this.h()},l(a){B(t.$$.fragment,a),s=A(a),e=k(a,"DIV",{class:!0});var _=S(e);l=k(_,"OL",{class:!0});var y=S(l);r=k(y,"LI",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1209esc"&&(r.innerHTML=o),f=A(y);for(let F=0;F<h.length;F+=1)h[F].l(y);g=A(y),p.l(y),y.forEach(u),_.forEach(u),c=A(a),v=k(a,"DIV",{class:!0});var C=S(v);b=k(C,"DIV",{class:!0});var T=S(b);d.l(T),T.forEach(u),C.forEach(u),this.h()},h(){m(r,"class","crumb"),m(l,"class","breadcrumb"),m(e,"class","flex justify-between p-2 pl-4"),m(b,"class","card p-2 h-full"),m(v,"class","px-2 h-full")},m(a,_){O(t,a,_),E(a,s,_),E(a,e,_),w(e,l),w(l,r),w(l,f);for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(l,null);w(l,g),p.m(l,null),E(a,c,_),E(a,v,_),w(v,b),d.m(b,null),L=!0},p(a,[_]){const y={};if(_&257&&(y.$$scope={dirty:_,ctx:a}),t.$set(y),_&8){N=U(a[3]);let C;for(C=0;C<N.length;C+=1){const T=G(a,N,C);h[C]?h[C].p(T,_):(h[C]=K(T),h[C].c(),h[C].m(l,g))}for(;C<h.length;C+=1)h[C].d(1);h.length=N.length}_&4&&M(i,i=a[2])?(p.d(1),p=R(a),p.c(),p.m(l,null)):p.p(a,_),_&2&&M(I,I=a[1])?(le(),D(d,1,1,X),te(),d=W(a),d.c(),j(d,1),d.m(b,null)):d.p(a,_)},i(a){L||(j(t.$$.fragment,a),j(d),L=!0)},o(a){D(t.$$.fragment,a),D(d),L=!1},d(a){a&&(u(s),u(e),u(c),u(v)),P(t,a),se(h,a),p.d(a),d.d(a)}}}function ge(n,t,s){let e,l,r,o;ae(n,_e,I=>s(0,o=I));let{$$slots:f={},$$scope:g}=t;const i=me(),c=re("__api__"),v=async I=>{await c.addSelfFolder(o.folder||"",I),s(1,l=l+1)},b=()=>{i.trigger({type:"component",component:"new_folder_panel",meta:{onNewName:v}})};return n.$$set=I=>{"$$scope"in I&&s(8,g=I.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&s(3,e=(o.folder||"").split("/")),n.$$.dirty&1&&s(2,r=o.filename)},s(1,l=1),[o,l,r,e,i,v,f,b,g]}class Se extends ue{constructor(t){super(),pe(this,t,ge,be,M,{})}}export{Se as component};
