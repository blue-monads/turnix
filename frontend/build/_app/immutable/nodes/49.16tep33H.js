import{s as V,a as k,g as w,i as C,f as d,k as F,q as G,e as v,t as q,c as b,b as I,w as E,d as B,m as p,h as u,n as O}from"../chunks/scheduler.BSMlFrmR.js";import{S as J,i as K,c as P,b as j,m as x,t as z,a as L,e as S}from"../chunks/index.DIQEG9mn.js";import{S as H}from"../chunks/SvgIcon.DwWRhvCX.js";import{N as Q}from"../chunks/index.Duto3aX0.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.CPOc6-8_.js";import{A as R}from"../chunks/AppBar.DjVK2Awi.js";import{p as U}from"../chunks/stores.ljWIZ5Ll.js";import{A as W}from"../chunks/autotable.Cxn6HL1P.js";/* empty css                                                     */import{g as M}from"../chunks/entry.D8xZB6l6.js";function X(c){let e,r,l='<a class="anchor" href="/z/pages/portal/projects/books">Books</a>',n,t,o="›",m,f,i,_,y,a,s="›",$,h,A="Products";return{c(){e=v("ol"),r=v("li"),r.innerHTML=l,n=k(),t=v("li"),t.textContent=o,m=k(),f=v("li"),i=v("a"),_=q("Inventory"),y=k(),a=v("li"),a.textContent=s,$=k(),h=v("li"),h.textContent=A,this.h()},l(N){e=b(N,"OL",{class:!0});var g=I(e);r=b(g,"LI",{class:!0,"data-svelte-h":!0}),E(r)!=="svelte-dyep12"&&(r.innerHTML=l),n=w(g),t=b(g,"LI",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),E(t)!=="svelte-16i7nlm"&&(t.textContent=o),m=w(g),f=b(g,"LI",{});var T=I(f);i=b(T,"A",{class:!0,href:!0});var D=I(i);_=B(D,"Inventory"),D.forEach(d),T.forEach(d),y=w(g),a=b(g,"LI",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),E(a)!=="svelte-16i7nlm"&&(a.textContent=s),$=w(g),h=b(g,"LI",{class:!0,"data-svelte-h":!0}),E(h)!=="svelte-1s5kg2c"&&(h.textContent=A),g.forEach(d),this.h()},h(){p(r,"class","crumb"),p(t,"class","crumb-separator"),p(t,"aria-hidden",""),p(i,"class","anchor"),p(i,"href",`/z/pages/portal/projects/books/${c[1]}/inventory`),p(a,"class","crumb-separator"),p(a,"aria-hidden",""),p(h,"class","crumb"),p(e,"class","breadcrumb")},m(N,g){C(N,e,g),u(e,r),u(e,n),u(e,t),u(e,m),u(e,f),u(f,i),u(i,_),u(e,y),u(e,a),u(e,$),u(e,h)},p:O,d(N){N&&d(e)}}}function Y(c){let e,r,l,n,t,o,m,f,i,_,y,a;return r=new H({props:{className:"h-4 w-4",name:"plus"}}),o=new H({props:{className:"h-4 w-4",name:"plus"}}),_=new H({props:{className:"h-4 w-4 mr-1",name:"squares-2x2"}}),{c(){e=v("a"),P(r.$$.fragment),l=q(`
            Catagory`),n=k(),t=v("a"),P(o.$$.fragment),m=q(`
            Product`),f=k(),i=v("a"),P(_.$$.fragment),y=q(`

            Catagories`),this.h()},l(s){e=b(s,"A",{href:!0,class:!0});var $=I(e);j(r.$$.fragment,$),l=B($,`
            Catagory`),$.forEach(d),n=w(s),t=b(s,"A",{href:!0,class:!0});var h=I(t);j(o.$$.fragment,h),m=B(h,`
            Product`),h.forEach(d),f=w(s),i=b(s,"A",{href:!0,class:!0});var A=I(i);j(_.$$.fragment,A),y=B(A,`

            Catagories`),A.forEach(d),this.h()},h(){p(e,"href",`/z/pages/portal/projects/books/${c[1]}/inventory/catagories/new`),p(e,"class","btn variant-ghost-primary btn-sm"),p(t,"href",`/z/pages/portal/projects/books/${c[1]}/inventory/products/new`),p(t,"class","btn variant-ghost-secondary btn-sm"),p(i,"href",`/z/pages/portal/projects/books/${c[1]}/inventory/catagories`),p(i,"class","btn variant-filled btn-sm")},m(s,$){C(s,e,$),x(r,e,null),u(e,l),C(s,n,$),C(s,t,$),x(o,t,null),u(t,m),C(s,f,$),C(s,i,$),x(_,i,null),u(i,y),a=!0},p:O,i(s){a||(z(r.$$.fragment,s),z(o.$$.fragment,s),z(_.$$.fragment,s),a=!0)},o(s){L(r.$$.fragment,s),L(o.$$.fragment,s),L(_.$$.fragment,s),a=!1},d(s){s&&(d(e),d(n),d(t),d(f),d(i)),S(r),S(o),S(_)}}}function Z(c){let e,r,l,n;return e=new R({props:{$$slots:{trail:[Y],lead:[X]},$$scope:{ctx:c}}}),l=new W({props:{action_key:"id",key_names:[["id","ID"],["name","Name"],["variant_id","Variant"],["stock_count","Stock"],["info","Info"],["price","Price"]],datas:c[0],color:["variant_id"],actions:[{Name:"Sales",Class:"variant-filled-primary",icon:"plus",Action:c[4]},{Name:"Stocks",Class:"variant-filled-secondary",icon:"plus",Action:c[5]},{Name:"edit",Class:"variant-filled-tertiary",Action:c[6]},{Name:"delete",Class:"variant-filled-error",Action:c[7]}]}}),{c(){P(e.$$.fragment),r=k(),P(l.$$.fragment)},l(t){j(e.$$.fragment,t),r=w(t),j(l.$$.fragment,t)},m(t,o){x(e,t,o),C(t,r,o),x(l,t,o),n=!0},p(t,[o]){const m={};o&512&&(m.$$scope={dirty:o,ctx:t}),e.$set(m);const f={};o&1&&(f.datas=t[0]),l.$set(f)},i(t){n||(z(e.$$.fragment,t),z(l.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),L(l.$$.fragment,t),n=!1},d(t){t&&d(r),S(e,t),S(l,t)}}}function tt(c,e,r){let l;F(c,U,a=>r(8,l=a));const n=l.params.pid,t=Q(G("__api__"));let o=[];const m=async()=>{const a=await t.listProducts(n);a.status===200&&r(0,o=a.data)};return m(),[o,n,t,m,async a=>{M(`/z/pages/portal/projects/books/${n}/sales/byProduct?prid=${a}`)},async a=>{M(`/z/pages/portal/projects/books/${n}/inventory/stocks?prid=${a}`)},async a=>{M(`/z/pages/portal/projects/books/${n}/inventory/products/edit?pid=${n}&prid=${a}`)},async a=>{await t.deleteProduct(n,a),m()}]}class mt extends J{constructor(e){super(),K(this,e,tt,Z,V,{})}}export{mt as component};
