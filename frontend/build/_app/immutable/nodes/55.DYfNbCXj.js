import{a as o,t as r}from"../chunks/disclose-version.wcsHG7oF.js";import{p as b,g as y,i as x,f as h,a as k,h as A,s as N,b as l,c as w,e as T,r as I,d as j}from"../chunks/runtime.D6lgFUio.js";import{s as z}from"../chunks/attributes.BFGPVQjG.js";import{p as c}from"../chunks/proxy.r5-P5EHK.js";import{s as B,a as C}from"../chunks/store.BaapSzAp.js";import{S as P}from"../chunks/SvgIcon.Cj01WnO8.js";import{N as S}from"../chunks/index.Duto3aX0.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DbB_HC5r.js";import{A as q}from"../chunks/AppBar.3srT6C5i.js";import{p as D}from"../chunks/stores.BfjlaKTN.js";import"../chunks/auto_form.CxbPX2mo.js";import{A as R}from"../chunks/autotable.D6q4cofd.js";import"../chunks/index.BXdKDRLQ.js";/* empty css                                                     */import{g as E}from"../chunks/entry.BlSk_uHN.js";var F=r('<ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="">&rsaquo;</li> <li class="crumb">Taxes</li></ol>'),G=r('<a class="btn variant-ghost-primary btn-sm"><!> Tax</a>'),H=r("<!> <!>",1);function ra(d,f){b(f,!0);const g=B(),s=C(D,"$page",g).params.pid,e=S(y("__api__"));let i=x(c([]));const p=async()=>{const a=await e.listTax(s);a.status===200&&A(i,c(a.data))};p();var n=H(),m=h(n);q(m,{$$slots:{lead:(a,_)=>{var t=F();o(a,t)},trail:(a,_)=>{var t=G();z(t,"href",`/z/pages/portal/projects/books/${s}/inventory/tax/new`);var $=w(t);P($,{className:"h-4 w-4",name:"plus"}),T(),I(t),o(a,t)}}});var v=N(m,2),u=j(()=>[{Name:"edit",Class:"variant-filled-secondary",Action:async a=>{E(`/z/pages/portal/projects/books/${s}/inventory/tax/edit?pid=${s}&tid=${a}`)}},{Name:"delete",Class:"variant-filled-error",Action:async a=>{await e.deleteTax(s,a),p()}}]);R(v,{action_key:"id",key_names:[["id","ID"],["name","Name"],["ttype","Type"],["info","Info"],["rate","Rate"]],get datas(){return l(i)},color:["ttype"],get actions(){return l(u)}}),o(d,n),k()}export{ra as component};
