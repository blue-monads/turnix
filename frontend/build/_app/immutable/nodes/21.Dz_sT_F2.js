import{s as d,D as b,E as h,k as _,q as k}from"../chunks/scheduler.BSMlFrmR.js";import{S as F,i as j,f as q,c as w,b as C,m as P,t as S,a as y,e as z}from"../chunks/index.DIQEG9mn.js";import{F as D}from"../chunks/FileListings.DUzJ25q1.js";import{p as E}from"../chunks/stores.ljWIZ5Ll.js";import{p as L}from"../chunks/index.s50jUYE8.js";function U(s){let t,n,o;function r(e){s[6](e)}let f={baseUrl:`/z/pages/portal/project/files/${s[4]}`,path:s[2],files:s[0],loading:s[3]};return s[1]!==void 0&&(f.selected=s[1]),t=new D({props:f}),b.push(()=>q(t,"selected",r)),{c(){w(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,a){P(t,e,a),o=!0},p(e,[a]){const l={};a&4&&(l.path=e[2]),a&1&&(l.files=e[0]),a&8&&(l.loading=e[3]),!n&&a&2&&(n=!0,l.selected=e[1],h(()=>n=!1)),t.$set(l)},i(e){o||(S(t.$$.fragment,e),o=!0)},o(e){y(t.$$.fragment,e),o=!1},d(e){z(t,e)}}}function A(s,t,n){let o,r,f;_(s,L,i=>n(5,r=i)),_(s,E,i=>n(7,f=i));let{files:e=[]}=t,{selected:a}=t;const l=k("__api__"),p=f.params.pid;let c=!1;const g=async i=>{n(3,c=!0);const m=await l.listProjectFiles(p,i);m.status===200&&(n(0,e=m.data),n(3,c=!1))};function u(i){a=i,n(1,a)}return s.$$set=i=>{"files"in i&&n(0,e=i.files),"selected"in i&&n(1,a=i.selected)},s.$$.update=()=>{s.$$.dirty&32&&n(2,o=r.folder||""),s.$$.dirty&4&&g(o)},[e,a,o,c,p,r,u]}class K extends F{constructor(t){super(),j(this,t,A,U,d,{files:0,selected:1})}}export{K as component};
