import{s as de,A as ce,i as ue,f as h,k as he,z as ve,C as be,e as i,a as L,t as ge,c as u,b as y,q as H,g as S,d as Ee,m as p,x as D,D as Ce,h as l,E as ie,r as X,j as ye,y as Te,n as ke}from"../chunks/scheduler.CW5wdEZY.js";import{S as xe,i as Ae,a as G,d as Ne,t as K,g as Pe,c as pe,b as fe,m as _e,e as me}from"../chunks/index.CHcwNeV9.js";import{b as Le}from"../chunks/index.DYGKe3UD.js";import{A as Se}from"../chunks/auto_form.CT41Usgo.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.CPUTIigH.js";import{L as je}from"../chunks/loader.IUjCcxZ8.js";import{p as we}from"../chunks/index.CiLJ2KWW.js";function Oe(r){let t,e,a,d='<div class="flex flex-col gap-2"><h3 class="h3">New Project</h3></div>',C,n,_,s,m="Name",v,f,j,T,A,R="Project Type",$,b,o,F=r[7].ptype+"",M,U,Q,N,w,te="Info",W,k,Y,O,x,Z,I,P,ae="Save",q,ee,se;return x=new Se({props:{data:{},noSubmit:!0,message:r[1],schema:{fields:r[2],name:"",required_fields:["name"]}}}),x.$on("save",r[12]),{c(){t=i("div"),e=i("div"),a=i("header"),a.innerHTML=d,C=L(),n=i("section"),_=i("label"),s=i("span"),s.textContent=m,v=L(),f=i("input"),j=L(),T=i("label"),A=i("span"),A.textContent=R,$=L(),b=i("select"),o=i("option"),M=ge(F),Q=L(),N=i("label"),w=i("span"),w.textContent=te,W=L(),k=i("textarea"),Y=L(),O=i("section"),pe(x.$$.fragment),Z=L(),I=i("footer"),P=i("button"),P.textContent=ae,this.h()},l(c){t=u(c,"DIV",{class:!0});var g=y(t);e=u(g,"DIV",{class:!0});var E=y(e);a=u(E,"HEADER",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-allmiw"&&(a.innerHTML=d),C=S(E),n=u(E,"SECTION",{class:!0});var B=y(n);_=u(B,"LABEL",{class:!0});var V=y(_);s=u(V,"SPAN",{"data-svelte-h":!0}),H(s)!=="svelte-15ueaex"&&(s.textContent=m),v=S(V),f=u(V,"INPUT",{class:!0,type:!0,placeholder:!0}),V.forEach(h),j=S(B),T=u(B,"LABEL",{class:!0});var z=y(T);A=u(z,"SPAN",{"data-svelte-h":!0}),H(A)!=="svelte-2n8ohp"&&(A.textContent=R),$=S(z),b=u(z,"SELECT",{class:!0});var le=y(b);o=u(le,"OPTION",{});var ne=y(o);M=Ee(ne,F),ne.forEach(h),le.forEach(h),z.forEach(h),Q=S(B),N=u(B,"LABEL",{class:!0});var J=y(N);w=u(J,"SPAN",{"data-svelte-h":!0}),H(w)!=="svelte-8iqa3e"&&(w.textContent=te),W=S(J),k=u(J,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),y(k).forEach(h),J.forEach(h),B.forEach(h),Y=S(E),O=u(E,"SECTION",{class:!0});var re=y(O);fe(x.$$.fragment,re),re.forEach(h),Z=S(E),I=u(E,"FOOTER",{class:!0});var oe=y(I);P=u(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),H(P)!=="svelte-1urdhmt"&&(P.textContent=ae),oe.forEach(h),E.forEach(h),g.forEach(h),this.h()},h(){p(a,"class","flex justify-center"),p(f,"class","input p-1"),p(f,"type","text"),p(f,"placeholder","TestProject1"),p(_,"class","label"),o.__value=U=r[7].ptype,D(o,o.__value),p(b,"class","select"),b.disabled=!0,r[4]===void 0&&Ce(()=>r[10].call(b)),p(T,"class","label"),p(k,"class","textarea"),p(k,"rows","4"),p(k,"placeholder","This is a project description"),p(N,"class","label"),p(n,"class","flex flex-col gap-4"),p(O,"class","mt-2"),p(P,"class","btn variant-filled"),p(I,"class","flex justify-end p-2 gap-2"),p(e,"class","card p-2"),p(t,"class","p-2")},m(c,g){ue(c,t,g),l(t,e),l(e,a),l(e,C),l(e,n),l(n,_),l(_,s),l(_,v),l(_,f),D(f,r[3]),l(n,j),l(n,T),l(T,A),l(T,$),l(T,b),l(b,o),l(o,M),ie(b,r[4],!0),l(n,Q),l(n,N),l(N,w),l(N,W),l(N,k),D(k,r[5]),l(e,Y),l(e,O),_e(x,O,null),l(e,Z),l(e,I),l(I,P),q=!0,ee||(se=[X(f,"input",r[9]),X(b,"change",r[10]),X(k,"input",r[11]),X(P,"click",r[13])],ee=!0)},p(c,g){g&8&&f.value!==c[3]&&D(f,c[3]),(!q||g&128)&&F!==(F=c[7].ptype+"")&&ye(M,F),(!q||g&128&&U!==(U=c[7].ptype))&&(o.__value=U,D(o,o.__value)),g&144&&ie(b,c[4]),g&32&&D(k,c[5]);const E={};g&2&&(E.message=c[1]),g&4&&(E.schema={fields:c[2],name:"",required_fields:["name"]}),x.$set(E)},i(c){q||(K(x.$$.fragment,c),q=!0)},o(c){G(x.$$.fragment,c),q=!1},d(c){c&&h(t),me(x),ee=!1,Te(se)}}}function Ie(r){let t,e;return t=new je({}),{c(){pe(t.$$.fragment)},l(a){fe(t.$$.fragment,a)},m(a,d){_e(t,a,d),e=!0},p:ke,i(a){e||(K(t.$$.fragment,a),e=!0)},o(a){G(t.$$.fragment,a),e=!1},d(a){me(t,a)}}}function qe(r){let t,e,a,d;const C=[Ie,Oe],n=[];function _(s,m){return s[0]?0:1}return t=_(r),e=n[t]=C[t](r),{c(){e.c(),a=ce()},l(s){e.l(s),a=ce()},m(s,m){n[t].m(s,m),ue(s,a,m),d=!0},p(s,[m]){let v=t;t=_(s),t===v?n[t].p(s,m):(Pe(),G(n[v],1,1,()=>{n[v]=null}),Ne(),e=n[t],e?e.p(s,m):(e=n[t]=C[t](s),e.c()),K(e,1),e.m(a.parentNode,a))},i(s){d||(K(e),d=!0)},o(s){G(e),d=!1},d(s){s&&h(a),n[t].d(s)}}}function Be(r,t,e){let a;he(r,we,o=>e(7,a=o));const d=ve("__api__");let C=!0,n="",_=[];const s=async()=>{const o=await d.getProjectTypeForm(a.ptype);o.status===200&&(e(2,_=o.data||[]),e(0,C=!1))};let m="",v=a.ptype,f="",j={};s();function T(){m=this.value,e(3,m)}function A(){v=be(this),e(4,v)}function R(){f=this.value,e(5,f)}return[C,n,_,m,v,f,j,a,d,T,A,R,o=>{e(6,j=o.detail||{})},async()=>{e(0,C=!0);const o=await d.addProject({name:m,ptype:v,info:f,extrameta:JSON.stringify(j)});if(o.status!==200){e(0,C=!1),e(1,n=o.data);return}Le()}]}class Ve extends xe{constructor(t){super(),Ae(this,t,Be,qe,de,{})}}export{Ve as component};
