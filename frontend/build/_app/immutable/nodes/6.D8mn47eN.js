import{s as G,a as x,e as k,g as L,c as C,b as N,v as j,f as d,m as h,i as E,h as b,q as R,k as W,r as X,n as J,w as q,t as Y,d as Z,j as ee,l as te,u as le,o as se,p as ae,x as re}from"../chunks/scheduler.D2OtNeTK.js";import{S as ne,i as oe,c as D,b as H,m as T,a as A,d as K,t as S,e as V,g as Q}from"../chunks/index.DD9KLV65.js";import{e as F}from"../chunks/each.D6YF6ztN.js";import{p as ie}from"../chunks/index.BURjlDwe.js";import{S as M}from"../chunks/SvgIcon.DW0uSnC-.js";import{g as fe}from"../chunks/stores.BSAXtruD.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.B6Y8wNrO.js";import{A as ce}from"../chunks/AppBar.C3Ur4xTI.js";import"../chunks/entry.C8cUSds7.js";function P(i,l,a){const e=i.slice();return e[9]=l[a],e[11]=a,e}function ue(i){let l,a="Project Files";return{c(){l=k("h4"),l.textContent=a,this.h()},l(e){l=C(e,"H4",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-qxvb07"&&(l.textContent=a),this.h()},h(){h(l,"class","h4")},m(e,t){E(e,l,t)},p:J,d(e){e&&d(l)}}}function B(i){let l,a,e,t,s,w="Upload",v,g,f,n,m,u,I="Folder",c,$,r;return e=new M({props:{name:"cloud-arrow-up",className:"h-4 w-4"}}),n=new M({props:{name:"folder-plus",className:"h-4 w4"}}),{c(){l=k("div"),a=k("a"),D(e.$$.fragment),t=x(),s=k("span"),s.textContent=w,g=x(),f=k("button"),D(n.$$.fragment),m=x(),u=k("span"),u.textContent=I,this.h()},l(o){l=C(o,"DIV",{class:!0});var p=N(l);a=C(p,"A",{href:!0,class:!0});var _=N(a);H(e.$$.fragment,_),t=L(_),s=C(_,"SPAN",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1h4fdy2"&&(s.textContent=w),_.forEach(d),g=L(p),f=C(p,"BUTTON",{class:!0});var y=N(f);H(n.$$.fragment,y),m=L(y),u=C(y,"SPAN",{class:!0,"data-svelte-h":!0}),j(u)!=="svelte-1des60x"&&(u.textContent=I),y.forEach(d),p.forEach(d),this.h()},h(){h(s,"class","hidden md:inline"),h(a,"href",v="/z/pages/portal/self/files/upload?folder="+i[0].folder),h(a,"class","btn btn-sm variant-filled"),h(u,"class","hidden md:inline"),h(f,"class","btn btn-sm variant-filled-primary"),h(l,"class","flex flex-row gap-1")},m(o,p){E(o,l,p),b(l,a),T(e,a,null),b(a,t),b(a,s),b(l,g),b(l,f),T(n,f,null),b(f,m),b(f,u),c=!0,$||(r=re(f,"click",i[6]),$=!0)},p(o,p){(!c||p&1&&v!==(v="/z/pages/portal/self/files/upload?folder="+o[0].folder))&&h(a,"href",v)},i(o){c||(S(e.$$.fragment,o),S(n.$$.fragment,o),c=!0)},o(o){A(e.$$.fragment,o),A(n.$$.fragment,o),c=!1},d(o){o&&d(l),V(e),V(n),$=!1,r()}}}function pe(i){let l,a,e=!i[0].file&&B(i);return{c(){e&&e.c(),l=q()},l(t){e&&e.l(t),l=q()},m(t,s){e&&e.m(t,s),E(t,l,s),a=!0},p(t,s){t[0].file?e&&(Q(),A(e,1,1,()=>{e=null}),K()):e?(e.p(t,s),s&1&&S(e,1)):(e=B(t),e.c(),S(e,1),e.m(l.parentNode,l))},i(t){a||(S(e),a=!0)},o(t){A(e),a=!1},d(t){t&&d(l),e&&e.d(t)}}}function O(i){let l,a="/",e,t,s,w=i[9]+"",v,g,f;return{c(){l=k("li"),l.textContent=a,e=x(),t=k("li"),s=k("a"),v=Y(w),f=x(),this.h()},l(n){l=C(n,"LI",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),j(l)!=="svelte-1t7edrb"&&(l.textContent=a),e=L(n),t=C(n,"LI",{class:!0});var m=N(t);s=C(m,"A",{class:!0,href:!0});var u=N(s);v=Z(u,w),u.forEach(d),f=L(m),m.forEach(d),this.h()},h(){h(l,"class","crumb-separator"),h(l,"aria-hidden",""),h(s,"class","anchor"),h(s,"href",g="/z/pages/portal/self/files?folder="+i[2].slice(0,i[11]+1).join("/")),h(t,"class","crumb")},m(n,m){E(n,l,m),E(n,e,m),E(n,t,m),b(t,s),b(s,v),b(t,f)},p(n,m){m&4&&w!==(w=n[9]+"")&&ee(v,w),m&4&&g!==(g="/z/pages/portal/self/files?folder="+n[2].slice(0,n[11]+1).join("/"))&&h(s,"href",g)},d(n){n&&(d(l),d(e),d(t))}}}function U(i){let l;const a=i[5].default,e=te(a,i,i[7],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,s){e&&e.m(t,s),l=!0},p(t,s){e&&e.p&&(!l||s&128)&&le(e,a,t,t[7],l?ae(a,t[7],s,null):se(t[7]),null)},i(t){l||(S(e,t),l=!0)},o(t){A(e,t),l=!1},d(t){e&&e.d(t)}}}function _e(i){let l,a,e,t,s,w='<a class="anchor" href="/z/pages/portal/self/files">Home</a>',v,g,f,n,m=i[1],u;l=new ce({props:{$$slots:{trail:[pe],lead:[ue]},$$scope:{ctx:i}}});let I=F(i[2]),c=[];for(let r=0;r<I.length;r+=1)c[r]=O(P(i,I,r));let $=U(i);return{c(){D(l.$$.fragment),a=x(),e=k("div"),t=k("ol"),s=k("li"),s.innerHTML=w,v=x();for(let r=0;r<c.length;r+=1)c[r].c();g=x(),f=k("div"),n=k("div"),$.c(),this.h()},l(r){H(l.$$.fragment,r),a=L(r),e=C(r,"DIV",{class:!0});var o=N(e);t=C(o,"OL",{class:!0});var p=N(t);s=C(p,"LI",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-9wuvd6"&&(s.innerHTML=w),v=L(p);for(let z=0;z<c.length;z+=1)c[z].l(p);p.forEach(d),o.forEach(d),g=L(r),f=C(r,"DIV",{class:!0});var _=N(f);n=C(_,"DIV",{class:!0});var y=N(n);$.l(y),y.forEach(d),_.forEach(d),this.h()},h(){h(s,"class","crumb"),h(t,"class","breadcrumb"),h(e,"class","flex justify-between p-2 pl-4"),h(n,"class","card p-2 h-full"),h(f,"class","px-2 h-full")},m(r,o){T(l,r,o),E(r,a,o),E(r,e,o),b(e,t),b(t,s),b(t,v);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(t,null);E(r,g,o),E(r,f,o),b(f,n),$.m(n,null),u=!0},p(r,[o]){const p={};if(o&129&&(p.$$scope={dirty:o,ctx:r}),l.$set(p),o&4){I=F(r[2]);let _;for(_=0;_<I.length;_+=1){const y=P(r,I,_);c[_]?c[_].p(y,o):(c[_]=O(y),c[_].c(),c[_].m(t,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=I.length}o&2&&G(m,m=r[1])?(Q(),A($,1,1,J),K(),$=U(r),$.c(),S($,1),$.m(n,null)):$.p(r,o)},i(r){u||(S(l.$$.fragment,r),S($),u=!0)},o(r){A(l.$$.fragment,r),A($),u=!1},d(r){r&&(d(a),d(e),d(g),d(f)),V(l,r),R(c,r),$.d(r)}}}function me(i,l,a){let e,t,s;W(i,ie,u=>a(0,s=u));let{$$slots:w={},$$scope:v}=l;const g=fe(),f=X("__api__"),n=async u=>{await f.addSelfFolder(s.folder||"",u),a(1,t=t+1)},m=()=>{g.trigger({type:"component",component:"new_folder_panel",meta:{onNewName:n}})};return i.$$set=u=>{"$$scope"in u&&a(7,v=u.$$scope)},i.$$.update=()=>{i.$$.dirty&1&&a(2,e=(s.folder||"").split("/"))},a(1,t=1),[s,t,e,g,n,w,m,v]}class ye extends ne{constructor(l){super(),oe(this,l,me,_e,G,{})}}export{ye as component};
