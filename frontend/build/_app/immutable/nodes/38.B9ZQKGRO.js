import{s as L,e as c,a as D,t as N,c as d,b,w as U,g as O,f,d as P,m as p,i as A,h as r,y as V,n as I,k as B,q as T}from"../chunks/scheduler.Dy-hT7lj.js";import{S as q,i as F}from"../chunks/index.jcCBAMyh.js";import"../chunks/entry.Cp0zZRwk.js";import{g as H}from"../chunks/stores.C8TdjPC3.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DUTEVMI9.js";/* empty css                                                     */import{N as J}from"../chunks/index.ZlEQwogg.js";import{p as M}from"../chunks/stores.YmkBQNJ3.js";function R(u){let t,a="Processing..";return{c(){t=c("div"),t.textContent=a,this.h()},l(o){t=d(o,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-ol7rv5"&&(t.textContent=a),this.h()},h(){p(t,"class","p-2")},m(o,l){A(o,t,l)},d(o){o&&f(t)}}}function z(u){let t,a,o,l,n,x="Export Project",m,_,h,s,g,k,E,e=u[0]&&R();return{c(){t=c("div"),a=c("div"),o=c("header"),l=c("div"),n=c("h3"),n.textContent=x,m=D(),e&&e.c(),_=D(),h=c("footer"),s=c("button"),g=N("Start"),this.h()},l(i){t=d(i,"DIV",{class:!0});var v=b(t);a=d(v,"DIV",{class:!0});var y=b(a);o=d(y,"HEADER",{class:!0});var S=b(o);l=d(S,"DIV",{class:!0});var C=b(l);n=d(C,"H3",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1l38myr"&&(n.textContent=x),m=O(C),e&&e.l(C),C.forEach(f),S.forEach(f),_=O(y),h=d(y,"FOOTER",{class:!0});var j=b(h);s=d(j,"BUTTON",{class:!0});var w=b(s);g=P(w,"Start"),w.forEach(f),j.forEach(f),y.forEach(f),v.forEach(f),this.h()},h(){p(n,"class","h3"),p(l,"class","flex flex-col gap-2"),p(o,"class","flex justify-center"),s.disabled=u[0],p(s,"class","btn btn-sm variant-filled"),p(h,"class","flex justify-end p-2"),p(a,"class","card p-2 w-80 mx-auto my-10"),p(t,"class","p-2")},m(i,v){A(i,t,v),r(t,a),r(a,o),r(o,l),r(l,n),r(l,m),e&&e.m(l,null),r(a,_),r(a,h),r(h,s),r(s,g),k||(E=V(s,"click",u[4]),k=!0)},p(i,[v]){i[0]?e||(e=R(),e.c(),e.m(l,null)):e&&(e.d(1),e=null),v&1&&(s.disabled=i[0])},i:I,o:I,d(i){i&&f(t),e&&e.d(),k=!1,E()}}}function G(u,t,a){let o;B(u,M,s=>a(5,o=s));const l=o.params.pid;H();const n=T("__api__"),x=J(n);let m=!1;const _=(s,g)=>{const k=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),E=URL.createObjectURL(k),e=document.createElement("a");e.href=E,e.download=g,e.click(),URL.revokeObjectURL(E)};return[m,l,x,_,async()=>{a(0,m=!0);const s=await x.exportData(l);s.status===200&&(console.log(s.data),_(s.data,`books_export_${new Date().toISOString()}.json`),a(0,m=!1))}]}class et extends q{constructor(t){super(),F(this,t,G,z,L,{})}}export{et as component};
