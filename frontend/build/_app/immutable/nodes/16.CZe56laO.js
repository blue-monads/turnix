import{s as te,w as Ft,i as W,f,k as se,r as re,e as u,a as x,c as d,b,v as F,g as y,m as c,h as l,z as kt,x as lt,D as ne,q as oe,A as ie,n as ee,R as Xt,T as Gt,t as pt,d as _t,j as Tt}from"../chunks/scheduler.D2OtNeTK.js";import{S as le,i as ae,g as ce,a as X,d as ue,t as G,c as at,b as st,m as rt,e as nt,f as Qt}from"../chunks/index.DD9KLV65.js";import{e as Yt}from"../chunks/each.D6YF6ztN.js";import{N as de}from"../chunks/index.ZlEQwogg.js";import{p as fe}from"../chunks/stores.D0bQ952I.js";import{S as Jt}from"../chunks/SvgIcon.DW0uSnC-.js";import{g as pe}from"../chunks/stores.BSAXtruD.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.B6Y8wNrO.js";import{R as _e,a as Kt}from"../chunks/RadioItem.CFFCp3wG.js";import{L as me}from"../chunks/loader.zv9XVPa1.js";import"../chunks/entry.C8cUSds7.js";function Wt(s,t,e){const a=s.slice();return a[21]=t[e],a[23]=e,a}function he(s){let t,e,a,o,$="New Sale",n,g,i,E,_,r,m,C,D="Billed To",I,N,w,S,A,H,B,U,h,V,O="Date of Sale",v,j,ot,q,P,M,Bt='<tr class="variant-filled print:bg-gray-300 print:text-black"><th class="px-4 py-2">Item</th> <th class="px-4 py-2 text-right">Qty</th> <th class="px-4 py-2 text-right">Unit Price</th> <th class="px-4 py-2 text-right">Subtotal</th> <th class="px-4 py-2 text-right"></th></tr>',Ct,it,wt,ct,Z,tt,Dt,Q,Y,ut,Ot="Notes",It,z,Nt,et,jt='<table><tbody><tr><td class="px-2 py-2 border">Sub Total</td> <td class="px-2 py-2 border text-right">10000</td></tr> <tr><td class="px-2 py-2 border">TAX</td> <td class="px-2 py-2 border text-right">12%</td></tr> <tr><td class="px-2 py-2 border">Discount</td> <td class="px-2 py-2 border text-right">0%</td></tr> <tr><td class="px-2 py-2 border font-semibold">Total</td> <td class="px-2 py-2 border text-right font-semibold">1120</td></tr></tbody></table>',St,dt,J,Pt="save",mt,At,Rt;i=new _e({props:{$$slots:{default:[$e]},$$scope:{ctx:s}}}),B=new Jt({props:{name:"plus",className:"w-4 h-4 inline-block align-middle"}});let ft=Yt(s[3]),k=[];for(let p=0;p<ft.length;p+=1)k[p]=Zt(Wt(s,ft,p));return tt=new Jt({props:{name:"plus",className:"w-4 h-4 inline-block align-middle"}}),{c(){t=u("form"),e=u("div"),a=u("header"),o=u("h3"),o.textContent=$,n=x(),g=u("div"),at(i.$$.fragment),E=x(),_=u("section"),r=u("div"),m=u("label"),C=u("span"),C.textContent=D,I=x(),N=u("div"),w=u("input"),A=x(),H=u("button"),at(B.$$.fragment),U=x(),h=u("label"),V=u("span"),V.textContent=O,v=x(),j=u("input"),ot=x(),q=u("div"),P=u("table"),M=u("thead"),M.innerHTML=Bt,Ct=x(),it=u("tbody");for(let p=0;p<k.length;p+=1)k[p].c();wt=x(),ct=u("div"),Z=u("button"),at(tt.$$.fragment),Dt=x(),Q=u("div"),Y=u("label"),ut=u("span"),ut.textContent=Ot,It=x(),z=u("textarea"),Nt=x(),et=u("div"),et.innerHTML=jt,St=x(),dt=u("footer"),J=u("button"),J.textContent=Pt,this.h()},l(p){t=d(p,"FORM",{class:!0});var R=b(t);e=d(R,"DIV",{class:!0});var L=b(e);a=d(L,"HEADER",{class:!0});var T=b(a);o=d(T,"H3",{class:!0,"data-svelte-h":!0}),F(o)!=="svelte-1egbxyh"&&(o.textContent=$),n=y(T),g=d(T,"DIV",{class:!0});var ht=b(g);st(i.$$.fragment,ht),ht.forEach(f),T.forEach(f),E=y(L),_=d(L,"SECTION",{class:!0});var K=b(_);r=d(K,"DIV",{class:!0});var gt=b(r);m=d(gt,"LABEL",{class:!0});var bt=b(m);C=d(bt,"SPAN",{"data-svelte-h":!0}),F(C)!=="svelte-1d9r8lt"&&(C.textContent=D),I=y(bt),N=d(bt,"DIV",{class:!0});var vt=b(N);w=d(vt,"INPUT",{type:!0,class:!0,placeholder:!0}),A=y(vt),H=d(vt,"BUTTON",{});var Ht=b(H);st(B.$$.fragment,Ht),Ht.forEach(f),vt.forEach(f),bt.forEach(f),U=y(gt),h=d(gt,"LABEL",{class:!0});var $t=b(h);V=d($t,"SPAN",{"data-svelte-h":!0}),F(V)!=="svelte-18fl3p6"&&(V.textContent=O),v=y($t),j=d($t,"INPUT",{type:!0,class:!0,placeholder:!0}),$t.forEach(f),gt.forEach(f),ot=y(K),q=d(K,"DIV",{class:!0});var Vt=b(q);P=d(Vt,"TABLE",{class:!0,id:!0});var xt=b(P);M=d(xt,"THEAD",{"data-svelte-h":!0}),F(M)!=="svelte-d548eh"&&(M.innerHTML=Bt),Ct=y(xt),it=d(xt,"TBODY",{});var zt=b(it);for(let Lt=0;Lt<k.length;Lt+=1)k[Lt].l(zt);zt.forEach(f),xt.forEach(f),Vt.forEach(f),wt=y(K),ct=d(K,"DIV",{class:!0});var Ut=b(ct);Z=d(Ut,"BUTTON",{class:!0});var qt=b(Z);st(tt.$$.fragment,qt),qt.forEach(f),Ut.forEach(f),Dt=y(K),Q=d(K,"DIV",{class:!0});var yt=b(Q);Y=d(yt,"LABEL",{class:!0});var Et=b(Y);ut=d(Et,"SPAN",{"data-svelte-h":!0}),F(ut)!=="svelte-nf0nmx"&&(ut.textContent=Ot),It=y(Et),z=d(Et,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),b(z).forEach(f),Et.forEach(f),Nt=y(yt),et=d(yt,"DIV",{class:!0,"data-svelte-h":!0}),F(et)!=="svelte-11nkuax"&&(et.innerHTML=jt),yt.forEach(f),K.forEach(f),St=y(L),dt=d(L,"FOOTER",{class:!0});var Mt=b(dt);J=d(Mt,"BUTTON",{class:!0,"data-svelte-h":!0}),F(J)!=="svelte-1y6r20i"&&(J.textContent=Pt),Mt.forEach(f),L.forEach(f),R.forEach(f),this.h()},h(){c(o,"class","h3"),c(g,"class","w-64"),c(a,"class","card-header flex justify-between"),c(w,"type","text"),w.disabled=!0,w.value=S=s[6][s[1]]||"",c(w,"class","input p-1"),c(w,"placeholder","Client"),c(N,"class","flex gap-2"),c(m,"class","label"),c(j,"type","datetime-local"),c(j,"class","input p-1"),c(j,"placeholder","Date"),c(h,"class","label"),c(r,"class","flex gap-2 justify-between"),c(P,"class","w-full text-left table-auto print:text-sm"),c(P,"id","table-items"),c(q,"class","max-h-96 overflow-auto"),c(Z,"class","btn btn-sm variant-filled"),c(ct,"class","flex justify-start p-2"),c(z,"class","textarea p-1"),c(z,"rows","4"),c(z,"placeholder","Notes about the sale.."),c(Y,"class","label flex flex-col gap-2 w-full md:w-1/2"),c(et,"class","flex flex-col gap-2 text-sm"),c(Q,"class","flex gap-2 w-full justify-between"),c(_,"class","p-4 flex flex-col gap-4"),c(J,"class","btn variant-filled"),c(dt,"class","card-footer flex justify-end"),c(e,"class","card"),c(t,"class","p-2")},m(p,R){W(p,t,R),l(t,e),l(e,a),l(a,o),l(a,n),l(a,g),rt(i,g,null),l(e,E),l(e,_),l(_,r),l(r,m),l(m,C),l(m,I),l(m,N),l(N,w),l(N,A),l(N,H),rt(B,H,null),l(r,U),l(r,h),l(h,V),l(h,v),l(h,j),kt(j,s[2]),l(_,ot),l(_,q),l(q,P),l(P,M),l(P,Ct),l(P,it);for(let L=0;L<k.length;L+=1)k[L]&&k[L].m(it,null);l(_,wt),l(_,ct),l(ct,Z),rt(tt,Z,null),l(_,Dt),l(_,Q),l(Q,Y),l(Y,ut),l(Y,It),l(Y,z),kt(z,s[0]),l(Q,Nt),l(Q,et),l(e,St),l(e,dt),l(dt,J),mt=!0,At||(Rt=[lt(H,"click",s[14]),lt(j,"input",s[15]),lt(Z,"click",s[17]),lt(z,"input",s[18]),lt(J,"click",s[10]),lt(t,"submit",ne(s[10]))],At=!0)},p(p,R){const L={};if(R&16777248&&(L.$$scope={dirty:R,ctx:p}),i.$set(L),(!mt||R&66&&S!==(S=p[6][p[1]]||"")&&w.value!==S)&&(w.value=S),R&4&&kt(j,p[2]),R&8){ft=Yt(p[3]);let T;for(T=0;T<ft.length;T+=1){const ht=Wt(p,ft,T);k[T]?k[T].p(ht,R):(k[T]=Zt(ht),k[T].c(),k[T].m(it,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=ft.length}R&1&&kt(z,p[0])},i(p){mt||(G(i.$$.fragment,p),G(B.$$.fragment,p),G(tt.$$.fragment,p),mt=!0)},o(p){X(i.$$.fragment,p),X(B.$$.fragment,p),X(tt.$$.fragment,p),mt=!1},d(p){p&&f(t),nt(i),nt(B),oe(k,p),nt(tt),At=!1,ie(Rt)}}}function ge(s){let t,e;return t=new me({}),{c(){at(t.$$.fragment)},l(a){st(t.$$.fragment,a)},m(a,o){rt(t,a,o),e=!0},p:ee,i(a){e||(G(t.$$.fragment,a),e=!0)},o(a){X(t.$$.fragment,a),e=!1},d(a){nt(t,a)}}}function be(s){let t;return{c(){t=pt("Direct Sale")},l(e){t=_t(e,"Direct Sale")},m(e,a){W(e,t,a)},d(e){e&&f(t)}}}function ve(s){let t;return{c(){t=pt("Invoice")},l(e){t=_t(e,"Invoice")},m(e,a){W(e,t,a)},d(e){e&&f(t)}}}function $e(s){let t,e,a,o,$,n;function g(r){s[12](r)}let i={name:"justify",value:"direct_sale",$$slots:{default:[be]},$$scope:{ctx:s}};s[5]!==void 0&&(i.group=s[5]),t=new Kt({props:i}),Xt.push(()=>Qt(t,"group",g));function E(r){s[13](r)}let _={name:"justify",value:"invoice",$$slots:{default:[ve]},$$scope:{ctx:s}};return s[5]!==void 0&&(_.group=s[5]),o=new Kt({props:_}),Xt.push(()=>Qt(o,"group",E)),{c(){at(t.$$.fragment),a=x(),at(o.$$.fragment)},l(r){st(t.$$.fragment,r),a=y(r),st(o.$$.fragment,r)},m(r,m){rt(t,r,m),W(r,a,m),rt(o,r,m),n=!0},p(r,m){const C={};m&16777216&&(C.$$scope={dirty:m,ctx:r}),!e&&m&32&&(e=!0,C.group=r[5],Gt(()=>e=!1)),t.$set(C);const D={};m&16777216&&(D.$$scope={dirty:m,ctx:r}),!$&&m&32&&($=!0,D.group=r[5],Gt(()=>$=!1)),o.$set(D)},i(r){n||(G(t.$$.fragment,r),G(o.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),X(o.$$.fragment,r),n=!1},d(r){r&&f(a),nt(t,r),nt(o,r)}}}function Zt(s){let t,e,a=s[21].info+"",o,$,n,g=s[21].qty+"",i,E,_,r=s[21].amount+"",m,C,D,I=s[21].amount*s[21].qty+"",N,w,S,A,H="remove",B,U,h;function V(){return s[16](s[23])}return{c(){t=u("tr"),e=u("td"),o=pt(a),$=x(),n=u("td"),i=pt(g),E=x(),_=u("td"),m=pt(r),C=x(),D=u("td"),N=pt(I),w=x(),S=u("td"),A=u("button"),A.textContent=H,B=x(),this.h()},l(O){t=d(O,"TR",{});var v=b(t);e=d(v,"TD",{class:!0});var j=b(e);o=_t(j,a),j.forEach(f),$=y(v),n=d(v,"TD",{class:!0});var ot=b(n);i=_t(ot,g),ot.forEach(f),E=y(v),_=d(v,"TD",{class:!0});var q=b(_);m=_t(q,r),q.forEach(f),C=y(v),D=d(v,"TD",{class:!0});var P=b(D);N=_t(P,I),P.forEach(f),w=y(v),S=d(v,"TD",{class:!0});var M=b(S);A=d(M,"BUTTON",{class:!0,"data-svelte-h":!0}),F(A)!=="svelte-z6zj73"&&(A.textContent=H),M.forEach(f),B=y(v),v.forEach(f),this.h()},h(){c(e,"class","px-4 py-2 border"),c(n,"class","px-4 py-2 text-right border tabular-nums slashed-zero"),c(_,"class","px-4 py-2 text-right border tabular-nums slashed-zero"),c(D,"class","px-4 py-2 text-right border tabular-nums slashed-zero"),c(A,"class","hover:underline text-warning-800 text-xs"),c(S,"class","px-4 py-2 text-right border tabular-nums slashed-zero")},m(O,v){W(O,t,v),l(t,e),l(e,o),l(t,$),l(t,n),l(n,i),l(t,E),l(t,_),l(_,m),l(t,C),l(t,D),l(D,N),l(t,w),l(t,S),l(S,A),l(t,B),U||(h=lt(A,"click",V),U=!0)},p(O,v){s=O,v&8&&a!==(a=s[21].info+"")&&Tt(o,a),v&8&&g!==(g=s[21].qty+"")&&Tt(i,g),v&8&&r!==(r=s[21].amount+"")&&Tt(m,r),v&8&&I!==(I=s[21].amount*s[21].qty+"")&&Tt(N,I)},d(O){O&&f(t),U=!1,h()}}}function xe(s){let t,e,a,o;const $=[ge,he],n=[];function g(i,E){return i[4]?0:1}return t=g(s),e=n[t]=$[t](s),{c(){e.c(),a=Ft()},l(i){e.l(i),a=Ft()},m(i,E){n[t].m(i,E),W(i,a,E),o=!0},p(i,[E]){let _=t;t=g(i),t===_?n[t].p(i,E):(ce(),X(n[_],1,1,()=>{n[_]=null}),ue(),e=n[t],e?e.p(i,E):(e=n[t]=$[t](i),e.c()),G(e,1),e.m(a.parentNode,a))},i(i){o||(G(e),o=!0)},o(i){X(e),o=!1},d(i){i&&f(a),n[t].d(i)}}}function ye(s,t,e){let a,o;se(s,fe,h=>e(19,o=h));const $=o.params.pid,n=de(re("__api__")),g=pe();let i="",E=0,_=new Date().toISOString().slice(0,16),r=[],m=[],C=!1;const D=async()=>{};let I="invoice";function N(h){I=h,e(5,I)}function w(h){I=h,e(5,I)}const S=()=>{g.trigger({type:"component",component:"books_client_picker",meta:{api:n,pid:$,onSelect:h=>{e(1,E=h.id||0)}}})};function A(){_=this.value,e(2,_)}const H=h=>{r.splice(h,1),e(3,r)},B=()=>{g.trigger({type:"component",component:"books_sales_item_pick",meta:{api:n,pid:$,onSave:h=>{r.push(h),e(3,r)}}})};function U(){i=this.value,e(0,i)}return s.$$.update=()=>{s.$$.dirty&2048&&e(6,a=m.reduce((h,V)=>{const O=V.id,v=V.name;return h[O]=v,h},{}))},[i,E,_,r,C,I,a,$,n,g,D,m,N,w,S,A,H,B,U]}class Ee extends le{constructor(t){super(),ae(this,t,ye,xe,te,{})}}function ke(s){let t,e="Playground",a,o,$;return o=new Ee({}),{c(){t=u("h4"),t.textContent=e,a=x(),at(o.$$.fragment),this.h()},l(n){t=d(n,"H4",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1p7vrku"&&(t.textContent=e),a=y(n),st(o.$$.fragment,n),this.h()},h(){c(t,"class","h4")},m(n,g){W(n,t,g),W(n,a,g),rt(o,n,g),$=!0},p:ee,i(n){$||(G(o.$$.fragment,n),$=!0)},o(n){X(o.$$.fragment,n),$=!1},d(n){n&&(f(t),f(a)),nt(o,n)}}}class je extends le{constructor(t){super(),ae(this,t,null,ke,te,{})}}export{je as component};
