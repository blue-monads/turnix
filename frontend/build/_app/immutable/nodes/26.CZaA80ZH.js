import{s as i,k as c,q as f}from"../chunks/scheduler.Dy-hT7lj.js";import{S as _,i as u,c as l,b as g,m as d,t as y,a as $,e as T}from"../chunks/index.jcCBAMyh.js";import{A as C}from"../chunks/auto_form.cwLFn19I.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DUTEVMI9.js";/* empty css                                                     */import{p as S}from"../chunks/index.NnJejm2M.js";import{g as k}from"../chunks/entry.Cp0zZRwk.js";function v(s){let t,n;return t=new C({props:{data:{},message:s[0],schema:{fields:[{ftype:"TEXT",key_name:"name",name:"Name"},{ftype:"SELECT",key_name:"ptype",name:"type",options:["sideapp_v1"]},{ftype:"LONG_TEXT",key_name:"server_code",name:"Server Code"},{ftype:"LONG_TEXT",key_name:"client_code",name:"Client Code"}],name:"New Plugin",required_fields:["name"]},onSave:s[3]}}),{c(){l(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,a){d(t,e,a),n=!0},p(e,[a]){const o={};a&1&&(o.message=e[0]),a&1&&(o.onSave=e[3]),t.$set(o)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function E(s,t,n){let e;c(s,S,r=>n(4,e=r));let a=e.pid;const o=f("__api__");let m="";return[m,a,o,async r=>{const p=await o.addProjectPlugin(a,r);if(p.status!==200){n(0,m=p.data);return}k(`/z/pages/portal/project/plugins?pid=${a}`)}]}class j extends _{constructor(t){super(),u(this,t,E,v,i,{})}}export{j as component};
