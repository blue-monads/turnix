import{s as D,a as z,e as y,g as E,c as $,b as k,f,m as U,i as d,h as j,x as F,k as v,r as P,t as b,d as g,j as S}from"../chunks/scheduler.D2OtNeTK.js";import{S as w,i as C,c as N,b as T,m as q,t as A,a as B,e as I}from"../chunks/index.DD9KLV65.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.B6Y8wNrO.js";import{F as O}from"../chunks/FileDropzone.D-WerdTx.js";import{p as V}from"../chunks/stores.D0bQ952I.js";/* empty css                                                     */import{p as x}from"../chunks/index.BURjlDwe.js";function G(l){var n;let e,t=(((n=l[1])==null?void 0:n.name)||"")+"",o;return{c(){e=y("span"),o=b(t)},l(r){e=$(r,"SPAN",{});var i=k(e);o=g(i,t),i.forEach(f)},m(r,i){d(r,e,i),j(e,o)},p(r,i){var p;i&2&&t!==(t=(((p=r[1])==null?void 0:p.name)||"")+"")&&S(o,t)},d(r){r&&f(e)}}}function H(l){let e;return{c(){e=b("Upload files to your project")},l(t){e=g(t,"Upload files to your project")},m(t,o){d(t,e,o)},d(t){t&&f(e)}}}function J(l){let e;return{c(){e=b("Upload")},l(t){e=g(t,"Upload")},m(t,o){d(t,e,o)},d(t){t&&f(e)}}}function K(l){let e;return{c(){e=b("Uploading...")},l(t){e=g(t,"Uploading...")},m(t,o){d(t,e,o)},d(t){t&&f(e)}}}function L(l){let e,t,o,n,r,i,p,m;e=new O({props:{name:"files",$$slots:{message:[H],lead:[G]},$$scope:{ctx:l}}}),e.$on("change",l[5]);function h(a,c){return a[0]?K:J}let u=h(l),s=u(l);return{c(){N(e.$$.fragment),t=z(),o=y("div"),n=y("button"),s.c(),this.h()},l(a){T(e.$$.fragment,a),t=E(a),o=$(a,"DIV",{class:!0});var c=k(o);n=$(c,"BUTTON",{class:!0});var _=k(n);s.l(_),_.forEach(f),c.forEach(f),this.h()},h(){U(n,"class","btn btn-sm variant-filled"),n.disabled=r=!l[1]||l[0],U(o,"class","flex justify-end py-2")},m(a,c){q(e,a,c),d(a,t,c),d(a,o,c),j(o,n),s.m(n,null),i=!0,p||(m=F(n,"click",l[6]),p=!0)},p(a,[c]){const _={};c&258&&(_.$$scope={dirty:c,ctx:a}),e.$set(_),u!==(u=h(a))&&(s.d(1),s=u(a),s&&(s.c(),s.m(n,null))),(!i||c&3&&r!==(r=!a[1]||a[0]))&&(n.disabled=r)},i(a){i||(A(e.$$.fragment,a),i=!0)},o(a){B(e.$$.fragment,a),i=!1},d(a){a&&(f(t),f(o)),I(e,a),s.d(),p=!1,m()}}}function M(l,e,t){let o,n;v(l,V,s=>t(7,o=s)),v(l,x,s=>t(2,n=s));const r=o.params.pid,i=P("__api__");let p=!1,m;return[p,m,n,r,i,async s=>{console.log("onDrop",s),t(1,m=s.target.files[0])},async()=>{t(0,p=!0);const s=n.folder||"";await i.addProjectFile(r,m.name,s,m),t(0,p=!1)}]}class te extends w{constructor(e){super(),C(this,e,M,L,D,{})}}export{te as component};
