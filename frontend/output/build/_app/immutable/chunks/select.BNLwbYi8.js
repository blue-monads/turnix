import{a2 as o,a4 as v}from"./runtime.CmPLUjJJ.js";import{l}from"./shared.BFhNwdsm.js";import{i as _}from"./proxy.DKs42Gzo.js";function f(e,u,n){if(e.multiple)return d(e,u);for(var a of e.options){var r=t(a);if(_(r,u)){a.selected=!0;return}}(!n||u!==void 0)&&(e.selectedIndex=-1)}function s(e,u){let n=!0;o(()=>{u&&f(e,v(u),n),n=!1;var a=new MutationObserver(()=>{var r=e.__value;f(e,r)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function p(e,u,n=u){var a=!0;l(e,"change",()=>{var r;if(e.multiple)r=[].map.call(e.querySelectorAll(":checked"),t);else{var i=e.querySelector(":checked");r=i&&t(i)}n(r)}),o(()=>{var r=u();if(f(e,r,a),a&&r===void 0){var i=e.querySelector(":checked");i!==null&&(r=t(i),n(r))}e.__value=r,a=!1}),s(e)}function d(e,u){for(var n of e.options)n.selected=~u.indexOf(t(n))}function t(e){return"__value"in e?e.__value:e.value}export{p as b,s as i,f as s};
