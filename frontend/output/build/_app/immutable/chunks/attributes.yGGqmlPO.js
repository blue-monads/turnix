import{an as q,a0 as A,K as d,ao as B,ap as E,a5 as K}from"./runtime.CmPLUjJJ.js";import{c as N,d as M}from"./events.DnYA5zBv.js";import{a as z,b as C}from"./misc.CveY8KIp.js";import{a as D,n as G,b as P}from"./utils.DxcAWsds.js";function H(s){if(d){var r=!1,a=()=>{if(!r){if(r=!0,s.hasAttribute("value")){var c=s.value;n(s,"value",null),s.value=c}if(s.hasAttribute("checked")){var o=s.checked;n(s,"checked",null),s.checked=o}}};s.__on_r=a,E(a),z()}}function J(s,r){var a=s.__attributes??(s.__attributes={});a.value!==(a.value=r)&&(s.value=r)}function Q(s,r){var a=s.__attributes??(s.__attributes={});a.checked!==(a.checked=r)&&(s.checked=r)}function n(s,r,a,c){var o=s.__attributes??(s.__attributes={});d&&(o[r]=s.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&s.nodeName==="LINK")||o[r]!==(o[r]=a)&&(r==="loading"&&(s[q]=a),a==null?s.removeAttribute(r):typeof a!="string"&&w(s).includes(r)?s[r]=a:s.setAttribute(r,a))}function U(s,r,a,c,o=!1,l=!1,R=!1){var t=r||{},L=s.tagName==="OPTION";for(var h in r)h in a||(a[h]=null);var O=w(s),T=s.__attributes??(s.__attributes={}),g=[];for(const i in a){let f=a[i];if(L&&i==="value"&&f==null){s.value=s.__value="",t[i]=f;continue}var k=t[i];if(f!==k){t[i]=f;var p=i[0]+i[1];if(p!=="$$")if(p==="on"){const v={},e="$$"+i;let u=i.slice(2);var b=P(u);if(D(u)&&(u=u.slice(0,-7),v.capture=!0),!b&&k){if(f!=null)continue;s.removeEventListener(u,t[e],v),t[e]=null}if(f!=null)if(b)s[`__${u}`]=f,M([u]);else{let y=function(I){t[i].call(this,I)};r?t[e]=N(u,s,y,v):g.push([i,f,()=>t[e]=N(u,s,y,v)])}}else if(i==="style"&&f!=null)s.style.cssText=f+"";else if(i==="autofocus")C(s,!!f);else if(i==="__value"||i==="value"&&f!=null)s.value=s[i]=s.__value=f;else{var _=i;o||(_=G(_)),f==null&&!l?(T[i]=null,s.removeAttribute(i)):O.includes(_)&&(l||typeof f!="string")?s[_]=f:typeof f!="function"&&(d&&(_==="src"||_==="href"||_==="srcset")||n(s,_,f))}}}return r||K(()=>{if(s.isConnected)for(const[i,f,v]of g)t[i]===f&&v()}),t}var $=new Map;function w(s){var r=$.get(s.nodeName);if(r)return r;$.set(s.nodeName,r=[]);for(var a,c=A(s);c.constructor.name!=="Element";){a=B(c);for(var o in a)a[o].set&&r.push(o);c=A(c)}return r}export{U as a,J as b,Q as c,H as r,n as s};
