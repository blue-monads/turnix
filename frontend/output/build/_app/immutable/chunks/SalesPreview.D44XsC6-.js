import{a as n,t as yt,b as c}from"./disclose-version.BOfWGsg9.js";import{p as Gt,t as l,a as Ht,c as a,r as t,s as r,b as o}from"./runtime.CmPLUjJJ.js";import{s}from"./render.CZQ66Y_F.js";import{i as x}from"./if.DoU_1wcm.js";import{e as Jt,i as Kt}from"./each.BJPUi07-.js";import{r as Lt,b as ut,s as Rt}from"./attributes.yGGqmlPO.js";import{d as Vt}from"./events.DnYA5zBv.js";import{r as Wt}from"./misc.CveY8KIp.js";import{p as ft}from"./props.IjRlZquB.js";import{g as Yt}from"./stores.C0Vv8-i4.js";import"./ProgressBar.svelte_svelte_type_style_lang.Kk8Ai2k7.js";import"./entry.SbDQTVSd.js";import{f as i}from"./index.UdVxqQke.js";import"./index.DQ4XhlMg.js";import"./autotable.D5y0wA8l.js";/* empty css                                             */var Zt=yt('<tr><td class="px-4 py-2 border"> </td><td class="px-4 py-2 text-right border tabular-nums slashed-zero"> </td><td class="px-4 py-2 text-right border tabular-nums slashed-zero"><span> </span> = <strong> </strong></td><td class="px-4 py-2 text-right border tabular-nums slashed-zero"><!></td><td class="px-4 py-2 text-right border tabular-nums slashed-zero">( <span> <!> <!></span> <strong> </strong></td></tr>'),$t=()=>{},ta=yt('<form class="p-2"><div class="card"><header class="card-header flex justify-between"><h3 class="h3"> </h3></header> <section class="p-4 flex flex-col gap-4"><div class="flex gap-2 justify-between"><div class="flex flex-col gap-2"><div class="label"><span class="font-semibold">Title :</span> <span> </span></div> <div class="label"><span class="font-semibold">Billed To :</span> <a class="text-sm italic underline"> </a></div></div> <label class="label"><span>Date of Sale</span> <input type="datetime-local" class="input p-1" placeholder="Date" disabled></label></div> <div class="max-h-96 overflow-auto"><table class="w-full text-left table-auto print:text-sm" id="table-items"><thead><tr class="variant-filled print:bg-gray-300 print:text-black"><th class="px-4 py-2">Item</th><th class="px-4 py-2 text-right">Qty</th><th class="px-4 py-2 text-right">Unit Price</th><th class="px-4 py-2 text-right">Tax</th><th class="px-4 py-2 text-right">Total</th></tr></thead><tbody></tbody></table></div> <div class="flex gap-2 w-full justify-between"><label class="label flex flex-col gap-2 w-full md:w-1/2"><span>Notes</span> <textarea class="textarea p-1" rows="4" placeholder="Notes about the sale.."></textarea></label> <div class="flex flex-col gap-2 text-sm"><table><tbody><tr><td class="px-2 py-2 border border-gray-400">Total Items TAX</td><td class="px-2 py-2 border border-gray-400 text-right"><span> </span></td></tr><tr><td class="px-2 py-2 border border-gray-400">Total Items Discount</td><td class="px-2 py-2 border border-gray-400 text-right"><span> </span></td></tr><tr><td class="px-2 py-2 border border-gray-400 border-b-gray-800">Sub Total</td><td class="px-2 py-2 border border-gray-400 border-b-gray-800 text-right"><strong> </strong></td></tr><tr><td class="px-2 py-2 border border-gray-800">Overall TAX</td><td class="px-2 py-2 border border-gray-800 text-right"><span><strong> </strong> <!></span></td></tr><tr><td class="px-2 py-2 border border-gray-800">Overall Discount</td><td class="px-2 py-2 border border-gray-800 text-right"><span><strong> </strong> <!></span></td></tr><tr><td class="px-2 py-2 border border-gray-800 font-semibold">Total</td><td class="px-2 py-2 border border-gray-800 text-right font-semibold"> </td></tr></tbody></table></div></div></section> <footer class="card-footer flex justify-end"><button class="btn variant-soft-error">delete</button></footer></div></form>');function ga(ht,d){Gt(d,!0),Yt();let wt=ft(d,"name",3,"Sale"),Tt=ft(d,"contactsNameIndex",19,()=>({})),Q=0,U=0;var b=ta(),E=a(b),m=a(E),F=a(m),St=a(F);t(F),t(m);var g=r(m,2),u=a(g),f=a(u),y=a(f),G=r(a(y),2),kt=a(G);t(G),t(y);var H=r(y,2),h=r(a(H),2),It=a(h);t(h),t(H),t(f);var J=r(f,2),K=r(a(J),2);Lt(K),l(()=>ut(K,new Date(d.data.created_at).toISOString().slice(0,16))),t(J),t(u);var w=r(u,2),L=a(w),R=r(a(L));Jt(R,21,()=>d.lines,Kt,(p,e)=>{var q=Zt(),A=a(q),Bt=a(A);t(A);var P=r(A),Ct=a(P);t(P);var X=r(P),B=a(X),Mt=a(B);t(B);var ct=r(B,2),Qt=a(ct);l(()=>s(Qt,i((o(e).price||0)-(o(e).discount_amount||0)+(o(e).tax_amount||0)))),t(ct),t(X);var C=r(X),Ut=a(C);x(Ut,()=>o(e).tax_amount,_=>{var v=c();l(()=>s(v,o(e).tax_amount)),n(_,v)},_=>{var v=c("-");n(_,v)}),t(C);var pt=r(C),M=r(a(pt)),xt=a(M),bt=r(xt);x(bt,()=>o(e).discount_amount,_=>{var v=c();l(()=>s(v,`- ${o(e).discount_amount??""}`)),n(_,v)});var Et=r(bt,2);x(Et,()=>o(e).tax_amount,_=>{var v=c();l(()=>s(v,`+ ${o(e).tax_amount??""}`)),n(_,v)}),t(M);var mt=r(M),gt=r(mt),Ft=a(gt);t(gt),t(pt),t(q),l(()=>{s(Bt,o(e).info),s(Ct,o(e).qty),s(Mt,`${o(e).price??""} - (${o(e).discount_amount??""})`),s(xt,`${o(e).price??""} `),s(mt,` ) * ${o(e).qty??""} = `),s(Ft,o(e).total_amount)}),n(p,q)}),t(R),t(L),t(w);var V=r(w,2),T=a(V),S=r(a(T),2);Wt(S),S.disabled=!0,t(T);var W=r(T,2),Y=a(W),Z=a(Y),k=a(Z),$=r(a(k)),tt=a($),jt=a(tt);l(()=>s(jt,i(d.data.total_item_tax_amount))),t(tt),t($),t(k);var I=r(k),at=r(a(I)),rt=a(at),zt=a(rt);l(()=>s(zt,i(d.data.total_item_discount_amount))),t(rt),t(at),t(I);var j=r(I),et=r(a(j)),st=a(et),Dt=a(st);l(()=>s(Dt,i(d.data.sub_total))),t(st),t(et),t(j);var z=r(j),dt=r(a(z)),ot=a(dt),D=a(ot),Nt=a(D);l(()=>s(Nt,i(d.data.overall_tax_amount))),t(D);var Ot=r(D,2);x(Ot,()=>Q,p=>{var e=c();l(()=>s(e,`[${i(Q)??""}%]`)),n(p,e)}),t(ot),t(dt),t(z);var N=r(z),lt=r(a(N)),vt=a(lt),O=a(vt),qt=a(O);l(()=>s(qt,i(d.data.overall_discount_amount))),t(O);var At=r(O,2);x(At,()=>U,p=>{var e=c();l(()=>s(e,`[${i(U)??""}%]`)),n(p,e)}),t(vt),t(lt),t(N);var it=r(N),nt=r(a(it)),Pt=a(nt);l(()=>s(Pt,i(d.data.total))),t(nt),t(it),t(Z),t(Y),t(W),t(V),t(g);var _t=r(g,2),Xt=a(_t);Xt.__click=[$t],t(_t),t(E),t(b),l(()=>{s(St,`${wt()??""} #${d.data.id??""}`),s(kt,d.data.title||""),Rt(h,"href",`/z/pages/portal/projects/books/${d.pid}/contacts/edit?cid=${d.data.client_id}`),s(It,Tt()[d.data.client_id]||""),ut(S,d.data.notes)}),n(ht,b),Ht()}Vt(["click"]);export{ga as S};
