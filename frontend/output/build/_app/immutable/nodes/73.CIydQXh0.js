import{c as h,a as v}from"../chunks/disclose-version.BOfWGsg9.js";import{p as k,g as b,i as c,f as A,a as N,h as p,b as i,d as w}from"../chunks/runtime.CmPLUjJJ.js";import{i as C}from"../chunks/if.DoU_1wcm.js";import{p as f}from"../chunks/proxy.DKs42Gzo.js";import{s as j,a as x}from"../chunks/store.BN9B0iWR.js";import{g as o}from"../chunks/entry.CyBKS7ox.js";import{p as z}from"../chunks/stores.DkdCKZTz.js";import{N as R}from"../chunks/index.Dq_7tmzI.js";import"../chunks/index.DnNofn7z.js";import{A as T}from"../chunks/autotable.D5y0wA8l.js";import{L as q}from"../chunks/loader._7BlSOYJ.js";function O(_,g){k(g,!0);const y=j(),e=x(z,"$page",y).params.pid,m=R(b("__api__"));let s=c(!0),l=c(f([]));const n=async()=>{p(s,!0);const a=await m.listReportTemplate(e);a.status===200&&(p(l,f(a.data)),p(s,!1))};n();var d=h(),u=A(d);C(u,()=>i(s),a=>{q(a,{})},a=>{var $=w(()=>[{Name:"explore",Class:"variant-filled-primary",Action:async(t,r)=>{r.report_type==="html_report"?o(`/z/pages/portal/projects/books/${e}/report/template/preview/html?template_id=${t}`):o(`/z/pages/portal/projects/books/${e}/report/template/preview/sql?template_id=${t}`)}},{Name:"edit",Class:"variant-filled-secondary",Action:async(t,r)=>{r.report_type==="html_report"?o(`/z/pages/portal/projects/books/${e}/report/template/edit/html?template_id=${t}`):o(`/z/pages/portal/projects/books/${e}/report/template/edit/sql?template_id=${t}`)}},{Name:"delete",Class:"variant-filled-error",Action:async(t,r)=>{(await m.deleteReportTemplate(e,t)).status===200&&n()}}]);T(a,{action_key:"id",key_names:[["id","ID"],["name","Name"],["report_type","Report Type"],["created_at","Created At"]],hashSeed:35,get datas(){return i(l)},color:["report_type"],get actions(){return i($)}})}),v(_,d),N()}export{O as component};
