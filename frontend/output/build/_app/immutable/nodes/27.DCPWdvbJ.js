import{c as H,a as J,t as K}from"../chunks/disclose-version.BOfWGsg9.js";import{p as M,g as Q,i as p,f as R,a as U,h as s,b as e,t as V,c as a,s as o,r as t,d as W}from"../chunks/runtime.CmPLUjJJ.js";import{s as X}from"../chunks/render.CZQ66Y_F.js";import{i as Y}from"../chunks/if.DoU_1wcm.js";import{r as Z}from"../chunks/attributes.yGGqmlPO.js";import{d as ee}from"../chunks/events.DnYA5zBv.js";import{r as ae}from"../chunks/misc.CveY8KIp.js";import{b as O}from"../chunks/input.BRsTNa69.js";import{b as te}from"../chunks/select.BNLwbYi8.js";import{p as c}from"../chunks/proxy.DKs42Gzo.js";import{s as se,a as re}from"../chunks/store.BN9B0iWR.js";import{b as oe}from"../chunks/index.ClJdoWOd.js";import{A as le}from"../chunks/index.DQ4XhlMg.js";import"../chunks/autotable.D5y0wA8l.js";import{L as pe}from"../chunks/loader._7BlSOYJ.js";import{p as ie}from"../chunks/index.NL8p-q19.js";var ce=async(T,m,b,r,f,n,d,v)=>{s(m,!0);const _=await b.addProject({name:e(r),ptype:e(f),info:e(n),extrameta:JSON.stringify(e(d))});if(_.status!==200){s(m,!1),s(v,c(_.data));return}oe()},ne=K('<div class="p-2"><div class="card p-2"><header class="flex justify-center"><div class="flex flex-col gap-2"><h3 class="h3">New Project</h3></div></header> <section class="flex flex-col gap-4"><label class="label"><span>Name</span> <input class="input p-1" type="text" placeholder="TestProject1"></label> <label class="label"><span>Project Type</span> <select class="select" disabled><option> </option></select></label> <label class="label"><span>Info</span> <textarea class="textarea" rows="4" placeholder="This is a project description"></textarea></label></section> <section class="mt-2"><!></section> <footer class="flex justify-end p-2 gap-2"><button class="btn variant-filled">Save</button></footer></div></div>');function Te(T,m){M(m,!0);const b=se(),r=()=>re(ie,"$params",b),f=Q("__api__");let n=p(!0),d=p(""),v=p(c([]));const _=async()=>{const i=await f.getProjectTypeForm(r().ptype);i.status===200&&(s(v,c(i.data||[])),s(n,!1))};let x=p(""),g=p(c(r().ptype)),y=p(""),N=p(c({}));_();var S=H(),z=R(S);Y(z,()=>e(n),i=>{pe(i,{})},i=>{var h=ne(),A=a(h),j=o(a(A),2),P=a(j),F=o(a(P),2);Z(F),t(P);var $=o(P,2),k=o(a($),2),u=a(k),L={},B=a(u);t(u),t(k),t($);var q=o($,2),C=o(a(q),2);ae(C),t(q),t(j);var w=o(j,2),D=a(w),E=W(()=>({fields:e(v),name:"",required_fields:["name"]}));le(D,{data:{},noSubmit:!0,get message(){return e(d)},get schema(){return e(E)},$$events:{save:l=>{s(N,c(l.detail||{}))}}}),t(w);var I=o(w,2),G=a(I);G.__click=[ce,n,f,x,g,y,N,d],t(I),t(A),t(h),V(()=>{L!==(L=r().ptype)&&(u.value=(u.__value=r().ptype)==null?"":r().ptype),X(B,r().ptype)}),O(F,()=>e(x),l=>s(x,l)),te(k,()=>e(g),l=>s(g,l)),O(C,()=>e(y),l=>s(y,l)),J(i,h)}),J(T,S),U()}ee(["click"]);export{Te as component};
