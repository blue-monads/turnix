import{a as e,t as p}from"../chunks/uYeY98Ep.js";import{p as C,g as N,h as g,f as w,a as x,i,d as u,c as P,b as j,r as z,s as B}from"../chunks/CRNwc6nF.js";import{i as I}from"../chunks/DPugg-eY.js";import{s as L}from"../chunks/Bo8IgBjd.js";import{p as _}from"../chunks/Ycl9y-hy.js";import{s as S,a as q}from"../chunks/xNd68Pov.js";import{g as D}from"../chunks/lZe3btPj.js";import{p as E}from"../chunks/bUAA_rse.js";import{N as T}from"../chunks/Dq_7tmzI.js";import"../chunks/Zb-LiZS2.js";import"../chunks/BmWNUg7v.js";import{A as F}from"../chunks/C9oD0EKA.js";import{S as G}from"../chunks/CTtbmK_c.js";import"../chunks/D8sggRce.js";import{A as H}from"../chunks/g85Fs1Im.js";import{L as J}from"../chunks/DDEYG0vs.js";var K=p('<ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="">&rsaquo;</li> <li class="crumb">Contacts</li></ol>'),M=p('<a class="btn variant-ghost-primary btn-sm"><!> Contact</a>'),O=p("<!> <!>",1);function la(b,v){C(v,!0);const[$,h]=S(),o=q(E,"$page",$).params.pid,c=T(N("__api__"));let r=g(!0),l=g(_([]));const n=async()=>{i(r,!0);const a=await c.listContacts(o);a.status===200&&(i(l,_(a.data)),i(r,!1))};n();var m=O(),d=w(m);F(d,{$$slots:{lead:(a,s)=>{var t=K();e(a,t)},trail:(a,s)=>{var t=M();L(t,"href",`/z/pages/portal/projects/books/${o}/contacts/new`);var f=P(t);G(f,{className:"h-4 w-4",name:"plus"}),j(),z(t),e(a,t)}}});var y=B(d,2);{var k=a=>{J(a,{})},A=a=>{H(a,{action_key:"id",key_names:[["id","ID"],["name","Name"],["ctype","Type"],["email","Email"],["phone","Phone"]],get datas(){return u(l)},color:["ctype"],actions:[{Name:"edit",Class:"variant-filled-primary",Action:async(s,t)=>{D(`/z/pages/portal/projects/books/${o}/contacts/edit?cid=${s}`)}},{Name:"delete",Class:"variant-filled-error",Action:async(s,t)=>{(await c.deleteContact(o,s)).status===200&&n()}}]})};I(y,a=>{u(r)?a(k):a(A,!1)})}e(b,m),x(),h()}export{la as component};
