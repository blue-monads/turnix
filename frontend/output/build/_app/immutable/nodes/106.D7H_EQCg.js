import{a as s,t as x,c as z,b as _}from"../chunks/disclose-version.BOfWGsg9.js";import{p as P,g as C,f as w,t as D,a as I,h as u,b as o,i as F,c as g,r as $,e as N,s as q}from"../chunks/runtime.CmPLUjJJ.js";import{s as A}from"../chunks/render.CZQ66Y_F.js";import{i as S}from"../chunks/if.DoU_1wcm.js";import{d as B}from"../chunks/events.DnYA5zBv.js";import{p as E}from"../chunks/proxy.DKs42Gzo.js";import{s as G,a as H}from"../chunks/store.BN9B0iWR.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.Kk8Ai2k7.js";import{F as J}from"../chunks/FileDropzone.hy4qW1aM.js";import{p as K}from"../chunks/index.CqTR9n69.js";import{S as L}from"../chunks/SvgIcon.Cn9REWmg.js";import{g as M}from"../chunks/entry.SbDQTVSd.js";var O=x('<div slot="lead" class="flex justify-center"><!></div>'),Q=x("<strong>Upload a file</strong> or drag and drop",1),R=async(b,i,f,d,p)=>{var t;u(i,!0);const e=f().folder||"";await d.addSelfFile((t=o(p))==null?void 0:t.name,e,o(p)),u(i,!1),M(`/z/pages/portal/self/files?folder=${e}`)},T=x('<!> <div class="flex justify-end py-2"><button class="btn btn-sm variant-filled"><!></button></div>',1);function ia(b,i){P(i,!0);const f=G(),d=()=>H(K,"$params",f),p=C("__api__");let e=F(!1),t=F(void 0);const U=async a=>{console.log("onDrop",a),u(t,E(a.target.files[0]))};var h=T(),y=w(h);J(y,{name:"files",$$events:{change:U},$$slots:{lead:(a,n)=>{var r=O(),c=g(r);L(c,{name:"arrow-up-tray",className:"w-6 h-6"}),$(r),s(a,r)},message:(a,n)=>{var r=z(),c=w(r);S(c,()=>o(t),v=>{var m=_();D(()=>A(m,o(t).name)),s(v,m)},v=>{var m=Q();N(),s(v,m)}),s(a,r)}}});var k=q(y,2),l=g(k);l.__click=[R,e,d,p,t];var j=g(l);S(j,()=>o(e),a=>{var n=_("Uploading...");s(a,n)},a=>{var n=_("Upload");s(a,n)}),$(l),$(k),D(()=>l.disabled=!o(t)||o(e)),s(b,h),I()}B(["click"]);export{ia as component};
