import{a as i,t as n}from"../chunks/disclose-version.BOfWGsg9.js";import{p as N,g as y,i as u,f as k,a as A,h as p,b as l,c as w,e as x,r as j,s as z,d as B}from"../chunks/runtime.CmPLUjJJ.js";import{i as C}from"../chunks/if.DoU_1wcm.js";import{s as I}from"../chunks/attributes.yGGqmlPO.js";import{p as _}from"../chunks/proxy.DKs42Gzo.js";import{s as P,a as L}from"../chunks/store.BN9B0iWR.js";import{g as S}from"../chunks/entry.CyBKS7ox.js";import{p as q}from"../chunks/stores.DkdCKZTz.js";import{N as D}from"../chunks/index.Dq_7tmzI.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.B5GFseBd.js";import{A as T}from"../chunks/AppBar.DRZCjzsx.js";import{S as E}from"../chunks/SvgIcon.Cn9REWmg.js";import"../chunks/index.DnNofn7z.js";import{A as F}from"../chunks/autotable.D5y0wA8l.js";import{L as G}from"../chunks/loader._7BlSOYJ.js";var H=n('<ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="">&rsaquo;</li> <li class="crumb">Notepad</li></ol>'),J=n('<a class="btn variant-ghost-primary btn-sm"><!> Note</a>'),K=n("<!> <!>",1);function pa(b,v){N(v,!0);const $=P(),s=L(q,"$page",$).params.pid,m=D(y("__api__"));let o=u(!0),c=u(_([]));const d=async()=>{p(o,!0);const a=await m.listNotepad(s);a.status===200&&(p(c,_(a.data)),p(o,!1))};d();var f=K(),g=k(f);T(g,{$$slots:{lead:(a,r)=>{var t=H();i(a,t)},trail:(a,r)=>{var t=J();I(t,"href",`/z/pages/portal/projects/books/${s}/notepad/new`);var e=w(t);E(e,{className:"h-4 w-4",name:"plus"}),x(),j(t),i(a,t)}}});var h=z(g,2);C(h,()=>l(o),a=>{G(a,{})},a=>{var r=B(()=>[{Name:"edit",Class:"variant-filled-primary",Action:async(t,e)=>{S(`/z/pages/portal/projects/books/${s}/notepad/edit?id=${t}`)}},{Name:"delete",Class:"variant-filled-error",Action:async(t,e)=>{(await m.deleteNotepad(s,t)).status===200&&d()}}]);F(a,{action_key:"id",key_names:[["id","ID"],["title","Title"],["notes","Notes"]],get datas(){return l(c)},color:["ctype"],get actions(){return l(r)}})}),i(b,f),A()}export{pa as component};
