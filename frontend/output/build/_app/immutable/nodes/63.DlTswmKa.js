import{c as x,a as E}from"../chunks/disclose-version.BOfWGsg9.js";import{p as N,g as b,f as h,a as v,h as t,b as o,i as r}from"../chunks/runtime.CmPLUjJJ.js";import{i as L}from"../chunks/if.DoU_1wcm.js";import{p as g}from"../chunks/proxy.DKs42Gzo.js";import{s as w,a as u}from"../chunks/store.BN9B0iWR.js";import{N as A}from"../chunks/index.Dq_7tmzI.js";import{p as C}from"../chunks/stores.DkdCKZTz.js";import{A as I}from"../chunks/index.DnNofn7z.js";import"../chunks/autotable.D5y0wA8l.js";import{L as S}from"../chunks/loader._7BlSOYJ.js";import{g as X}from"../chunks/entry.CyBKS7ox.js";import{p as j}from"../chunks/index.COSOhg_g.js";function Q(_,y){N(y,!0);const p=w(),l=()=>u(C,"$page",p),T=()=>u(j,"$params",p),e=l().params.pid,m=T().tid,n=A(b("__api__"));let i=r(""),f=r(void 0),s=r(!0);(async()=>{t(s,!0);const a=await n.getTax(e,m);a.status===200&&(t(f,g(a.data)),t(s,!1))})();const k=async a=>{const c=await n.updateTax(e,m,a);if(c.status!==200){t(i,g(c.data.message));return}X(`/z/pages/portal/projects/books/${e}/inventory/tax`)};var d=x(),$=h(d);L($,()=>o(s),a=>{S(a,{})},a=>{I(a,{get message(){return o(i)},get data(){return o(f)},schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Type",ftype:"SELECT",key_name:"ttype",options:["item_percent"]},{name:"Rate",ftype:"INT",key_name:"rate"},{name:"Info",ftype:"LONG_TEXT",key_name:"info"}],name:"Edit Catagory",required_fields:[]},onSave:k})}),E(_,d),v()}export{Q as component};
