import{c as h,a as v}from"../chunks/disclose-version.BOfWGsg9.js";import{p as C,g as N,f as T,a as w,h as t,b as s,i as r}from"../chunks/runtime.CmPLUjJJ.js";import{i as x}from"../chunks/if.DoU_1wcm.js";import{p as d}from"../chunks/proxy.DKs42Gzo.js";import{s as A,a as u}from"../chunks/store.BN9B0iWR.js";import{N as E}from"../chunks/index.Dq_7tmzI.js";import{p as L}from"../chunks/stores.DkdCKZTz.js";import{A as I}from"../chunks/index.DQ4XhlMg.js";import"../chunks/autotable.D5y0wA8l.js";import{L as X}from"../chunks/loader._7BlSOYJ.js";import{g as j}from"../chunks/entry.CyBKS7ox.js";import{p as q}from"../chunks/index.COSOhg_g.js";function R(_,l){C(l,!0);const m=A(),y=()=>u(L,"$page",m),$=()=>u(q,"$params",m),e=y().params.pid,p=$().cid,n=E(N("__api__"));let i=r(""),f=r(void 0),o=r(!0);(async()=>{t(o,!0);const a=await n.getCatagory(e,p);a.status===200&&(t(f,d(a.data)),t(o,!1))})();const k=async a=>{const g=await n.updateCatagory(e,p,a);if(g.status!==200){t(i,d(g.data.message));return}j(`/z/pages/portal/projects/books/${e}/inventory/catagories`)};var c=h(),b=T(c);x(b,()=>s(o),a=>{X(a,{})},a=>{I(a,{get message(){return s(i)},get data(){return s(f)},schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Info",ftype:"LONG_TEXT",key_name:"info"}],name:"Edit Catagory",required_fields:["name"]},onSave:k})}),v(_,c),w()}export{R as component};
