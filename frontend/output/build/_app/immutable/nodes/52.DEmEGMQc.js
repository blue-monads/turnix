import{c as L,a as P}from"../chunks/Celh2SBM.js";import{p as S,g as A,i as r,f as B,a as j,h as s,d as a,e as n}from"../chunks/BC9Cf8Q3.js";import{i as q}from"../chunks/BgSg1_cg.js";import{p as f}from"../chunks/CKwprqj2.js";import{s as z,a as v}from"../chunks/BvXhjoeW.js";import{N as F}from"../chunks/Dq_7tmzI.js";import{p as G}from"../chunks/C1rFHlC-.js";import"../chunks/CMsATdMh.js";import"../chunks/C6IzKD7A.js";import{L as H}from"../chunks/JNyEhxU_.js";import{p as J}from"../chunks/DK_nkBS0.js";import{S as K}from"../chunks/DssFBzLS.js";function st($,w){S(w,!0);const[u,C]=z(),N=()=>v(G,"$page",u),h=()=>v(J,"$params",u),i=N().params.pid,y=h().sid,g=F(A("__api__"));let p=r(void 0),_=r(f([])),m=r(!0),c=r(!0);const D=async()=>{s(m,!0);const t=await g.listContacts(i);t.status===200&&(s(_,f(t.data)),s(m,!1))};(async()=>{s(c,!0);const t=await g.getEstimate(i,y);t.status===200&&(s(p,f(t.data)),s(c,!1),console.log("@sale_data",t.data))})(),D();let I=n(()=>a(_).reduce((t,o)=>{const d=o.id,l=o.name;return t[d]=l,t},{}));var x=L(),b=B(x);{var k=t=>{H(t,{})},E=t=>{const o=n(()=>{var e;return(e=a(p))==null?void 0:e.estimate}),d=n(()=>{var e;return(e=a(p))==null?void 0:e.lines}),l=n(()=>Number(i));K(t,{name:"Estimate",get data(){return a(o)},get lines(){return a(d)},get pid(){return a(l)},get contactsNameIndex(){return a(I)}})};q(b,t=>{a(m)||a(c)?t(k):t(E,!1)})}P($,x),j(),C()}export{st as component};
