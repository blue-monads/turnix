import{a as p,t as _,c as w}from"../chunks/Celh2SBM.js";import{p as R,g as T,f as c,a as V,c as s,b as B,r as o,s as m,t as k,d as f,n as W,e as C}from"../chunks/BC9Cf8Q3.js";import{s as H}from"../chunks/BTw4jHF_.js";import{i as I}from"../chunks/BgSg1_cg.js";import{k as M}from"../chunks/C7D5lwhK.js";import{e as X,i as Y}from"../chunks/BqP2cxbq.js";import{s as Z}from"../chunks/DnAYHjTP.js";import{s as U}from"../chunks/DMueVNEq.js";import{d as aa}from"../chunks/x8LL7je8.js";import{s as ra,a as ea}from"../chunks/BvXhjoeW.js";import{r as sa}from"../chunks/4yW3OGLw.js";import{p as oa}from"../chunks/DK_nkBS0.js";import{S as q}from"../chunks/CdW99GA5.js";import{g as ta}from"../chunks/BRqKVoRW.js";import"../chunks/CRz77-DP.js";import"../chunks/B857cCpa.js";import{A as la}from"../chunks/CnSBROsQ.js";import"../chunks/BW30Hxfo.js";import"../chunks/Diz3GWx4.js";var ia=_('<h4 class="h4">Files</h4>'),na=(y,u,g)=>{u.trigger({type:"component",component:"new_folder_panel",meta:{onNewName:g}})},pa=_('<div class="flex flex-row gap-1"><a class="btn btn-sm variant-filled"><!> <span class="hidden md:inline">Upload</span></a> <button class="btn btn-sm variant-filled-primary"><!> <span class="hidden md:inline">Folder</span></button></div>'),ma=_('<li class="crumb-separator" aria-hidden="">/</li> <li class="crumb"><a class="anchor"> </a></li>',1),da=_('<li class="crumb-separator" aria-hidden="">/</li> <li class="crumb"> </li>',1),ca=_('<!> <div class="flex justify-between p-2 pl-4"><ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/self/files">Home</a></li> <!> <!></ol></div> <div class="px-2 h-full"><div class="card p-2 h-full"><!></div></div>',1);function Ba(y,u){R(u,!0);const[g,D]=ra(),v=()=>ea(oa,"$params",g),E=ta(),G=T("__api__");let N=C(()=>(v().folder||"").split("/")),h=0;sa(()=>{h=1});let b=C(()=>v().filename);const J=async a=>{await G.addSelfFolder(v().folder||"",a),h=h+1};var S=ca(),z=c(S);la(z,{$$slots:{lead:(a,t)=>{var r=ia();p(a,r)},trail:(a,t)=>{var r=w(),d=c(r);{var l=e=>{var i=pa(),n=s(i),O=s(n);q(O,{name:"cloud-arrow-up",className:"h-4 w-4"}),B(2),o(n);var x=m(n,2);x.__click=[na,E,J];var Q=s(x);q(Q,{name:"folder-plus",className:"h-4 w4"}),B(2),o(x),o(i),k(()=>U(n,"href",`/z/pages/portal/self/files/upload?folder=${v().folder||""}`)),p(e,i)};I(d,e=>{v().file||e(l)})}p(a,r)}}});var $=m(z,2),F=s($),j=m(s(F),2);X(j,17,()=>f(N),Y,(a,t,r)=>{var d=ma(),l=m(c(d),2),e=s(l),i=s(e,!0);o(e),o(l),k(n=>{U(e,"href",`/z/pages/portal/self/files?folder=${n??""}`),H(i,f(t))},[()=>f(N).slice(0,r+1).join("/")]),p(a,d)});var K=m(j,2);M(K,()=>f(b),a=>{var t=w(),r=c(t);{var d=l=>{var e=da(),i=m(c(e),2),n=s(i,!0);o(i),k(()=>H(n,f(b))),p(l,e)};I(r,l=>{f(b)&&l(d)})}p(a,t)}),o(F),o($);var A=m($,2),P=s(A),L=s(P);M(L,()=>h,a=>{var t=w(),r=c(t);Z(r,()=>u.children??W),p(a,t)}),o(P),o(A),p(y,S),V(),D()}aa(["click"]);export{Ba as component};
