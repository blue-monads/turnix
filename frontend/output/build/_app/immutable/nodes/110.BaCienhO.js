import{a as o,t as l}from"../chunks/disclose-version.BOfWGsg9.js";import{p as G,g as H,i as N,f as J,a as K,h,b as t,c as r,e as M,r as s,s as i,t as O}from"../chunks/runtime.CmPLUjJJ.js";import{s as B}from"../chunks/render.CZQ66Y_F.js";import{i as C}from"../chunks/if.DoU_1wcm.js";import{e as Q,i as T}from"../chunks/each.BJPUi07-.js";import{s as x}from"../chunks/attributes.yGGqmlPO.js";import{d as V}from"../chunks/events.DnYA5zBv.js";import{p as D}from"../chunks/proxy.DKs42Gzo.js";import"../chunks/index.DnNofn7z.js";import"../chunks/autotable.D5y0wA8l.js";import{L as W}from"../chunks/loader._7BlSOYJ.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.B5GFseBd.js";import{A as X}from"../chunks/AppBar.DRZCjzsx.js";import{S as Y}from"../chunks/SvgIcon.Cn9REWmg.js";var Z=l('<h4 class="h4">Users</h4>'),aa=l('<a class="btn btn-sm variant-soft-secondary" href="/z/pages/portal/self/users/new"><!> Add User</a>'),sa=l('<div class="alert alert-info"><div class="flex-auto"><span class="ml-2">No users</span></div></div>'),ta=(y,f,c)=>f(t(c)),ra=l('<div><span class="badge-icon p-4 variant-soft-secondary"><i class="fa-solid fa-book"></i></span> <span class="flex-auto"><dt class="font-bold"> </dt> <dd class="text-sm opacity-50"> </dd></span> <div class="flex gap-0 sm:gap-1 flex-wrap space-y-2"><a class="btn btn-sm variant-filled-tertiary">Profile</a> <a class="btn btn-sm variant-filled-primary">Reset Password</a> <a class="btn btn-sm variant-filled-warning">Edit</a> <button class="btn btn-sm variant-filled-error">Delete</button></div></div>'),ea=l('<div class="card p-2"><dl class="list-dl"></dl></div>'),oa=l('<div class="p-2"><!></div>'),ia=l("<!> <!>",1);function ya(y,f){G(f,!0);const c=H("__api__");let m=N(D([])),_=N(!0);const $=async()=>{h(_,!0);const a=await c.listSelfUsers();a.status===200&&(h(m,D(a.data)),h(_,!1))},E=async a=>{await c.deleteSelfUser(String(a.id)),$()};$();var w=ia(),k=J(w);X(k,{$$slots:{lead:(a,n)=>{var e=Z();o(a,e)},trail:(a,n)=>{var e=aa(),p=r(e);Y(p,{className:"h-4 w-4",name:"plus"}),M(),s(e),o(a,e)}}});var I=i(k,2);C(I,()=>t(_),a=>{W(a,{})},a=>{var n=oa(),e=r(n);C(e,()=>t(m).length===0,p=>{var v=sa();o(p,v)},p=>{var v=ea(),S=r(v);Q(S,21,()=>t(m),T,(R,d)=>{var b=ra(),g=i(r(b),2),u=r(g),j=r(u);s(u);var U=i(u,2),q=r(U);s(U),s(g);var z=i(g,2),P=r(z),A=i(P,2),L=i(A,2),F=i(L,2);F.__click=[ta,E,d],s(z),s(b),O(()=>{B(j,t(d).name),B(q,t(d).bio),x(P,"href",`/z/pages/portal/user/${t(d).id??""}`),x(A,"href",`/z/pages/portal/self/users/reset-password?uid=${t(d).id??""}`),x(L,"href",`/z/pages/portal/self/users/edit?uid=${t(d).id??""}`)}),o(R,b)}),s(S),s(v),o(p,v)}),s(n),o(a,n)}),o(y,w),K()}V(["click"]);export{ya as component};
