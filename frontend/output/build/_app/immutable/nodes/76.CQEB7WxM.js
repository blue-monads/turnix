import{c as H,a as e,t as d}from"../chunks/disclose-version.BOfWGsg9.js";import{p as T,g as D,f as p,a as F,h as n,b as k,i as w,c as m,e as x,r as c,s as R}from"../chunks/runtime.CmPLUjJJ.js";import{d as G}from"../chunks/events.DnYA5zBv.js";import{i as J}from"../chunks/if.DoU_1wcm.js";import{p as K}from"../chunks/proxy.DKs42Gzo.js";import{s as M,a as P}from"../chunks/store.BN9B0iWR.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.Kk8Ai2k7.js";import{A as O}from"../chunks/AppBar.pSMxueMf.js";import{p as Q}from"../chunks/stores.BgpLsI8J.js";import{N as U}from"../chunks/index.Dq_7tmzI.js";import{S as y}from"../chunks/SvgIcon.Cn9REWmg.js";import{R as V}from"../chunks/RenderBox.BJeVydrf.js";import{p as W}from"../chunks/index.NL8p-q19.js";import{L as X}from"../chunks/loader._7BlSOYJ.js";var Y=d('<ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="true">&rsaquo;</li> <li>Reports</li> <li class="crumb-separator" aria-hidden="true">&rsaquo;</li> <li>Editor</li></ol>'),Z=d('<button class="btn variant-filled btn-sm"><!> Reload</button> <button class="btn variant-filled-secondary btn-sm"><!> Print</button>',1),aa=d('<!> <div class="border border-slate-50 h-full w-full p-2 max-h-[90vh]"><!></div>',1);function va(A,B){T(B,!0);const u=M(),N=()=>P(Q,"$page",u),S=()=>P(W,"$params",u);let f=w("");const _=N().params.pid,q=S().template_id,v=D("__api__"),C=U(v);let i=w(!0);(async()=>{n(i,!0);const t=await C.getReportTemplate(_,q);t.status===200&&(n(f,K(t.data.template)),n(i,!1))})();let a;var b=H(),I=p(b);J(I,()=>k(i),t=>{X(t,{})},t=>{var g=aa(),h=p(g);O(h,{$$slots:{lead:(r,j)=>{var o=Y();e(r,o)},trail:(r,j)=>{var o=Z(),s=p(o);s.__click=()=>{a==null||a.reload()};var z=m(s);y(z,{className:"w-4 h-4",name:"play"}),x(),c(s);var l=R(s,2);l.__click=()=>{a==null||a.print()};var E=m(l);y(E,{className:"w-4 h-4",name:"printer"}),x(),c(l),e(r,o)}}});var $=R(h,2),L=m($);V(L,{pid:_,get htmlSource(){return k(f)},rootApi:v,get handle(){return a},set handle(r){a=r},title:"Report Preview"}),c($),e(t,g)}),e(A,b),F()}G(["click"]);export{va as component};
