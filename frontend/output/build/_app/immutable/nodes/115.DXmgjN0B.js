import{a as o,t as l}from"../chunks/uYeY98Ep.js";import{p as M,g as O,h as B,f as Q,a as T,i as x,d as t,c as r,b as V,r as s,s as i,t as W}from"../chunks/CRNwc6nF.js";import{s as C}from"../chunks/CdHdDXtF.js";import{i as D}from"../chunks/DPugg-eY.js";import{e as X,i as Y}from"../chunks/Bbg2O9W9.js";import{s as w}from"../chunks/Bo8IgBjd.js";import{d as Z}from"../chunks/CHLatDmB.js";import{p as E}from"../chunks/Ycl9y-hy.js";import"../chunks/DSROIJzG.js";import"../chunks/g85Fs1Im.js";import{L as aa}from"../chunks/DDEYG0vs.js";import"../chunks/dt-uJVo0.js";import"../chunks/BmWNUg7v.js";import{A as sa}from"../chunks/CqfoOsKq.js";import{S as ta}from"../chunks/CTtbmK_c.js";var ra=l('<h4 class="h4">Users</h4>'),ea=l('<a class="btn btn-sm variant-soft-secondary" href="/z/pages/portal/self/users/new"><!> Add User</a>'),oa=l('<div class="alert alert-info"><div class="flex-auto"><span class="ml-2">No users</span></div></div>'),ia=(y,c,f)=>c(t(f)),la=l('<div><span class="badge-icon p-4 variant-soft-secondary"><i class="fa-solid fa-book"></i></span> <span class="flex-auto"><dt class="font-bold"> </dt> <dd class="text-sm opacity-50"> </dd></span> <div class="flex gap-1 flex-wrap"><a class="btn btn-sm variant-filled-tertiary">Profile</a> <a class="btn btn-sm variant-filled-primary">Reset Password</a> <a class="btn btn-sm variant-filled-warning">Edit</a> <button class="btn btn-sm variant-filled-error">Delete</button></div></div>'),da=l('<div class="card p-2"><dl class="list-dl"></dl></div>'),na=l('<div class="p-2"><!></div>'),pa=l("<!> <!>",1);function $a(y,c){M(c,!0);const f=O("__api__");let m=B(E([])),_=B(!0);const k=async()=>{x(_,!0);const a=await f.listSelfUsers();a.status===200&&(x(m,E(a.data)),x(_,!1))},I=async a=>{await f.deleteSelfUser(String(a.id)),k()};k();var S=pa(),U=Q(S);sa(U,{$$slots:{lead:(a,p)=>{var e=ra();o(a,e)},trail:(a,p)=>{var e=ea(),b=r(e);ta(b,{className:"h-4 w-4",name:"plus"}),V(),s(e),o(a,e)}}});var R=i(U,2);{var j=a=>{aa(a,{})},q=a=>{var p=na(),e=r(p);{var b=d=>{var v=oa();o(d,v)},F=d=>{var v=da(),$=r(v);X($,21,()=>t(m),Y,(G,n)=>{var u=la(),g=i(r(u),2),h=r(g),H=r(h,!0);s(h);var z=i(h,2),J=r(z,!0);s(z),s(g);var P=i(g,2),A=r(P),L=i(A,2),N=i(L,2),K=i(N,2);K.__click=[ia,I,n],s(P),s(u),W(()=>{C(H,t(n).name),C(J,t(n).bio),w(A,"href",`/z/pages/portal/user/${t(n).id??""}`),w(L,"href",`/z/pages/portal/self/users/reset-password?uid=${t(n).id??""}`),w(N,"href",`/z/pages/portal/self/users/edit?uid=${t(n).id??""}`)}),o(G,u)}),s($),s(v),o(d,v)};D(e,d=>{t(m).length===0?d(b):d(F,!1)})}s(p),o(a,p)};D(R,a=>{t(_)?a(j):a(q,!1)})}o(y,S),T()}Z(["click"]);export{$a as component};
