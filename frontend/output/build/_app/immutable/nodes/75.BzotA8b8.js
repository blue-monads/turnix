import{c as V,a as _,t as S}from"../chunks/uYeY98Ep.js";import{p as W,g as X,f as y,a as Y,i as l,d as n,h as R,s as m,c as t,r as e,b,e as Z}from"../chunks/CRNwc6nF.js";import{d as aa}from"../chunks/CHLatDmB.js";import{i as ra}from"../chunks/DPugg-eY.js";import{s as ta}from"../chunks/Bo8IgBjd.js";import{p as C}from"../chunks/Ycl9y-hy.js";import{s as ea,a as E}from"../chunks/xNd68Pov.js";import"../chunks/dt-uJVo0.js";import"../chunks/BmWNUg7v.js";import{A as oa}from"../chunks/CqfoOsKq.js";import{C as sa}from"../chunks/LuMZZBmK.js";import{h as la}from"../chunks/BPJuPjhd.js";import{p as ia}from"../chunks/bUAA_rse.js";import{N as na}from"../chunks/Dq_7tmzI.js";import{S as N}from"../chunks/CTtbmK_c.js";import{R as pa}from"../chunks/DsAsM4i0.js";import{p as ma}from"../chunks/BIb1nXgJ.js";import{L as da}from"../chunks/DDEYG0vs.js";var ca=S('<ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="true">&rsaquo;</li> <li><a class="anchor">Reports</a></li> <li class="crumb-separator" aria-hidden="true">&rsaquo;</li> <li>Editor</li></ol>'),va=async(A,d,c,g,h,w)=>{l(d,!0),await c.updateReportTemplate(g,h,{template:n(w)}),l(d,!1)},ua=S('<button class="btn variant-filled btn-sm"><!> Run</button> <button class="btn variant-filled-secondary btn-sm"><!> Print</button> <button class="btn variant-filled-tertiary btn-sm"><!> Save</button>',1),fa=S('<!> <div class=" flex flex-col md:flex-row w-full h-[94vh]"><div class="flex-1 w-full md:w-1/2 border border-slate-50 h-1/2 md:h-full overflow-auto"><!></div> <div class="flex-1 w-full md:w-1/2 border border-slate-50 h-1/2 md:h-full p-2"><!></div></div>',1);function Ha(A,d){W(d,!0);const[c,g]=ea(),h=()=>E(ia,"$page",c),w=()=>E(ma,"$params",c);let p=R(""),B=R("");const v=h().params.pid,P=w().template_id,q=X("__api__"),j=na(q);let u=R(!0);(async()=>{l(u,!0);const a=await j.getReportTemplate(v,P);a.status===200&&(l(p,C(a.data.template)),l(u,!1))})();let r;var z=V(),M=y(z);{var D=a=>{da(a,{})},F=a=>{var H=fa(),I=y(H);oa(I,{$$slots:{lead:(o,O)=>{var i=ca(),s=m(t(i),4),x=t(s);ta(x,"href",`/z/pages/portal/projects/books/${v}/report`),e(s),b(4),e(i),_(o,i)},trail:(o,O)=>{var i=ua(),s=y(i);s.__click=()=>{l(B,C(n(p))),r==null||r.reload()};var x=t(s);N(x,{className:"w-4 h-4",name:"play"}),b(),e(s);var f=m(s,2);f.__click=()=>{r==null||r.print()};var Q=t(f);N(Q,{className:"w-4 h-4",name:"printer"}),b(),e(f);var k=m(f,2);k.__click=[va,u,j,v,P,p];var U=t(k);N(U,{className:"w-4 h-4",name:"arrow-down-on-square"}),b(),e(k),_(o,i)}}});var L=m(I,2),$=t(L),G=t($);const J=Z(la);sa(G,{get lang(){return n(J)},get value(){return n(p)},set value(o){l(p,C(o))}}),e($);var T=m($,2),K=t(T);pa(K,{pid:v,get htmlSource(){return n(B)},rootApi:q,get handle(){return r},set handle(o){r=o}}),e(T),e(L),_(a,H)};ra(M,a=>{n(u)?a(D):a(F,!1)})}_(A,z),Y(),g()}aa(["click"]);export{Ha as component};
