import{c as ga,a as B,t as Y}from"../chunks/uYeY98Ep.js";import{p as ba,g as ha,h as b,f as ya,a as xa,i as u,d as a,c as l,s as o,r as s,t as Q,e as c}from"../chunks/CRNwc6nF.js";import{s as U}from"../chunks/CdHdDXtF.js";import{i as ka}from"../chunks/DPugg-eY.js";import{e as wa,i as Ia}from"../chunks/Bbg2O9W9.js";import{r as h,s as $a,b as _}from"../chunks/Bo8IgBjd.js";import{d as Ca,r as Na}from"../chunks/CHLatDmB.js";import{p as y}from"../chunks/Ycl9y-hy.js";import{i as Pa,s as La}from"../chunks/D2s8Z0_2.js";import{s as ja,a as W}from"../chunks/xNd68Pov.js";import{N as Sa}from"../chunks/Dq_7tmzI.js";import{p as Va}from"../chunks/bUAA_rse.js";import{g as Aa}from"../chunks/lZe3btPj.js";import{p as Ea}from"../chunks/BIb1nXgJ.js";import{L as za}from"../chunks/DDEYG0vs.js";import{S as Ba}from"../chunks/CTtbmK_c.js";var Ga=Y("<option> </option>"),Ra=(G,x,v)=>{x({...a(v)})},Ta=Y('<div class="p-2"><div class="card"><header class="card-header"><h4 class="h4">Edit Product</h4> <p class="text-red-500"> </p></header> <section class="p-4 flex flex-col gap-4"><label class="label"><span>Name</span> <input class="input p-1" type="text" placeholder="Input"></label> <label class="label"><span>Catagory</span> <select class="select"></select></label> <label class="label"><span>Variant</span> <input type="text" name="variant_id" class="input p-1" placeholder="LARGE XL"></label> <label class="label" for="price"><span>Price</span></label> <div class="input-group input-group-divider grid-cols-[auto_1fr_auto]"><span class="w-8"><!></span> <input id="price" class="input p-1" type="number" placeholder="Input"></div> <label class="label"><span>In Stock</span> <input id="stock_count" class="input p-1" type="number" placeholder="Input"></label> <label class="label"><span>Info</span> <textarea class="textarea p-1" rows="4"></textarea></label></section> <footer class="card-footer flex justify-end"><button class="btn variant-filled">save</button></footer></div></div>');function se(G,x){ba(x,!0);const[v,Z]=ja(),aa=()=>W(Va,"$page",v),ea=()=>W(Ea,"$params",v),m=aa().params.pid,R=ea().prid,k=Sa(ha("__api__"));let T=b(""),r=b(void 0),w=b(!0),X=b(y([]));const ta=async()=>{u(w,!0);const t=await k.getProduct(m,R);t.status===200&&(u(r,y(t.data)),u(w,!1))};(async()=>{const t=await k.listCatagories(m);t.status===200&&u(X,y(t.data))})(),ta();const sa=async t=>{delete t.id;const i=await k.updateProduct(m,R,t);if(i.status!==200){u(T,y(i.data.message));return}Aa(`/z/pages/portal/projects/books/${m}/inventory/products`)},q=t=>i=>{a(r)[t]=i.target.value},f=t=>i=>{a(r)[t]=Number(i.target.value)};var D=ga(),ra=ya(D);{var la=t=>{za(t,{})},oa=t=>{var i=Ta(),F=l(i),I=l(F),H=o(l(I),2),na=l(H,!0);s(H),s(I);var $=o(I,2),C=l($),N=o(l(C),2);h(N);var ia=c(()=>q("name"));N.__change=function(...n){var e;(e=a(ia))==null||e.apply(this,n)},s(C);var P=o(C,2),p=o(l(P),2);Pa(p,()=>a(r).catagory_id);var J,pa=c(()=>f("catagory_id"));p.__change=function(...n){var e;(e=a(pa))==null||e.apply(this,n)},wa(p,21,()=>a(X),Ia,(n,e)=>{var d=Ga(),O={},fa=l(d,!0);s(d),Q(()=>{O!==(O=a(e).id)&&(d.value=(d.__value=a(e).id)==null?"":a(e).id),U(fa,a(e).name)}),B(n,d)}),s(p),s(P);var L=o(P,2),j=o(l(L),2);h(j);var ca=c(()=>f("variant_id"));j.__change=function(...n){var e;(e=a(ca))==null||e.apply(this,n)},s(L);var S=o(L,4),V=l(S),da=l(V);Ba(da,{name:"currency-dollar",className:"w-5 h-5 text-gray-700 inline-flex justify-self-center items-center mt-1 ml-1"}),s(V);var A=o(V,2);h(A);var ua=c(()=>f("price"));A.__change=function(...n){var e;(e=a(ua))==null||e.apply(this,n)},s(S);var E=o(S,2),z=o(l(E),2);h(z);var _a=c(()=>f("stock_count"));z.__change=function(...n){var e;(e=a(_a))==null||e.apply(this,n)},s(E);var K=o(E,2),g=o(l(K),2);Na(g);var va=c(()=>q("info"));g.__change=function(...n){var e;(e=a(va))==null||e.apply(this,n)},$a(g,"placeholder","information about account"),s(K),s($);var M=o($,2),ma=l(M);ma.__click=[Ra,sa,r],s(M),s(F),s(i),Q(()=>{U(na,a(T)),_(N,a(r).name),J!==(J=a(r).catagory_id)&&(p.value=(p.__value=a(r).catagory_id)==null?"":a(r).catagory_id,La(p,a(r).catagory_id)),_(j,a(r).variant_id),_(A,a(r).price),_(z,a(r).stock_count),_(g,a(r).info)}),B(t,i)};ka(ra,t=>{a(w)?t(la):t(oa,!1)})}B(G,D),xa(),Z()}Ca(["change","click"]);export{se as component};
