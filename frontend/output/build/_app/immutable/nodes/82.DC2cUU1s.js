import{c as k,a as L}from"../chunks/Celh2SBM.js";import{p as P,g as A,i as o,f as B,a as j,h as e,d as a,e as u}from"../chunks/BC9Cf8Q3.js";import{i as q}from"../chunks/BgSg1_cg.js";import{p as m}from"../chunks/CKwprqj2.js";import{s as z,a as g}from"../chunks/BvXhjoeW.js";import{N as E}from"../chunks/Dq_7tmzI.js";import{p as F}from"../chunks/C1rFHlC-.js";import"../chunks/CMsATdMh.js";import"../chunks/C6IzKD7A.js";import{L as G}from"../chunks/JNyEhxU_.js";import{p as H}from"../chunks/DK_nkBS0.js";import{S as J}from"../chunks/DssFBzLS.js";function at(_,v){P(v,!0);const[c,x]=z(),$=()=>g(F,"$page",c),w=()=>g(H,"$params",c),r=$().params.pid,C=w().sid,d=E(A("__api__"));let n=o(void 0),l=o(m([])),i=o(!0),p=o(!0);const N=async()=>{e(i,!0);const t=await d.listContacts(r);t.status===200&&(e(l,m(t.data)),e(i,!1))};(async()=>{e(p,!0);const t=await d.getSale(r,C);t.status===200&&(e(n,m(t.data)),e(p,!1),console.log("@sale_data",t.data))})(),N();let h=u(()=>a(l).reduce((t,s)=>{const S=s.id,b=s.name;return t[S]=b,t},{}));var f=k(),y=B(f);{var D=t=>{G(t,{})},I=t=>{const s=u(()=>Number(r));J(t,{get lines(){return a(n).lines},get data(){return a(n).sale},get pid(){return a(s)},get contactsNameIndex(){return a(h)}})};q(y,t=>{a(i)||a(p)?t(D):t(I,!1)})}L(_,f),j(),x()}export{at as component};
