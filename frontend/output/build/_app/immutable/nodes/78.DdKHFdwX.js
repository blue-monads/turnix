import{c as F,a as e,t as d}from"../chunks/Celh2SBM.js";import{p as G,g as J,f as p,a as K,h as m,d as k,i as w,c as n,b as x,r as c,s as R}from"../chunks/BC9Cf8Q3.js";import{d as M}from"../chunks/x8LL7je8.js";import{i as O}from"../chunks/BgSg1_cg.js";import{p as Q}from"../chunks/CKwprqj2.js";import{s as U,a as P}from"../chunks/BvXhjoeW.js";import"../chunks/CRz77-DP.js";import"../chunks/B857cCpa.js";import{A as V}from"../chunks/CnSBROsQ.js";import{p as W}from"../chunks/C1rFHlC-.js";import{N as X}from"../chunks/Dq_7tmzI.js";import{S as y}from"../chunks/CdW99GA5.js";import{R as Y}from"../chunks/iv_XbVdM.js";import{p as Z}from"../chunks/DK_nkBS0.js";import{L as aa}from"../chunks/JNyEhxU_.js";var ta=d('<ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="true">&rsaquo;</li> <li>Reports</li> <li class="crumb-separator" aria-hidden="true">&rsaquo;</li> <li>Editor</li></ol>'),ra=d('<button class="btn variant-filled btn-sm"><!> Reload</button> <button class="btn variant-filled-secondary btn-sm"><!> Print</button>',1),oa=d('<!> <div class="border border-slate-50 h-full w-full p-2 max-h-[90vh]"><!></div>',1);function $a(A,B){G(B,!0);const[f,N]=U(),S=()=>P(W,"$page",f),q=()=>P(Z,"$params",f);let u=w("");const v=S().params.pid,C=q().template_id,_=J("__api__"),I=X(_);let i=w(!0);(async()=>{m(i,!0);const a=await I.getReportTemplate(v,C);a.status===200&&(m(u,Q(a.data.template)),m(i,!1))})();let t;var b=F(),L=p(b);{var j=a=>{aa(a,{})},z=a=>{var g=oa(),h=p(g);V(h,{$$slots:{lead:(r,H)=>{var o=ta();e(r,o)},trail:(r,H)=>{var o=ra(),s=p(o);s.__click=()=>{t==null||t.reload()};var T=n(s);y(T,{className:"w-4 h-4",name:"play"}),x(),c(s);var l=R(s,2);l.__click=()=>{t==null||t.print()};var D=n(l);y(D,{className:"w-4 h-4",name:"printer"}),x(),c(l),e(r,o)}}});var $=R(h,2),E=n($);Y(E,{pid:v,get htmlSource(){return k(u)},rootApi:_,title:"Report Preview",get handle(){return t},set handle(r){t=r}}),c($),e(a,g)};O(L,a=>{k(i)?a(j):a(z,!1)})}e(A,b),K(),N()}M(["click"]);export{$a as component};
