import{a as n,t as _,c as k}from"../chunks/Celh2SBM.js";import{p as Y,g as Z,f as d,a as aa,c as r,b as I,r as e,s as m,t as y,d as f,n as ra,e as M}from"../chunks/BC9Cf8Q3.js";import{s as U}from"../chunks/BTw4jHF_.js";import{i as q}from"../chunks/BgSg1_cg.js";import{k as D}from"../chunks/C7D5lwhK.js";import{e as ea,i as oa}from"../chunks/BqP2cxbq.js";import{s as sa}from"../chunks/DnAYHjTP.js";import{s as N}from"../chunks/DMueVNEq.js";import{d as ta}from"../chunks/x8LL7je8.js";import{s as la,a as E}from"../chunks/BvXhjoeW.js";import{r as ia}from"../chunks/4yW3OGLw.js";import{p as pa}from"../chunks/DK_nkBS0.js";import{S as G}from"../chunks/CdW99GA5.js";import{g as na}from"../chunks/BRqKVoRW.js";import"../chunks/CRz77-DP.js";import"../chunks/B857cCpa.js";import{A as ma}from"../chunks/CnSBROsQ.js";import{p as ca}from"../chunks/C1rFHlC-.js";var da=_('<h4 class="h4">Project Files</h4>'),fa=(P,u,g)=>{u.trigger({type:"component",component:"new_folder_panel",meta:{onNewName:g}})},va=_('<div class="flex flex-row gap-1"><a class="btn btn-sm variant-filled"><!> <span class="hidden md:inline">Upload</span></a> <button class="btn btn-sm variant-filled-primary"><!> <span class="hidden md:inline">Folder</span></button></div>'),_a=_('<li class="crumb-separator" aria-hidden="">/</li> <li class="crumb"><a class="anchor"> </a></li>',1),ua=_('<li class="crumb-separator" aria-hidden="">/</li> <li class="crumb"> </li>',1),ga=_('<!> <div class="flex justify-between p-2 pl-4"><ol class="breadcrumb"><li class="crumb"><a class="anchor">Home</a></li> <!> <!></ol></div> <div class="px-2 h-full"><div class="card p-2 h-full"><!></div></div>',1);function Ma(P,u){Y(u,!0);const[g,J]=la(),K=()=>E(ca,"$page",g),v=()=>E(pa,"$params",g),h=K().params.pid,L=na(),O=Z("__api__");let z=M(()=>(v().folder||"").split("/")),$=M(()=>v().filename),b;ia(()=>{b=1});const Q=async a=>{await O.addProjectFolder(h,a,v().folder),b=b+1};var F=ga(),S=d(F);ma(S,{$$slots:{lead:(a,t)=>{var o=da();n(a,o)},trail:(a,t)=>{var o=k(),c=d(o);{var l=s=>{var i=va(),p=r(i),W=r(p);G(W,{name:"cloud-arrow-up",className:"h-4 w-4"}),I(2),e(p);var j=m(p,2);j.__click=[fa,L,Q];var X=r(j);G(X,{name:"folder-plus",className:"h-4 w4"}),I(2),e(j),e(i),y(()=>N(p,"href",`/z/pages/portal/project/files/${h??""}/upload?folder=${v().folder||""}`)),n(s,i)};q(c,s=>{v().file||s(l)})}n(a,o)}}});var x=m(S,2),A=r(x),w=r(A),R=r(w);N(R,"href",`/z/pages/portal/project/files/${h??""}`),e(w);var B=m(w,2);ea(B,17,()=>f(z),oa,(a,t,o)=>{var c=_a(),l=m(d(c),2),s=r(l),i=r(s,!0);e(s),e(l),y(p=>{N(s,"href",`/z/pages/portal/project/files/${h??""}?folder=${p??""}`),U(i,f(t)||"")},[()=>f(z).slice(0,o+1).join("/")]),n(a,c)});var T=m(B,2);D(T,()=>f($),a=>{var t=k(),o=d(t);{var c=l=>{var s=ua(),i=m(d(s),2),p=r(i,!0);e(i),y(()=>U(p,f($))),n(l,s)};q(o,l=>{f($)&&l(c)})}n(a,t)}),e(A),e(x);var C=m(x,2),H=r(C),V=r(H);D(V,()=>b,a=>{var t=k(),o=d(t);sa(o,()=>u.children??ra),n(a,t)}),e(H),e(C),n(P,F),aa(),J()}ta(["click"]);export{Ma as component};
