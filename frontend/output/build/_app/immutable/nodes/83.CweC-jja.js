import{a as c,t as v,c as q}from"../chunks/disclose-version.BOfWGsg9.js";import{p as C,g as D,i as w,f as A,a as E,h as f,b as m,c as i,s as g,r as n,e as u}from"../chunks/runtime.CmPLUjJJ.js";import{i as F}from"../chunks/if.DoU_1wcm.js";import{k as M}from"../chunks/key.B3I6Q0YW.js";import{s as N}from"../chunks/attributes.yGGqmlPO.js";import{p as _}from"../chunks/proxy.DKs42Gzo.js";import{s as R,a as y}from"../chunks/store.BN9B0iWR.js";import{S as I}from"../chunks/SvgIcon.Cn9REWmg.js";import{f as W,T as G}from"../chunks/format.BBsRjD1n.js";import{g as H}from"../chunks/stores.C0Vv8-i4.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.Kk8Ai2k7.js";import{A as J}from"../chunks/AppBar.pSMxueMf.js";import{p as K}from"../chunks/index.COSOhg_g.js";import{N as O}from"../chunks/index.Dq_7tmzI.js";import"../chunks/index.DQ4XhlMg.js";import"../chunks/autotable.D5y0wA8l.js";import{L as Q}from"../chunks/loader._7BlSOYJ.js";import{p as U}from"../chunks/stores.DkdCKZTz.js";var V=v('<div slot="lead" class="flex gap-2"><ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="">&rsaquo;</li> <li class="crumb"><a class="anchor">Account</a></li> <li class="crumb-separator" aria-hidden="">&rsaquo;</li> <li class="crumb">Transactions</li></ol></div>'),X=v('<div slot="trail" class="flex gap-2"><button class="inline-flex gap-1"><!> Find</button> <a class="inline-flex gap-1"><!> New</a></div>'),Y=v("<!> <!>",1);function ba(T,j){C(j,!0);const b=R(),z=()=>y(U,"$page",b),B=()=>y(K,"$params",b),l=z().params.pid,L=B().aid,h=O(D("__api__"));H();let d=w(!0),p=w(_([])),$=_({});(async()=>{const s=h.listAccount(l);f(d,!0);const t=await h.listAccTxnWithLines(l,L);if(t.status!==200)return;console.log("@data",t.data);const a=W(t.data);console.log("@data_____",m(p)),(await s).data.forEach(r=>{const e=r.id;$[e]=r.name}),f(p,_(a.txns)),f(d,!1)})();var x=Y(),k=A(x);J(k,{$$slots:{lead:(s,t)=>{var a=V(),o=i(a),r=g(i(o),4),e=i(r);N(e,"href",`/z/pages/portal/projects/books/${l}`),n(r),u(4),n(o),n(a),c(s,a)},trail:(s,t)=>{var a=X(),o=i(a),r=i(o);I(r,{name:"magnifying-glass",className:"w-5 h-5"}),u(),n(o);var e=g(o,2);N(e,"href",`/z/pages/portal/projects/books/${l}/txn/new`);var S=i(e);I(S,{name:"plus",className:"w-5 h-5"}),u(),n(e),n(a),c(s,a)}}});var P=g(k,2);F(P,()=>m(d),s=>{Q(s,{})},s=>{var t=q(),a=A(t);M(a,()=>m(p),o=>{G(o,{get accountsIndex(){return $},get lineData(){return m(p)},pid:l})}),c(s,t)}),c(T,x),E()}export{ba as component};
