import{c as L,a as h}from"../chunks/uYeY98Ep.js";import{p as N,g as X,h as o,f as w,a as x,i as a,d as r}from"../chunks/CRNwc6nF.js";import{i as C}from"../chunks/DPugg-eY.js";import{p}from"../chunks/Ycl9y-hy.js";import{s as U,a as _}from"../chunks/xNd68Pov.js";import{A as K}from"../chunks/D8sggRce.js";import"../chunks/g85Fs1Im.js";import{L as O}from"../chunks/DDEYG0vs.js";import{f as P}from"../chunks/L2qLmvW9.js";import{p as S}from"../chunks/BIb1nXgJ.js";import{N as V}from"../chunks/DQVP37Ea.js";import{p as Y}from"../chunks/bUAA_rse.js";function Q(u,g){N(g,!0);const[m,T]=U(),y=()=>_(Y,"$page",m),E=()=>_(S,"$params",m),n=V(X("__api__"));let e=y().params.pid,i=E().tid,f=o(""),s=o(!0),l=o(p({}));(async()=>{a(s,!0);const t=await n.getTemplate(e,i);t.status===200&&(a(l,p(t.data)),a(s,!1))})();var c=L(),$=w(c);{var k=t=>{O(t,{})},v=t=>{K(t,{get data(){return r(l)},get message(){return r(f)},schema:{fields:[{ftype:"TEXT",key_name:"name",name:"Name"},{ftype:"KEY_VALUE_TEXT",key_name:"contents",name:"Contents"},{ftype:"KEY_VALUE_TEXT",key_name:"result",name:"Result"},{ftype:"LONG_TEXT",key_name:"contentScript",name:"Content script"}],name:"Edit Template",required_fields:["name"]},onSave:async A=>{const d=await n.updateTemplate(e,i,A);if(d.status!==200){a(f,p(d.data));return}P(e)}})};C($,t=>{r(s)?t(k):t(v,!1)})}h(u,c),x(),T()}export{Q as component};
