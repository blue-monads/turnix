import{c as O,a as v,t as C}from"../chunks/disclose-version.BOfWGsg9.js";import{p as Q,g as U,f as $,a as V,h as e,b as i,i as x,c as s,e as k,r as l,s as f,d as W}from"../chunks/runtime.CmPLUjJJ.js";import{d as X}from"../chunks/events.DnYA5zBv.js";import{i as Y}from"../chunks/if.DoU_1wcm.js";import{p as y}from"../chunks/proxy.DKs42Gzo.js";import{s as Z,a as j}from"../chunks/store.BN9B0iWR.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.Kk8Ai2k7.js";import{A as aa}from"../chunks/AppBar.pSMxueMf.js";import{C as ra}from"../chunks/index.63AqBVKj.js";import{h as ta}from"../chunks/index.DtK7kxBu.js";import{p as ea}from"../chunks/stores.BgpLsI8J.js";import{N as oa}from"../chunks/index.Dq_7tmzI.js";import{S as R}from"../chunks/SvgIcon.Cn9REWmg.js";import{R as sa}from"../chunks/RenderBox.BJeVydrf.js";import{p as la}from"../chunks/index.NL8p-q19.js";import{L as ia}from"../chunks/loader._7BlSOYJ.js";var na=C('<ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="true">&rsaquo;</li> <li>Reports</li> <li class="crumb-separator" aria-hidden="true">&rsaquo;</li> <li>Editor</li></ol>'),ma=async(N,n,m,_,b,r)=>{e(n,!0),await m.updateReportTemplate(_,b,{template:i(r)}),e(n,!1)},pa=C('<button class="btn variant-filled btn-sm"><!> Run</button> <button class="btn variant-filled-secondary btn-sm"><!> Print</button> <button class="btn variant-filled-tertiary btn-sm"><!> Save</button>',1),da=C('<!> <div class=" flex flex-col md:flex-row w-full h-[94vh]"><div class="flex-1 w-full md:w-1/2 border border-slate-50 h-1/2 md:h-full overflow-auto"><!></div> <div class="flex-1 w-full md:w-1/2 border border-slate-50 h-1/2 md:h-full p-2"><!></div></div>',1);function Aa(N,n){Q(n,!0);const m=Z(),_=()=>j(ea,"$page",m),b=()=>j(la,"$params",m);let r=x(""),S=x("");const g=_().params.pid,A=b().template_id,B=U("__api__"),P=oa(B);let p=x(!0);(async()=>{e(p,!0);const o=await P.getReportTemplate(g,A);o.status===200&&(e(r,y(o.data.template)),e(p,!1))})();let a;var q=O(),z=$(q);Y(z,()=>i(p),o=>{ia(o,{})},o=>{var H=da(),I=$(H);aa(I,{$$slots:{lead:(t,F)=>{var d=na();v(t,d)},trail:(t,F)=>{var d=pa(),c=$(d);c.__click=()=>{e(S,y(i(r))),a==null||a.reload()};var G=s(c);R(G,{className:"w-4 h-4",name:"play"}),k(),l(c);var u=f(c,2);u.__click=()=>{a==null||a.print()};var J=s(u);R(J,{className:"w-4 h-4",name:"printer"}),k(),l(u);var w=f(u,2);w.__click=[ma,p,P,g,A,r];var K=s(w);R(K,{className:"w-4 h-4",name:"arrow-down-on-square"}),k(),l(w),v(t,d)}}});var L=f(I,2),h=s(L),E=s(h),M=W(ta);ra(E,{get value(){return i(r)},set value(t){e(r,y(t))},get lang(){return i(M)}}),l(h);var T=f(h,2),D=s(T);sa(D,{pid:g,get htmlSource(){return i(S)},rootApi:B,get handle(){return a},set handle(t){a=t}}),l(T),l(L),v(o,H)}),v(N,q),V()}X(["click"]);export{Aa as component};
