import{a as e,t as p}from"../chunks/uYeY98Ep.js";import{p as A,g as w,h as g,f as x,a as j,i,d as u,c as z,b as B,r as C,s as I}from"../chunks/CRNwc6nF.js";import{i as P}from"../chunks/DPugg-eY.js";import{s as L}from"../chunks/Bo8IgBjd.js";import{p as _}from"../chunks/Ycl9y-hy.js";import{s as S,a as q}from"../chunks/xNd68Pov.js";import{g as D}from"../chunks/lZe3btPj.js";import{p as T}from"../chunks/bUAA_rse.js";import{N as E}from"../chunks/Dq_7tmzI.js";import"../chunks/Zb-LiZS2.js";import"../chunks/BmWNUg7v.js";import{A as F}from"../chunks/C9oD0EKA.js";import{S as G}from"../chunks/CTtbmK_c.js";import"../chunks/D8sggRce.js";import{A as H}from"../chunks/g85Fs1Im.js";import{L as J}from"../chunks/DDEYG0vs.js";var K=p('<ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="">&rsaquo;</li> <li class="crumb">Notepad</li></ol>'),M=p('<a class="btn variant-ghost-primary btn-sm"><!> Note</a>'),O=p("<!> <!>",1);function ma(b,v){A(v,!0);const[$,h]=S(),o=q(T,"$page",$).params.pid,l=E(w("__api__"));let r=g(!0),m=g(_([]));const n=async()=>{i(r,!0);const a=await l.listNotepad(o);a.status===200&&(i(m,_(a.data)),i(r,!1))};n();var c=O(),d=x(c);F(d,{$$slots:{lead:(a,s)=>{var t=K();e(a,t)},trail:(a,s)=>{var t=M();L(t,"href",`/z/pages/portal/projects/books/${o}/notepad/new`);var f=z(t);G(f,{className:"h-4 w-4",name:"plus"}),B(),C(t),e(a,t)}}});var N=I(d,2);{var y=a=>{J(a,{})},k=a=>{H(a,{action_key:"id",key_names:[["id","ID"],["title","Title"],["notes","Notes"]],get datas(){return u(m)},color:["ctype"],actions:[{Name:"edit",Class:"variant-filled-primary",Action:async(s,t)=>{D(`/z/pages/portal/projects/books/${o}/notepad/edit?id=${s}`)}},{Name:"delete",Class:"variant-filled-error",Action:async(s,t)=>{(await l.deleteNotepad(o,s)).status===200&&n()}}]})};P(N,a=>{u(r)?a(y):a(k,!1)})}e(b,c),j(),h()}export{ma as component};
