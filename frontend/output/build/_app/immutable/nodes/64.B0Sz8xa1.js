import{c as N,a as h}from"../chunks/Celh2SBM.js";import{p as L,g as b,f as w,a as A,h as t,d as o,i as r}from"../chunks/BC9Cf8Q3.js";import{i as C}from"../chunks/BgSg1_cg.js";import{p as g}from"../chunks/CKwprqj2.js";import{s as I,a as u}from"../chunks/BvXhjoeW.js";import{N as S}from"../chunks/Dq_7tmzI.js";import{p as X}from"../chunks/C1rFHlC-.js";import{A as j}from"../chunks/CMsATdMh.js";import"../chunks/C6IzKD7A.js";import{L as q}from"../chunks/JNyEhxU_.js";import{g as z}from"../chunks/BW30Hxfo.js";import{p as B}from"../chunks/DK_nkBS0.js";function W(_,l){L(l,!0);const[p,y]=I(),T=()=>u(X,"$page",p),k=()=>u(B,"$params",p),e=T().params.pid,m=k().tid,n=S(b("__api__"));let i=r(""),f=r(void 0),s=r(!0);(async()=>{t(s,!0);const a=await n.getTax(e,m);a.status===200&&(t(f,g(a.data)),t(s,!1))})();const $=async a=>{const d=await n.updateTax(e,m,a);if(d.status!==200){t(i,g(d.data.message));return}z(`/z/pages/portal/projects/books/${e}/inventory/tax`)};var c=N(),v=w(c);{var x=a=>{q(a,{})},E=a=>{j(a,{get message(){return o(i)},get data(){return o(f)},schema:{fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Type",ftype:"SELECT",key_name:"ttype",options:["item_percent"]},{name:"Rate",ftype:"INT",key_name:"rate"},{name:"Info",ftype:"LONG_TEXT",key_name:"info"}],name:"Edit Catagory",required_fields:[]},onSave:$})};C(v,a=>{o(s)?a(x):a(E,!1)})}h(_,c),A(),y()}export{W as component};
