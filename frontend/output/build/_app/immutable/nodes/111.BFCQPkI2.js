import{a as t,t as b,c as q,b as g}from"../chunks/uYeY98Ep.js";import{p as A,g as B,f as D,t as F,a as E,i as x,d as s,h as S,c as u,r as $,b as G,s as H}from"../chunks/CRNwc6nF.js";import{s as J}from"../chunks/CdHdDXtF.js";import{i as U}from"../chunks/DPugg-eY.js";import{d as K}from"../chunks/CHLatDmB.js";import{p as L}from"../chunks/Ycl9y-hy.js";import{s as M,a as O}from"../chunks/xNd68Pov.js";import"../chunks/dt-uJVo0.js";import"../chunks/BmWNUg7v.js";import{F as Q}from"../chunks/CDiAXeqN.js";import{p as R}from"../chunks/BIb1nXgJ.js";import{S as T}from"../chunks/CTtbmK_c.js";import{g as V}from"../chunks/lZe3btPj.js";var W=b('<div slot="lead" class="flex justify-center"><!></div>'),X=b("<strong>Upload a file</strong> or drag and drop",1),Y=async(h,n,c,v,p)=>{var o;x(n,!0);const m=c().folder||"";await v.addSelfFile((o=s(p))==null?void 0:o.name,m,s(p)),x(n,!1),V(`/z/pages/portal/self/files?folder=${m}`)},Z=b('<!> <div class="flex justify-end py-2"><button class="btn btn-sm variant-filled"><!></button></div>',1);function ca(h,n){A(n,!0);const[c,v]=M(),p=()=>O(R,"$params",c),m=B("__api__");let o=S(!1),l=S(void 0);const j=async a=>{console.log("onDrop",a),x(l,L(a.target.files[0]))};var y=Z(),k=D(y);Q(k,{name:"files",$$events:{change:j},$$slots:{lead:(a,i)=>{var e=W(),_=u(e);T(_,{name:"arrow-up-tray",className:"w-6 h-6"}),$(e),t(a,e)},message:(a,i)=>{var e=q(),_=D(e);{var I=r=>{var d=g();F(()=>J(d,s(l).name)),t(r,d)},N=r=>{var d=X();G(),t(r,d)};U(_,r=>{s(l)?r(I):r(N,!1)})}t(a,e)}}});var w=H(k,2),f=u(w);f.__click=[Y,o,p,m,l];var z=u(f);{var P=a=>{var i=g("Uploading...");t(a,i)},C=a=>{var i=g("Upload");t(a,i)};U(z,a=>{s(o)?a(P):a(C,!1)})}$(f),$(w),F(()=>f.disabled=!s(l)||s(o)),t(h,y),E(),v()}K(["click"]);export{ca as component};
