import{c as h,a as L}from"../chunks/uYeY98Ep.js";import{p as X,g as $,f as v,a as A,i as o,d as m,h as i}from"../chunks/CRNwc6nF.js";import{i as N}from"../chunks/DPugg-eY.js";import{p as C}from"../chunks/Ycl9y-hy.js";import{s as S,a as f}from"../chunks/xNd68Pov.js";import{g as w}from"../chunks/lZe3btPj.js";import{p as x}from"../chunks/bUAA_rse.js";import{N as G}from"../chunks/Dq_7tmzI.js";import{A as I}from"../chunks/DSROIJzG.js";import"../chunks/g85Fs1Im.js";import{L as O}from"../chunks/DDEYG0vs.js";import{p as b}from"../chunks/BIb1nXgJ.js";function V(d,c){X(c,!0);const[s,y]=S(),_=()=>f(x,"$page",s),l=()=>f(b,"$params",s),a=_().params.pid,n=G($("__api__")),T=l().cid;let t=i(!0),r=i(void 0);(async()=>{o(t,!0);const e=await n.getContact(a,T);e.status===200&&(o(r,C(e.data)),o(t,!1))})();var p=h(),g=v(p);{var u=e=>{O(e,{})},k=e=>{I(e,{get data(){return m(r)},schema:{name:"Edit Contact",fields:[{name:"Name",ftype:"TEXT",key_name:"name"},{name:"Info",ftype:"LONG_TEXT",key_name:"info"},{name:"Type",ftype:"SELECT",key_name:"ctype",options:["vendor","client"]},{name:"Email",ftype:"EMAIL",key_name:"email"},{name:"Phone",ftype:"TEXT",key_name:"phone"},{name:"Second phone",ftype:"TEXT",key_name:"phone2"},{name:"Third phone",ftype:"TEXT",key_name:"phone3"},{name:"Address",ftype:"LONG_TEXT",key_name:"address"},{name:"Second Address",ftype:"LONG_TEXT",key_name:"address2"}],required_fields:["name"]},onSave:async E=>{(await n.addContact(a,E)).status===200&&w(`/z/pages/portal/projects/books/${a}/contacts`)}})};N(g,e=>{m(t)?e(u):e(k,!1)})}L(d,p),A(),y()}export{V as component};
