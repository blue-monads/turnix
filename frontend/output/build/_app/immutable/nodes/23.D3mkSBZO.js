import{a as t,t as h,c as E,b as $}from"../chunks/uYeY98Ep.js";import{p as G,g as H,f as D,t as F,a as J,i as b,d as s,h as P,c as u,r as x,b as K,s as L}from"../chunks/CRNwc6nF.js";import{s as M}from"../chunks/CdHdDXtF.js";import{i as U}from"../chunks/DPugg-eY.js";import{d as O}from"../chunks/CHLatDmB.js";import{p as Q}from"../chunks/Ycl9y-hy.js";import{s as R,a as z}from"../chunks/xNd68Pov.js";import"../chunks/dt-uJVo0.js";import"../chunks/BmWNUg7v.js";import{F as T}from"../chunks/CDiAXeqN.js";import{p as V}from"../chunks/bUAA_rse.js";/* empty css                */import{p as W}from"../chunks/BIb1nXgJ.js";import{S as X}from"../chunks/CTtbmK_c.js";import{g as Y}from"../chunks/lZe3btPj.js";var Z=h('<div slot="lead" class="flex justify-center"><!></div>'),aa=h("<strong>Upload a file</strong> or drag and drop",1),ta=async(y,i,n,v,l,m)=>{b(i,!0);const f=n().folder||"";await v.addProjectFile(l,s(m).name,f,s(m)),b(i,!1),Y(`/z/pages/portal/project/files/${l}?folder=${f}`)},sa=h('<!> <div class="flex justify-end py-2"><button class="btn btn-sm variant-filled"><!></button></div>',1);function ua(y,i){G(i,!0);const[n,v]=R(),l=()=>z(V,"$page",n),m=()=>z(W,"$params",n),f=l().params.pid,S=H("__api__");let g=P(!1),r=P(void 0);const C=async a=>{console.log("onDrop",a),b(r,Q(a.target.files[0]))};var j=sa(),k=D(j);T(k,{name:"files",$$events:{change:C},$$slots:{lead:(a,p)=>{var o=Z(),_=u(o);X(_,{name:"arrow-up-tray",className:"w-6 h-6"}),x(o),t(a,o)},message:(a,p)=>{var o=E(),_=D(o);{var A=e=>{var d=$();F(()=>M(d,s(r).name)),t(e,d)},B=e=>{var d=aa();K(),t(e,d)};U(_,e=>{s(r)?e(A):e(B,!1)})}t(a,o)}}});var w=L(k,2),c=u(w);c.__click=[ta,g,m,S,f,r];var I=u(c);{var N=a=>{var p=$("Uploading...");t(a,p)},q=a=>{var p=$("Upload");t(a,p)};U(I,a=>{s(g)?a(N):a(q,!1)})}x(c),x(w),F(()=>c.disabled=!s(r)||s(g)),t(y,j),J(),v()}O(["click"]);export{ua as component};
