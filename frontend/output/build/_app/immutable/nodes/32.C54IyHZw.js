import"../chunks/Celh2SBM.js";import{p as i,g as _,a as d,d as f,h as c,i as g}from"../chunks/BC9Cf8Q3.js";import{p as u}from"../chunks/CKwprqj2.js";import{s as y,a as l}from"../chunks/BvXhjoeW.js";import{A as $}from"../chunks/CMsATdMh.js";import"../chunks/C6IzKD7A.js";/* empty css                */import{p as T}from"../chunks/DK_nkBS0.js";import{g as C}from"../chunks/BW30Hxfo.js";function j(s,p){i(p,!0);const[o,r]=y();let e=l(T,"$params",o).pid;const m=_("__api__");let a=g("");$(s,{data:{},get message(){return f(a)},schema:{fields:[{ftype:"TEXT",key_name:"name",name:"Name"},{ftype:"SELECT",key_name:"ptype",name:"type",options:["sideapp_v1"]},{ftype:"LONG_TEXT",key_name:"server_code",name:"Server Code"},{ftype:"LONG_TEXT",key_name:"client_code",name:"Client Code"}],name:"New Plugin",required_fields:["name"]},onSave:async n=>{const t=await m.addProjectPlugin(e,n);if(t.status!==200){c(a,u(t.data));return}C(`/z/pages/portal/project/plugins?pid=${e}`)}}),d(),r()}export{j as component};
