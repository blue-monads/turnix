import{a as p,t as d}from"../chunks/disclose-version.BOfWGsg9.js";import{p as k,g as w,i as y,f as C,a as N,h as l,b as c,c as x,e as z,r as L,s as S,d as E}from"../chunks/runtime.CmPLUjJJ.js";import{d as I}from"../chunks/events.DnYA5zBv.js";import{i as R}from"../chunks/if.DoU_1wcm.js";import{p as h}from"../chunks/proxy.DKs42Gzo.js";import{s as B,a as D}from"../chunks/store.BN9B0iWR.js";import{p as M}from"../chunks/index.CqTR9n69.js";import"../chunks/index.DQ4XhlMg.js";import{A as U}from"../chunks/autotable.D5y0wA8l.js";import{L as q}from"../chunks/loader._7BlSOYJ.js";import{g as m}from"../chunks/entry.SbDQTVSd.js";import{g as F}from"../chunks/stores.C0Vv8-i4.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.Kk8Ai2k7.js";import{A as G}from"../chunks/AppBar.pSMxueMf.js";import{S as H}from"../chunks/SvgIcon.Cn9REWmg.js";var J=d('<h4 class="h4">Projects Plugins</h4>'),K=(g,r,i)=>{r.trigger({type:"component",component:"project_new_plugin_picker",meta:{pid:i}})},O=d('<button class="btn btn-sm variant-ghost-secondary"><!> Plugin</button>'),Q=d("<!> <!>",1);function lt(g,r){k(r,!0);const i=B(),A=()=>D(M,"$params",i),u=w("__api__");let s=A().pid,f=y(h([])),n=y(!0);const v=async()=>{l(n,!0);const a=await u.listProjectPlugins(s);a.status===200&&(l(f,h(a.data)),l(n,!1))};v();const b=F(),P=async a=>{(await u.removeProjectPlugin(s,a)).status===200&&v()};var _=Q(),$=C(_);G($,{$$slots:{lead:(a,e)=>{var t=J();p(a,t)},trail:(a,e)=>{var t=O();t.__click=[K,b,s];var o=x(t);H(o,{name:"plus",className:"w-6 h-6"}),z(),L(t),p(a,t)}}});var j=S($,2);R(j,()=>c(n),a=>{q(a,{})},a=>{var e=E(()=>[{Name:"Run",Class:"variant-filled-success",Action:async(t,o)=>{console.log("@run",t,o),m(`/z/pages/portal/project/plugins/run?pid=${s}&id=${t}`)}},{Name:"Live Editor",Class:"variant-filled-primary",Action:async(t,o)=>{console.log("@view",t,o),m(`/z/pages/portal/project/plugins/view?pid=${s}&id=${t}`)}},{Name:"Raw Edit",Class:"variant-filled-secondary",Action:async(t,o)=>{console.log("@edit",t,o),m(`/z/pages/portal/project/plugins/edit?pid=${s}&id=${t}`)}},{Name:"remove",Class:"variant-filled-error",Action:P}]);U(a,{get datas(){return c(f)},action_key:"id",key_names:[["id","ID"],["name","Name"],["ptype","type"],["created_at","Created At"],["updated_at","Updated At"]],color:["ptype"],get actions(){return c(e)}})}),p(g,_),N()}I(["click"]);export{lt as component};
