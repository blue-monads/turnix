import{c as I,a as p,t as A}from"../chunks/uYeY98Ep.js";import{p as H,j as X,f as x,a as M,n as T,i as U,h as P,d as e,e as S,c as s,s as g,r as o,t as R}from"../chunks/CRNwc6nF.js";import{s as Y}from"../chunks/CdHdDXtF.js";import{i as N}from"../chunks/DPugg-eY.js";import{e as Z,i as ee}from"../chunks/Bbg2O9W9.js";import{s as q}from"../chunks/hMQkD81S.js";import{s as ae}from"../chunks/Bo8IgBjd.js";import{s as j}from"../chunks/XLtYruJy.js";import{d as te}from"../chunks/CHLatDmB.js";import{p as re}from"../chunks/Ycl9y-hy.js";import{s as se,a as oe}from"../chunks/xNd68Pov.js";import{r as ne}from"../chunks/VksgPlDO.js";import{p as ie}from"../chunks/bUAA_rse.js";import{S as $}from"../chunks/CTtbmK_c.js";import{o as le}from"../chunks/BV-QqiEb.js";import{a as pe}from"../chunks/upsvKRUO.js";const de=async n=>{console.log("buildApi",n);const a=pe.create({baseURL:n,headers:{NodeCTRLKey:"fixme"}});return{getStatus:async()=>await a.get("/z/eapi/status"),startInstance:async()=>await a.post("/z/eapi/start",{})}};function ce(n,a){H(a,!0),X("__start_api__",a.api);var d=I(),u=x(d);{var v=r=>{var f=I(),c=x(f);q(c,()=>a.children??T),p(r,f)};N(u,r=>{a.api&&r(v)})}p(n,d),M()}var me=A("<a><!> </a>"),ge=(n,a)=>{U(a,!e(a))},ue=A('<div id="sidebar"><div class="p-2 border text-center variant-outline uppercase font-medium font-token"><h4>Startpage</h4></div> <!></div> <div class="absolute md:bottom-8"><button class=" rounded border-2 bg-slate-100 p-1"><span class="hidden md:block"><!></span> <span class="block md:hidden"><!></span></button></div>',1),ve=A('<div class="flex relative h-screen flex-col md:flex-row md:w-full border-r border-gray-800"><!> <main class="grow w-full h-screen overflow-auto"><!></main></div>');function Ke(n,a){H(a,!0);const[d,u]=se(),v=()=>oe(ie,"$page",d);v().params.pid;let r=P(!0),f=[{name:"Home",link:"/z/pages/startpage",icon:"home",key:"home"},{name:"Peers",link:"/z/pages/startpage/peers",icon:"rss",key:"peers"},{name:"Extend",link:"/z/pages/startpage/extend",icon:"puzzle-piece",key:"extend"},{name:"Easy Share",link:"/z/pages/startpage/share",icon:"share",key:"share"},{name:"Setting",link:"/z/pages/startpage/setting",icon:"cog",key:"setting"}],c=S(()=>v().url.pathname.split("/").at(4));ne(()=>{console.log(e(c))}),le(()=>{const t=window;t.__handle_rpc__=function(l,i){console.log("@bang/bang"),console.log(l,i)}});let y=P(void 0);de(location.origin).then(t=>{U(y,re(t))});var k=ve(),C=s(k);{var B=t=>{var l=ue(),i=x(l),_=g(s(i),2);Z(_,17,()=>f,ee,(V,b)=>{var m=me(),L=s(m);$(L,{className:"h-4 w-4 mr-1",get name(){return e(b).icon}});var W=g(L);o(m),R(()=>{ae(m,"href",e(b).link),j(m,`flex items-center px-2 py-2 w-full text-gray-600 transition-colors duration-300 transform rounded-lg hover:bg-gray-300 hover:text-gray-700 ${(e(c)===e(b).key?"bg-gray-400 text-gray-900":"")??""}`),Y(W,` ${e(b).name??""}`)}),p(V,m)}),o(i);var h=g(i,2),w=s(h);w.__click=[ge,r];var z=s(w),G=s(z);const J=S(()=>e(r)?"chevron-double-left":"chevron-double-right");$(G,{className:"h-4 w-4",get name(){return e(J)}}),o(z);var K=g(z,2),O=s(K);const Q=S(()=>e(r)?"chevron-double-up":"chevron-double-down");$(O,{className:"h-4 w-4",get name(){return e(Q)}}),o(K),o(w),o(h),R(()=>j(i,`p-4 flex flex-col gap-2 transition-all duration-300 ease-in-out bg-blend-darken bg-gradient-to-b from-purple-50 shadow
${(e(r)?"w-48":"hidden")??""}`)),p(t,l)};N(C,t=>{e(c)&&t(B)})}var E=g(C,2),D=s(E);{var F=t=>{ce(t,{get api(){return e(y)},children:(l,i)=>{var _=I(),h=x(_);q(h,()=>a.children??T),p(l,_)},$$slots:{default:!0}})};N(D,t=>{e(y)&&t(F)})}o(E),o(k),p(n,k),M(),u()}te(["click"]);export{Ke as component};
