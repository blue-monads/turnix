import{a as o,t as r}from"../chunks/disclose-version.BOfWGsg9.js";import{p as b,g as y,i as x,f as h,a as k,h as A,b as m,c as N,e as w,r as T,s as I,d as j}from"../chunks/runtime.CmPLUjJJ.js";import{s as z}from"../chunks/attributes.yGGqmlPO.js";import{p as c}from"../chunks/proxy.DKs42Gzo.js";import{s as B,a as C}from"../chunks/store.BN9B0iWR.js";import{S as P}from"../chunks/SvgIcon.Cn9REWmg.js";import{N as S}from"../chunks/index.Dq_7tmzI.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.Kk8Ai2k7.js";import{A as q}from"../chunks/AppBar.pSMxueMf.js";import{p as D}from"../chunks/stores.DkdCKZTz.js";import"../chunks/index.DQ4XhlMg.js";import{A as R}from"../chunks/autotable.D5y0wA8l.js";/* empty css                                                     */import{g as E}from"../chunks/entry.CyBKS7ox.js";var F=r('<ol class="breadcrumb"><li class="crumb"><a class="anchor" href="/z/pages/portal/projects/books">Books</a></li> <li class="crumb-separator" aria-hidden="">&rsaquo;</li> <li class="crumb">Taxes</li></ol>'),G=r('<a class="btn variant-ghost-primary btn-sm"><!> Tax</a>'),H=r("<!> <!>",1);function oa(d,f){b(f,!0);const g=B(),s=C(D,"$page",g).params.pid,e=S(y("__api__"));let i=x(c([]));const p=async()=>{const a=await e.listTax(s);a.status===200&&A(i,c(a.data))};p();var n=H(),l=h(n);q(l,{$$slots:{lead:(a,_)=>{var t=F();o(a,t)},trail:(a,_)=>{var t=G();z(t,"href",`/z/pages/portal/projects/books/${s}/inventory/tax/new`);var $=N(t);P($,{className:"h-4 w-4",name:"plus"}),w(),T(t),o(a,t)}}});var v=I(l,2),u=j(()=>[{Name:"edit",Class:"variant-filled-secondary",Action:async a=>{E(`/z/pages/portal/projects/books/${s}/inventory/tax/edit?pid=${s}&tid=${a}`)}},{Name:"delete",Class:"variant-filled-error",Action:async a=>{await e.deleteTax(s,a),p()}}]);R(v,{action_key:"id",key_names:[["id","ID"],["name","Name"],["ttype","Type"],["info","Info"],["rate","Rate"]],get datas(){return m(i)},color:["ttype"],get actions(){return m(u)}}),o(d,n),k()}export{oa as component};
